<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>è¯¦æƒ… | ğŸ”ª åˆ€åˆ€å°ç«™</title>
    <meta name="description" content="åˆ€åˆ€å°ç«™">
    <link rel="preload stylesheet" href="/blog/assets/style.67d6fa4e.css" as="style">
    
    <script type="module" src="/blog/assets/app.f451efef.js"></script>
    <link rel="preload" href="/blog/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/blog/assets/chunks/framework.2ee92742.js">
    <link rel="modulepreload" href="/blog/assets/chunks/theme.9c4244a0.js">
    <link rel="modulepreload" href="/blog/assets/project_lingsi_music_APP_detail.md.ca192fe4.lean.js">
    <link rel="icon" href="./favicon.ico">
    <meta property="og:title" content="åˆ€åˆ€åšå®¢">
    <meta property="og:site_name" content="åˆ€åˆ€åšå®¢">
    <meta property="og:type" content="website">
    <meta property="og:description" content="å‰ç«¯æ•™ç¨‹">
    <meta property="og:url" content="https://duyidao.gitee.io/blog/">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5a346dfe><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5a346dfe data-v-ae24b3ad><div class="VPNavBar has-sidebar" data-v-ae24b3ad data-v-a0fd61f4><div class="container" data-v-a0fd61f4><div class="title" data-v-a0fd61f4><div class="VPNavBarTitle has-sidebar" data-v-a0fd61f4 data-v-86d1bed8><a class="title" href="/blog/" data-v-86d1bed8><!--[--><!--]--><!--[--><img class="VPImage logo" src="/blog/favicon.ico" alt data-v-8426fc1a><!--]--><!--[-->ã€ åˆ€åˆ€å°ç«™ ã€<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-a0fd61f4><div class="curtain" data-v-a0fd61f4></div><div class="content-body" data-v-a0fd61f4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-a0fd61f4><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a0fd61f4 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>ğŸ’» å‰ç«¯çŸ¥è¯†</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/learn/HTML/" data-v-43f1e123><!--[-->HTML<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/learn/CSS/" data-v-43f1e123><!--[-->CSS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/learn/Javascript/" data-v-43f1e123><!--[-->JavaScript<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/learn/vue2/%E6%8C%87%E4%BB%A4.html" data-v-43f1e123><!--[-->Vue2<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/learn/Vue3/vue3%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA.html" data-v-43f1e123><!--[-->Vue3<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/learn/React/" data-v-43f1e123><!--[-->React<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/learn/TypeScript/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE.html" data-v-43f1e123><!--[-->TypeScript<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/learn/Node/" data-v-43f1e123><!--[-->Node<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/learn/Git/%E6%BD%9C%E5%9C%A8%E7%9A%84BUG/%E5%A4%A7%E5%B0%8F%E5%86%99%E8%A7%84%E5%88%99.html" data-v-43f1e123><!--[-->Git<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/learn/Reg/" data-v-43f1e123><!--[-->æ­£åˆ™è¡¨è¾¾å¼<!--]--></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-e7ea1737 data-v-69e747b5><!----><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link" href="/blog/learn/%E6%9D%82%E6%8A%80%E6%8B%BE%E8%B0%88/Vue/vue3%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9Aproxy%E5%8E%9F%E7%90%86.html" data-v-43f1e123><!--[-->æ‚æŠ€æ‹¾è°ˆ<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-e7ea1737 data-v-69e747b5><!----><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link" href="/blog/learn/%E5%AD%A6%E8%80%8C%E6%97%B6%E4%B9%A0%E4%B9%8B/%E6%93%8D%E4%BD%9C%E5%86%85%E5%B5%8Cifrname%E4%B8%8E%E4%BC%A0%E9%80%92%E6%B6%88%E6%81%AF.html" data-v-43f1e123><!--[-->å­¦è€Œæ—¶ä¹ ä¹‹<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-e7ea1737 data-v-69e747b5><!----><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link" href="/blog/learn/%E9%9D%A2%E8%AF%95%E9%B8%AD/%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95%E6%89%8B%E5%86%99%E5%8E%9F%E7%90%86.html" data-v-43f1e123><!--[-->é¢è¯•é¸­<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>ğŸ’¾ é¡¹ç›®æˆ–åŠŸèƒ½æ¨¡å—</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/project/lingsi/" data-v-43f1e123><!--[-->çµæ€<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/project/caixun/elk/" data-v-43f1e123><!--[-->å½©è®¯<!--]--></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-e7ea1737 data-v-69e747b5><!----><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link" href="/blog/project/myself/" data-v-43f1e123><!--[-->è‡ªä¸»å­¦ä¹ <!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-e7ea1737 data-v-69e747b5><!----><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link" href="/blog/project/demo/JavaScript%E3%80%8E%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9%E3%80%8F.html" data-v-43f1e123><!--[-->åŠŸèƒ½æ¨¡å—<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>ğŸ§Š éƒ¨ç½²</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/vitePress/" data-v-43f1e123><!--[-->ğŸŒ©ï¸ VitePress<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>ğŸ“´ æœ‰ç”¨çš„å¸®åŠ©</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/help/" data-v-43f1e123><!--[-->ğŸƒ å¼€å‘å¸®åŠ©<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/help/%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3.html" data-v-43f1e123><!--[-->ğŸ“• å®˜æ–¹æ–‡æ¡£<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>â­ å…³äº</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/about/" data-v-43f1e123><!--[-->â­ å…³äºæˆ‘<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/blog/about/blog.html" data-v-43f1e123><!--[-->ğŸ”ª å…³äºåˆ€åˆ€å°ç«™<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a0fd61f4 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-e6aabb21 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-a0fd61f4 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://gitee.com/duyidao" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-a0fd61f4 data-v-40855f84 data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9c007e85><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-9c007e85><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://gitee.com/duyidao" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a0fd61f4 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-5a346dfe data-v-79c8c1df><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-79c8c1df><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-79c8c1df><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-79c8c1df>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-79c8c1df data-v-1c15a60a><button data-v-1c15a60a>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-5a346dfe data-v-b00e2fdd><div class="curtain" data-v-b00e2fdd></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b00e2fdd><span class="visually-hidden" id="sidebar-aria-label" data-v-b00e2fdd> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 has-active" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b> ğŸ“± APP</h2><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/project/lingsi/music/APP/login.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ç™»å½•</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/project/lingsi/music/APP/tabbar.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>tabbar</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/project/lingsi/music/APP/detail.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>è¯¦æƒ…</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/project/lingsi/music/APP/share.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>åˆ†äº«</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/project/lingsi/music/APP/test.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æµ‹è¯•</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/project/lingsi/music/APP/do.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æ“ä½œ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/project/lingsi/music/APP/sku.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>å•†å“</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/project/lingsi/music/APP/pay.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æ”¯ä»˜</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/project/lingsi/music/APP/update.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æ›´æ–°</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/project/lingsi/music/APP/userinfo.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ä¸ªäºº</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>ğŸ’» H5</h2><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/project/lingsi/music/H5/" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>æµ·æŠ¥é¡µ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/blog/project/lingsi/" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>ğŸ—‘ è¿”å›</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5a346dfe data-v-669faec9><div class="VPDoc has-sidebar has-aside" data-v-669faec9 data-v-6b87e69f><!--[--><!--]--><div class="container" data-v-6b87e69f><div class="aside" data-v-6b87e69f><div class="aside-curtain" data-v-6b87e69f></div><div class="aside-container" data-v-6b87e69f><div class="aside-content" data-v-6b87e69f><div class="VPDocAside" data-v-6b87e69f data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-d330b1bb><div class="content" data-v-d330b1bb><div class="outline-marker" data-v-d330b1bb></div><div class="outline-title" role="heading" aria-level="2" data-v-d330b1bb>æˆ‘æ˜¯ä¸€ä¸ªç›®å½•å“¦~</div><nav aria-labelledby="doc-outline-aria-label" data-v-d330b1bb><span class="visually-hidden" id="doc-outline-aria-label" data-v-d330b1bb> Table of Contents for current page </span><ul class="root" data-v-d330b1bb data-v-d0ee3533><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6b87e69f><div class="content-container" data-v-6b87e69f><!--[--><!--]--><!----><main class="main" data-v-6b87e69f><div style="position:relative;" class="vp-doc _blog_project_lingsi_music_APP_detail" data-v-6b87e69f><div><h1 id="è¯¦æƒ…" tabindex="-1">è¯¦æƒ… <a class="header-anchor" href="#è¯¦æƒ…" aria-label="Permalink to &quot;è¯¦æƒ…&quot;">â€‹</a></h1><h2 id="éŸ³é¢‘è¯¦æƒ…" tabindex="-1">éŸ³é¢‘è¯¦æƒ… <a class="header-anchor" href="#éŸ³é¢‘è¯¦æƒ…" aria-label="Permalink to &quot;éŸ³é¢‘è¯¦æƒ…&quot;">â€‹</a></h2><p>éŸ³é¢‘è¯¦æƒ…é¡µéœ€è¦ä¸€ä¸ªæ’­æ”¾éŸ³é¢‘çš„æ§ä»¶ï¼Œåœ¨æœ€å¼€å§‹çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯ <code>uniapp</code> æä¾›çš„ <code>audio</code> ç»„ä»¶ï¼Œåœ¨appä¸Šè¿è¡Œæ— è¯¯ï¼Œä½†æ˜¯åœ¨h5ä¸Šè¿è¡Œæ—¶æŠ¥é”™ï¼Œå‘ç°å…¶ç»„ä»¶åœæ­¢ç»´æŠ¤ã€‚æ ¹æ®é¡¹ç›®ç»ç†çš„è¦æ±‚ï¼Œä¸ºäº†ä¸ç»™åç»­åŸ‹é›·ï¼Œæ”¹æˆä½¿ç”¨ API <code> uni.createInnerAudioContext()</code> çš„å½¢å¼ã€‚</p><h3 id="éŸ³é¢‘ç»„ä»¶" tabindex="-1">éŸ³é¢‘ç»„ä»¶ <a class="header-anchor" href="#éŸ³é¢‘ç»„ä»¶" aria-label="Permalink to &quot;éŸ³é¢‘ç»„ä»¶&quot;">â€‹</a></h3><h4 id="åˆæ­¥å®ç°" tabindex="-1">åˆæ­¥å®ç° <a class="header-anchor" href="#åˆæ­¥å®ç°" aria-label="Permalink to &quot;åˆæ­¥å®ç°&quot;">â€‹</a></h4><h5 id="æ€è·¯" tabindex="-1">æ€è·¯ <a class="header-anchor" href="#æ€è·¯" aria-label="Permalink to &quot;æ€è·¯&quot;">â€‹</a></h5><p>éŸ³é¢‘ API è¯¦æƒ…æŸ¥çœ‹ <a href="https://uniapp.dcloud.net.cn/api/media/audio-context.html#createinneraudiocontext" target="_blank" rel="noreferrer">éŸ³é¢‘ç»„ä»¶æ§åˆ¶</a> å®˜æ–¹æ–‡æ¡£ã€‚è¯¥æ–¹æ³•ç”¨äºåˆ›å»ºå¹¶è¿”å›å†…éƒ¨ audio ä¸Šä¸‹æ–‡ <code>innerAudioContext</code> å¯¹è±¡ã€‚</p><p>æˆ‘ä»¬éœ€è¦å®ç°ä¸‹æ–¹çš„æ•ˆæœï¼š</p><p><a href="https://imgse.com/i/pCoPrRS" target="_blank" rel="noreferrer"><img src="https://s1.ax1x.com/2023/07/17/pCoPrRS.png" alt="pCoPrRS.png"></a></p><p>æˆ‘ä»¬éœ€è¦éŸ³é¢‘çš„æ€»æ—¶é•¿ã€å½“å‰æ’­æ”¾çš„æ—¶é•¿ã€è¿›åº¦æ¡ã€æš‚åœæ’­æ”¾çš„æ§åˆ¶ç­‰ã€‚</p><p>é¦–å…ˆæŸ¥çœ‹æ–‡æ¡£çš„ä»£ç ç¤ºä¾‹ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">innerAudioContext</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> uni.</span><span style="color:#B392F0;">createInnerAudioContext</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">innerAudioContext.autoplay </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">innerAudioContext.src </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-hello-uniapp/2cc220e0-c27a-11ea-9dfb-6da8e309e0d8.mp3&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">innerAudioContext.</span><span style="color:#B392F0;">onPlay</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;å¼€å§‹æ’­æ”¾&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"><span style="color:#E1E4E8;">innerAudioContext.</span><span style="color:#B392F0;">onError</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(res.errMsg);</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(res.errCode);</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">innerAudioContext</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> uni.</span><span style="color:#6F42C1;">createInnerAudioContext</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">innerAudioContext.autoplay </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">innerAudioContext.src </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-hello-uniapp/2cc220e0-c27a-11ea-9dfb-6da8e309e0d8.mp3&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">innerAudioContext.</span><span style="color:#6F42C1;">onPlay</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;å¼€å§‹æ’­æ”¾&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"><span style="color:#24292E;">innerAudioContext.</span><span style="color:#6F42C1;">onError</span><span style="color:#24292E;">((</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(res.errMsg);</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(res.errCode);</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><p>ä»ç¤ºä¾‹ä»£ç å¯ä»¥å¾—çŸ¥ï¼Œä½¿ç”¨ <code>uni.createInnerAudioContext()</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªéŸ³é¢‘å¯¹è±¡ï¼Œé€šè¿‡ <code>src</code> å±æ€§æ¥æ”¶éŸ³é¢‘çš„è·¯å¾„ï¼Œ<code>autoplay</code> ä¸ºæ˜¯å¦è‡ªåŠ¨æ’­æ”¾ï¼Œ<code>onPlay</code> å¼€å§‹æ’­æ”¾åè§¦å‘å›è°ƒå‡½æ•°çš„æ–¹æ³•ï¼Œ<code>onError</code> éŸ³é¢‘å‘ç”Ÿé”™è¯¯è§¦å‘å›è°ƒå‡½æ•°çš„æ–¹æ³•Â·Â·Â·Â·Â·Â·</p><p>æŸ¥çœ‹ <code>innerAudioContext</code> å¯¹è±¡å±æ€§åˆ—è¡¨å’Œæ–¹æ³•åˆ—è¡¨ï¼Œæ‰¾åˆ°äº†æˆ‘ä»¬éœ€è¦çš„å‡ ä¸ªå‚æ•°ï¼š</p><ul><li><code>currentTime</code> ï¼šå½“å‰éŸ³é¢‘çš„æ’­æ”¾ä½ç½®ï¼ˆå•ä½ï¼šsï¼‰ï¼Œåªæœ‰åœ¨å½“å‰æœ‰åˆæ³•çš„ <code>src</code> æ—¶è¿”å›ã€‚åœ¨éŸ³é¢‘æ’­æ”¾äº‹ä»¶å†…ä¹Ÿè¦å®æ—¶è·å–æ•°æ®å¹¶èµ‹å€¼ã€‚</li><li><code>paused</code> ï¼šå½“å‰æ˜¯æ˜¯å¦æš‚åœæˆ–åœæ­¢çŠ¶æ€ï¼Œ<code>true</code> è¡¨ç¤ºæš‚åœæˆ–åœæ­¢ï¼Œ<code>false</code> è¡¨ç¤ºæ­£åœ¨æ’­æ”¾ã€‚é€šè¿‡è¯¥çŠ¶æ€åˆ¤æ–­æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶æ˜¯è§¦å‘æ’­æ”¾è¿˜æ˜¯æš‚åœã€‚</li><li><code>duration</code> ï¼šå½“å‰éŸ³é¢‘çš„é•¿åº¦ï¼ˆå•ä½ï¼šsï¼‰ï¼Œåªæœ‰åœ¨å½“å‰æœ‰åˆæ³•çš„ <code>src</code> æ—¶è¿”å›ï¼Œéœ€è¦åœ¨ <code>onCanplay</code> ä¸­è·å–ã€‚è¯¥å€¼è·å–åˆ°åä¸å†å˜åŠ¨ï¼Œä¸éœ€è¦äºŒæ¬¡èµ‹å€¼ã€‚</li><li><code>play</code> ï¼šéŸ³é¢‘æ’­æ”¾æ–¹æ³•ã€‚</li><li><code>pause</code> ï¼šéŸ³é¢‘æš‚åœæ–¹æ³•ã€‚</li><li><code>onCanplay</code> ï¼šéŸ³é¢‘åŠ è½½å®Œå¯ä»¥å¼€å§‹æ’­æ”¾åè§¦å‘çš„å›è°ƒå‡½æ•°ï¼Œåœ¨è¯¥å›è°ƒå‡½æ•°ä¸­è·å–éŸ³é¢‘çš„æ€»æ—¶é•¿ã€‚ï¼ˆå›è°ƒå‡½æ•°æ˜¯é‡ç‚¹ï¼Œåé¢è¦è€ƒï¼‰</li><li><code>onPlay</code> ï¼šéŸ³é¢‘æ’­æ”¾äº‹ä»¶ï¼Œä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¼€å§‹æ’­æ”¾åè§¦å‘è¯¥å›è°ƒå‡½æ•°ã€‚</li><li><code>onPause</code> ï¼šéŸ³é¢‘æš‚åœäº‹ä»¶ï¼Œä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæš‚åœæ’­æ”¾åè§¦å‘è¯¥å›è°ƒå‡½æ•°ã€‚</li><li><code>onTimeUpdate</code> ï¼šéŸ³é¢‘æ’­æ”¾è¿›åº¦æ›´æ–°äº‹ä»¶ï¼Œä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ’­æ”¾éŸ³é¢‘æ—¶è§¦å‘è¯¥å›è°ƒå‡½æ•°ï¼Œæ­¤æ—¶éŸ³é¢‘å¯¹è±¡çš„ <code>currentTime</code> å±æ€§æ˜¯æœ€æ–°çš„éŸ³é¢‘æ—¶é—´ï¼Œå› æ­¤è¦åœ¨è¿™é‡Œå®æ—¶åšèµ‹å€¼æ“ä½œã€‚</li></ul><p>æ€»ç»“ä¸€ä¸‹ï¼Œåœ¨é¡µé¢åˆšè¿›å…¥æ—¶è·å–éŸ³é¢‘è·¯å¾„ï¼Œåˆ›å»ºéŸ³é¢‘ä¸Šä¸‹æ–‡å¯¹è±¡ï¼ŒæŠŠéŸ³é¢‘è·¯å¾„èµ‹å€¼ç»™å…¶ <code>src</code> å±æ€§ã€‚åœ¨å…¶ <code>onCanplay</code> å›è°ƒä¸­è·å–å…¶æ€»æ—¶é•¿ã€‚ç”±äºå¯ä»¥å¼€å§‹æ’­æ”¾åä¼šè§¦å‘ <code>onCanplay</code> äº‹ä»¶ï¼Œå› æ­¤å¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªå˜é‡ <code>loading</code> ï¼Œåˆå§‹å€¼ä¸º <code>true</code> ï¼Œç­‰è§¦å‘<code>onCanplay</code> å›è°ƒåå†æ”¹ä¸º <code>false</code> ï¼Œè¡¨ç¤ºå·²åŠ è½½å®Œæ¯•ã€‚</p><p>åˆ›å»ºä¸€ä¸ªå˜é‡ <code>playStatus</code> ç”¨äºä¿å­˜å½“å‰éŸ³é¢‘çš„æ’­æ”¾çŠ¶æ€ã€‚ç»™éŸ³é¢‘ä¸Šä¸‹æ–‡æ–‡ä»¶æ·»åŠ å›è°ƒå‡½æ•°ï¼šå¼€å§‹æ’­æ”¾ã€é”™è¯¯ã€åœæ­¢ã€éŸ³é¢‘è¿›åº¦å‘ç”Ÿæ”¹å˜ã€‚å…¶ä¸­éŸ³é¢‘è¿›åº¦å‘ç”Ÿæ”¹å˜æ—¶å®æ—¶æŠŠå€¼èµ‹å€¼ç»™éŸ³é¢‘å½“å‰æ—¶é•¿çš„å˜é‡ã€‚</p><p>å½“é¡µé¢é€€å‡ºåé”€æ¯è¯¥éŸ³é¢‘ã€‚</p><h5 id="ä»£ç " tabindex="-1">ä»£ç  <a class="header-anchor" href="#ä»£ç " aria-label="Permalink to &quot;ä»£ç &quot;">â€‹</a></h5><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		onBeforeUnmount,</span></span>
<span class="line"><span style="color:#E1E4E8;">		ref,</span></span>
<span class="line"><span style="color:#E1E4E8;">	} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vue&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		onHide,</span></span>
<span class="line"><span style="color:#E1E4E8;">		onLoad,</span></span>
<span class="line"><span style="color:#E1E4E8;">	} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@dcloudio/uni-app&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Loading </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@/components/audioControl/component/Loading&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> useMineStore </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;@/stores/modules/mine&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		storeToRefs</span></span>
<span class="line"><span style="color:#E1E4E8;">	} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;pinia&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">mineStore</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useMineStore</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#79B8FF;">saveMusic</span></span>
<span class="line"><span style="color:#E1E4E8;">	} </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">storeToRefs</span><span style="color:#E1E4E8;">(mineStore)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">//éŸ³é¢‘ä¿¡æ¯</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">//å½“å‰éŸ³é¢‘æ—¶é•¿</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> duration </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">//å½“å‰æ’­æ”¾æ—¶é—´</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> currentTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">//å½“å‰åœæ­¢çŠ¶æ€ trueä¸ºåœæ­¢ falseä¸ºæ’­æ”¾</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> playStatus </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">//åˆ›å»ºéŸ³é¢‘ä¸Šä¸‹æ–‡</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> context </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">({});</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> loading </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#B392F0;">onLoad</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">val</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> uni.</span><span style="color:#B392F0;">createInnerAudioContext</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">		loading.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.src </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> saveMusic.value.playUrl;</span></span>
<span class="line"><span style="color:#E1E4E8;">		currentTime.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.value.currentTime;</span></span>
<span class="line"><span style="color:#E1E4E8;">		playStatus.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.value.paused;</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.</span><span style="color:#B392F0;">onCanplay</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">			duration.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.value.duration;</span></span>
<span class="line"><span style="color:#E1E4E8;">			console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;éŸ³é¢‘æ’­æ”¾æ§ä»¶å‡†å¤‡å¥½äº†&quot;</span><span style="color:#E1E4E8;">, context.value.buffered, duration.value);</span></span>
<span class="line"><span style="color:#E1E4E8;">			loading.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">		});</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#6A737D;">//éŸ³é¢‘é”™è¯¯æ—¶</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.</span><span style="color:#B392F0;">onError</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">			uni.</span><span style="color:#B392F0;">showToast</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">				title: res.errMsg,</span></span>
<span class="line"><span style="color:#E1E4E8;">				icon: </span><span style="color:#9ECBFF;">&#39;none&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			})</span></span>
<span class="line"><span style="color:#E1E4E8;">			loading.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">		});</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.</span><span style="color:#B392F0;">onTimeUpdate</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#B392F0;">timeUpdateFn</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">		});</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.</span><span style="color:#B392F0;">onEnded</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#B392F0;">ended</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">		})</span></span>
<span class="line"><span style="color:#E1E4E8;">	})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">//ç‚¹å‡»æ’­æ”¾æš‚åœ</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onPlay</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (context.value.paused) {</span></span>
<span class="line"><span style="color:#E1E4E8;">			changeType.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#6A737D;">//æ’­æ”¾</span></span>
<span class="line"><span style="color:#E1E4E8;">			context.value.</span><span style="color:#B392F0;">play</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">		} </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">			changeType.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#6A737D;">//æš‚åœ</span></span>
<span class="line"><span style="color:#E1E4E8;">			context.value.</span><span style="color:#B392F0;">pause</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">		}</span></span>
<span class="line"><span style="color:#E1E4E8;">	};</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">//æ‹–åŠ¨è¿›åº¦æ¡æ—¶</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> seekChangeType </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">changingAudioProgress</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	};</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">//è¿›åº¦æ¡æ‹–åŠ¨ç»“æŸ</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">changeAudioProgress</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// éŸ³é¢‘æ’­æ”¾ç»“æŸå</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ended</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.</span><span style="color:#B392F0;">stop</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">//éŸ³é¢‘è¿›åº¦æ”¹å˜æ—¶ï¼Œæ­¤å›è°ƒæœ‰åŸç”ŸBUGï¼ŒéŸ³é¢‘åœæ­¢åä¼šç»§ç»­æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">timeUpdateFn</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		currentTime.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.value.currentTime</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">onBeforeUnmount</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        context.value.</span><span style="color:#B392F0;">destroy</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">// é€€å‡ºåé”€æ¯è¯¥éŸ³é¢‘</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">	&lt;</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#6A737D;">&lt;!-- æ ‡é¢˜ --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">		&lt;</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;title&quot;</span><span style="color:#E1E4E8;">&gt;{{saveMusic.title}}&lt;/</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span></span>
<span class="line"><span style="color:#E1E4E8;">		&lt;</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;music&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">			&lt;</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;music-box&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#6A737D;">&lt;!-- è¿›åº¦æ¡ --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">				&lt;</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;audio-control-page&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">					&lt;</span><span style="color:#FDAEB7;font-style:italic;">slider</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:min</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:max</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;saveMusic.totalDuration ? saveMusic.totalDuration.toFixed(1) : duration.toFixed(1)&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">activeColor</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;#e1a452&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">backgroundColor</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;#e2e2e2&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">block-color</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;#fff&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">block-size</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;12&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:value</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;currentTime.toFixed(1)&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:step</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;0.1&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">@change</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;changeAudioProgress&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">@changing</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;changingAudioProgress&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:disabled</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&#39;loading&#39;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">				&lt;/</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#6A737D;">&lt;!--æ—¶é—´æ˜¾ç¤º--&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">				&lt;</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;audio-time&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">					&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">v-if</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">loading</span><span style="color:#9ECBFF;">&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">						&lt;</span><span style="color:#FDAEB7;font-style:italic;">text</span><span style="color:#E1E4E8;">&gt;éŸ³é¢‘åŠ è½½ä¸­..&lt;/</span><span style="color:#FDAEB7;font-style:italic;">text</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">					&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">					&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">v-else</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">						&lt;</span><span style="color:#FDAEB7;font-style:italic;">text</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">&gt;{{ useComputeAudioTime(currentTime) }}&lt;/</span><span style="color:#FDAEB7;font-style:italic;">text</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">						&lt;</span><span style="color:#FDAEB7;font-style:italic;">text</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">&gt;{{ useComputeAudioTime(saveMusic.totalDuration ? saveMusic.totalDuration : duration) }}&lt;/</span><span style="color:#FDAEB7;font-style:italic;">text</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">					&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">				&lt;/</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">			&lt;/</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#6A737D;">&lt;!-- æ’­æ”¾æŒ‰é’®åŒºåŸŸ --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">			&lt;</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;play-btn&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#6A737D;">&lt;!--  loading  --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">				&lt;</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;audio-play-btn&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">v-if</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;loading&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">					&lt;</span><span style="color:#FDAEB7;font-style:italic;">Loading</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:loading</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;true&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#FDAEB7;font-style:italic;">Loading</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">				&lt;/</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">				&lt;</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;audio-play-btn&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">v-else</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">					</span><span style="color:#6A737D;">&lt;!--   æš‚åœ   --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">					&lt;</span><span style="color:#85E89D;">u-icon</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;pause&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">size</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;50&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">v-show</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;!playStatus&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">@click</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;onPlay&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">u-icon</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span></span>
<span class="line"><span style="color:#E1E4E8;">					</span><span style="color:#6A737D;">&lt;!--   å¼€å§‹   --&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">					&lt;</span><span style="color:#85E89D;">u-icon</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;play-right-fill&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">size</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;50&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">v-show</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;playStatus&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">@click</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;onPlay&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">u-icon</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">				&lt;/</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">			&lt;/</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">		&lt;/</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">	&lt;/</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		onBeforeUnmount,</span></span>
<span class="line"><span style="color:#24292E;">		ref,</span></span>
<span class="line"><span style="color:#24292E;">	} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vue&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		onHide,</span></span>
<span class="line"><span style="color:#24292E;">		onLoad,</span></span>
<span class="line"><span style="color:#24292E;">	} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@dcloudio/uni-app&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Loading </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@/components/audioControl/component/Loading&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> useMineStore </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;@/stores/modules/mine&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		storeToRefs</span></span>
<span class="line"><span style="color:#24292E;">	} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;pinia&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">mineStore</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useMineStore</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#005CC5;">saveMusic</span></span>
<span class="line"><span style="color:#24292E;">	} </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">storeToRefs</span><span style="color:#24292E;">(mineStore)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">//éŸ³é¢‘ä¿¡æ¯</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">//å½“å‰éŸ³é¢‘æ—¶é•¿</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> duration </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">//å½“å‰æ’­æ”¾æ—¶é—´</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> currentTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">//å½“å‰åœæ­¢çŠ¶æ€ trueä¸ºåœæ­¢ falseä¸ºæ’­æ”¾</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> playStatus </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">//åˆ›å»ºéŸ³é¢‘ä¸Šä¸‹æ–‡</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> context </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">({});</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> loading </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6F42C1;">onLoad</span><span style="color:#24292E;">((</span><span style="color:#E36209;">val</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		context.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> uni.</span><span style="color:#6F42C1;">createInnerAudioContext</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">		loading.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">		context.value.src </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> saveMusic.value.playUrl;</span></span>
<span class="line"><span style="color:#24292E;">		currentTime.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.value.currentTime;</span></span>
<span class="line"><span style="color:#24292E;">		playStatus.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.value.paused;</span></span>
<span class="line"><span style="color:#24292E;">		context.value.</span><span style="color:#6F42C1;">onCanplay</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">			duration.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.value.duration;</span></span>
<span class="line"><span style="color:#24292E;">			console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;éŸ³é¢‘æ’­æ”¾æ§ä»¶å‡†å¤‡å¥½äº†&quot;</span><span style="color:#24292E;">, context.value.buffered, duration.value);</span></span>
<span class="line"><span style="color:#24292E;">			loading.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">		});</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6A737D;">//éŸ³é¢‘é”™è¯¯æ—¶</span></span>
<span class="line"><span style="color:#24292E;">		context.value.</span><span style="color:#6F42C1;">onError</span><span style="color:#24292E;">((</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">			uni.</span><span style="color:#6F42C1;">showToast</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">				title: res.errMsg,</span></span>
<span class="line"><span style="color:#24292E;">				icon: </span><span style="color:#032F62;">&#39;none&#39;</span></span>
<span class="line"><span style="color:#24292E;">			})</span></span>
<span class="line"><span style="color:#24292E;">			loading.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">		});</span></span>
<span class="line"><span style="color:#24292E;">		context.value.</span><span style="color:#6F42C1;">onTimeUpdate</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#6F42C1;">timeUpdateFn</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">		});</span></span>
<span class="line"><span style="color:#24292E;">		</span></span>
<span class="line"><span style="color:#24292E;">		context.value.</span><span style="color:#6F42C1;">onEnded</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#6F42C1;">ended</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">		})</span></span>
<span class="line"><span style="color:#24292E;">	})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">//ç‚¹å‡»æ’­æ”¾æš‚åœ</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onPlay</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (context.value.paused) {</span></span>
<span class="line"><span style="color:#24292E;">			changeType.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#6A737D;">//æ’­æ”¾</span></span>
<span class="line"><span style="color:#24292E;">			context.value.</span><span style="color:#6F42C1;">play</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">		} </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">			changeType.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#6A737D;">//æš‚åœ</span></span>
<span class="line"><span style="color:#24292E;">			context.value.</span><span style="color:#6F42C1;">pause</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">		}</span></span>
<span class="line"><span style="color:#24292E;">	};</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">//æ‹–åŠ¨è¿›åº¦æ¡æ—¶</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> seekChangeType </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">changingAudioProgress</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">e</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	};</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">//è¿›åº¦æ¡æ‹–åŠ¨ç»“æŸ</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">changeAudioProgress</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">e</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// éŸ³é¢‘æ’­æ”¾ç»“æŸå</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ended</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		context.value.</span><span style="color:#6F42C1;">stop</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">//éŸ³é¢‘è¿›åº¦æ”¹å˜æ—¶ï¼Œæ­¤å›è°ƒæœ‰åŸç”ŸBUGï¼ŒéŸ³é¢‘åœæ­¢åä¼šç»§ç»­æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">timeUpdateFn</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		currentTime.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.value.currentTime</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">onBeforeUnmount</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        context.value.</span><span style="color:#6F42C1;">destroy</span><span style="color:#24292E;">() </span><span style="color:#6A737D;">// é€€å‡ºåé”€æ¯è¯¥éŸ³é¢‘</span></span>
<span class="line"><span style="color:#24292E;">    })</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">	&lt;</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6A737D;">&lt;!-- æ ‡é¢˜ --&gt;</span></span>
<span class="line"><span style="color:#24292E;">		&lt;</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;title&quot;</span><span style="color:#24292E;">&gt;{{saveMusic.title}}&lt;/</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">		</span></span>
<span class="line"><span style="color:#24292E;">		&lt;</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;music&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">			&lt;</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;music-box&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#6A737D;">&lt;!-- è¿›åº¦æ¡ --&gt;</span></span>
<span class="line"><span style="color:#24292E;">				&lt;</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;audio-control-page&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">					&lt;</span><span style="color:#B31D28;font-style:italic;">slider</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:min</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:max</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;saveMusic.totalDuration ? saveMusic.totalDuration.toFixed(1) : duration.toFixed(1)&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">activeColor</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;#e1a452&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">backgroundColor</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;#e2e2e2&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">block-color</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;#fff&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">block-size</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;12&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:value</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;currentTime.toFixed(1)&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:step</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;0.1&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@change</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;changeAudioProgress&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@changing</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;changingAudioProgress&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:disabled</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&#39;loading&#39;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">				&lt;/</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#6A737D;">&lt;!--æ—¶é—´æ˜¾ç¤º--&gt;</span></span>
<span class="line"><span style="color:#24292E;">				&lt;</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;audio-time&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">					&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">v-if</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">loading</span><span style="color:#032F62;">&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">						&lt;</span><span style="color:#B31D28;font-style:italic;">text</span><span style="color:#24292E;">&gt;éŸ³é¢‘åŠ è½½ä¸­..&lt;/</span><span style="color:#B31D28;font-style:italic;">text</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">					&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">					&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">v-else</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">						&lt;</span><span style="color:#B31D28;font-style:italic;">text</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">&gt;{{ useComputeAudioTime(currentTime) }}&lt;/</span><span style="color:#B31D28;font-style:italic;">text</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">						&lt;</span><span style="color:#B31D28;font-style:italic;">text</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">&gt;{{ useComputeAudioTime(saveMusic.totalDuration ? saveMusic.totalDuration : duration) }}&lt;/</span><span style="color:#B31D28;font-style:italic;">text</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">					&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">				&lt;/</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">			&lt;/</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">		</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#6A737D;">&lt;!-- æ’­æ”¾æŒ‰é’®åŒºåŸŸ --&gt;</span></span>
<span class="line"><span style="color:#24292E;">			&lt;</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;play-btn&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#6A737D;">&lt;!--  loading  --&gt;</span></span>
<span class="line"><span style="color:#24292E;">				&lt;</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;audio-play-btn&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">v-if</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;loading&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">					&lt;</span><span style="color:#B31D28;font-style:italic;">Loading</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:loading</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;true&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#B31D28;font-style:italic;">Loading</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">				&lt;/</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">				&lt;</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;audio-play-btn&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">v-else</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">					</span><span style="color:#6A737D;">&lt;!--   æš‚åœ   --&gt;</span></span>
<span class="line"><span style="color:#24292E;">					&lt;</span><span style="color:#22863A;">u-icon</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;pause&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">size</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;50&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">v-show</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;!playStatus&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@click</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;onPlay&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">u-icon</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">		</span></span>
<span class="line"><span style="color:#24292E;">					</span><span style="color:#6A737D;">&lt;!--   å¼€å§‹   --&gt;</span></span>
<span class="line"><span style="color:#24292E;">					&lt;</span><span style="color:#22863A;">u-icon</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;play-right-fill&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">size</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;50&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">v-show</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;playStatus&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@click</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;onPlay&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">u-icon</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">				&lt;/</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">			&lt;/</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">		&lt;/</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">	&lt;/</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h4 id="è¿›åº¦æ¡æ‹–æ‹½" tabindex="-1">è¿›åº¦æ¡æ‹–æ‹½ <a class="header-anchor" href="#è¿›åº¦æ¡æ‹–æ‹½" aria-label="Permalink to &quot;è¿›åº¦æ¡æ‹–æ‹½&quot;">â€‹</a></h4><h5 id="æ€è·¯-1" tabindex="-1">æ€è·¯ <a class="header-anchor" href="#æ€è·¯-1" aria-label="Permalink to &quot;æ€è·¯&quot;">â€‹</a></h5><p>ç°åœ¨åŸºäºç¬¬ä¸€ç‰ˆåšåŠŸèƒ½å‡çº§ã€‚å¸‚é¢ä¸Šçš„éŸ³é¢‘åŠŸèƒ½å¤§å¤šéƒ½å¯ä»¥é€šè¿‡æ‹–æ‹½è¿›åº¦æ¡çš„å½¢å¼æ”¹å˜å½“å‰éŸ³é¢‘æ’­æ”¾çš„è¿›åº¦ã€‚è¿›åº¦æ¡ç»„ä»¶ä¸Šæ–¹çš„ç¤ºä¾‹ä»£ç ä¸­å·²å­˜åœ¨ï¼Œå› æ­¤ä¸å†äºŒæ¬¡å±•ç¤ºã€‚</p><p>éŸ³é¢‘çš„è¿›åº¦æ¡å¯ä»¥ä½¿ç”¨ <code>uniapp</code> å®˜æ–¹æä¾›çš„ <code>slider</code> è¿›åº¦æ¡ç»„ä»¶ï¼Œå®˜ç½‘æ–‡æ¡£æŒ‡è·¯ <a href="https://uniapp.dcloud.net.cn/component/slider.html#slider" target="_blank" rel="noreferrer">slider</a> ã€‚å…¶æä¾›çš„å±æ€§å’Œæ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</p><table value:="" value=""><thead><tr><th style="text-align:left;">å±æ€§å</th><th style="text-align:left;">ç±»å‹</th><th style="text-align:left;">é»˜è®¤å€¼</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;">min</td><td style="text-align:left;">Number</td><td style="text-align:left;">0</td><td style="text-align:left;">æœ€å°å€¼ï¼ŒéŸ³é¢‘æœ€å°é»˜è®¤ä¸º0</td></tr><tr><td style="text-align:left;">max</td><td style="text-align:left;">Number</td><td style="text-align:left;">100</td><td style="text-align:left;">æœ€å¤§å€¼ï¼ŒæŠŠéŸ³é¢‘çš„æ—¶é•¿èµ‹å€¼ç»™ä»–å³å¯</td></tr><tr><td style="text-align:left;">step</td><td style="text-align:left;">Number</td><td style="text-align:left;">1</td><td style="text-align:left;">æ­¥é•¿ï¼Œå–å€¼å¿…é¡»å¤§äº 0ï¼Œå¹¶ä¸”å¯è¢«(max - min)æ•´é™¤ï¼Œå–é»˜è®¤å€¼1ï¼Œæ— éœ€æ›´æ”¹</td></tr><tr><td style="text-align:left;">value</td><td style="text-align:left;">Number</td><td style="text-align:left;">0</td><td style="text-align:left;">å½“å‰å–å€¼ï¼ŒæŠŠå½“å‰éŸ³é¢‘æ’­æ”¾çš„è¿›åº¦currentTimeèµ‹å€¼è¿‡å»</td></tr><tr><td style="text-align:left;">activeColor</td><td style="text-align:left;">Color</td><td style="text-align:left;">å„ä¸ªå¹³å°ä¸åŒï¼Œè¯¦è§ä¸‹</td><td style="text-align:left;">æ»‘å—å·¦ä¾§å·²é€‰æ‹©éƒ¨åˆ†çš„çº¿æ¡é¢œè‰²</td></tr><tr><td style="text-align:left;">backgroundColor</td><td style="text-align:left;">Color</td><td style="text-align:left;">#e9e9e9</td><td style="text-align:left;">æ»‘å—å³ä¾§èƒŒæ™¯æ¡çš„é¢œè‰²</td></tr><tr><td style="text-align:left;">block-size</td><td style="text-align:left;">Number</td><td style="text-align:left;">28</td><td style="text-align:left;">æ»‘å—çš„å¤§å°ï¼Œå–å€¼èŒƒå›´ä¸º 12 - 28</td></tr><tr><td style="text-align:left;">block-color</td><td style="text-align:left;">Color</td><td style="text-align:left;">#ffffff</td><td style="text-align:left;">æ»‘å—çš„é¢œè‰²</td></tr><tr><td style="text-align:left;">show-value</td><td style="text-align:left;">Boolean</td><td style="text-align:left;">false</td><td style="text-align:left;">æ˜¯å¦æ˜¾ç¤ºå½“å‰ value</td></tr><tr value:="" value=""><td style="text-align:left;">@change</td><td style="text-align:left;">EventHandle</td><td style="text-align:left;"></td><td style="text-align:left;">å®Œæˆä¸€æ¬¡æ‹–åŠ¨åè§¦å‘çš„äº‹ä»¶ï¼Œevent.detail =</td></tr><tr><td style="text-align:left;">@changing</td><td style="text-align:left;">EventHandle</td><td style="text-align:left;"></td><td style="text-align:left;">æ‹–åŠ¨è¿‡ç¨‹ä¸­è§¦å‘çš„äº‹ä»¶ï¼Œevent.detail =</td></tr></tbody></table><p>å¯ä»¥çœ‹åˆ°ï¼Œå…¶æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼šæ­£åœ¨æ‹–åŠ¨ä¸­çš„ <code>@changing</code> å’Œæ‹–åŠ¨å®Œæ¯•çš„ <code>@change</code> ã€‚æ‰“å°ä»–çš„å‚æ•°ï¼Œè¾“å‡ºçš„æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">æ‹–åŠ¨è¿›åº¦æ¡æ—¶ï¼š{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;type&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;changing&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;timeStamp&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;target&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;id&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;dataset&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&quot;v-4fc88c49&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&quot;v4fc88c49&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;offsetTop&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;offsetLeft&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">29</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;currentTarget&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;id&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;dataset&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&quot;v-4fc88c49&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&quot;v4fc88c49&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;offsetTop&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;offsetLeft&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">29</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;detail&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;value&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">170.3</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">åœæ­¢æ‹–åŠ¨è¿›åº¦æ¡ï¼š{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;type&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;change&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;timeStamp&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;target&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;id&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;dataset&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&quot;v-4fc88c49&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&quot;v4fc88c49&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;offsetTop&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;offsetLeft&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">29</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;currentTarget&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;id&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;dataset&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&quot;v-4fc88c49&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#9ECBFF;">&quot;v4fc88c49&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;offsetTop&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;offsetLeft&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">29</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;detail&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#9ECBFF;">&quot;value&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">170.3</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">æ‹–åŠ¨è¿›åº¦æ¡æ—¶ï¼š{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;type&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;changing&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;timeStamp&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;target&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;dataset&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&quot;v-4fc88c49&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&quot;v4fc88c49&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;offsetTop&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;offsetLeft&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">29</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;currentTarget&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;dataset&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&quot;v-4fc88c49&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&quot;v4fc88c49&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;offsetTop&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;offsetLeft&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">29</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;detail&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;value&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">170.3</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">åœæ­¢æ‹–åŠ¨è¿›åº¦æ¡ï¼š{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;type&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;change&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;timeStamp&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;target&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;dataset&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&quot;v-4fc88c49&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&quot;v4fc88c49&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;offsetTop&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;offsetLeft&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">29</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;currentTarget&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;dataset&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&quot;v-4fc88c49&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#032F62;">&quot;v4fc88c49&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;offsetTop&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;offsetLeft&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">29</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;detail&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#032F62;">&quot;value&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">170.3</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>å¯¹è±¡ä¸­çš„ <code>detail</code> ä¸‹çš„ <code>value</code> å€¼æ­£æ˜¯å½“å‰æ‹–æ‹½çš„è¿›åº¦ï¼Œå› æ­¤è·å–åˆ°è¿™ä¸ªå€¼ï¼Œå¹¶èµ‹å€¼ç»™éŸ³é¢‘æ–‡ä»¶å¯¹è±¡å³å¯ã€‚æ”¹å˜éŸ³é¢‘è¿›åº¦çš„æ–¹æ³•æŸ¥é˜…äº†å®˜æ–¹æ–‡æ¡£åæ‰¾åˆ°ä»¥ä¸‹çš„æ–¹æ³•ï¼š</p><table><thead><tr><th style="text-align:left;">æ–¹æ³•</th><th style="text-align:left;">å‚æ•°</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;">seek</td><td style="text-align:left;">position</td><td style="text-align:left;">è·³è½¬åˆ°æŒ‡å®šä½ç½®ï¼Œå•ä½ s</td></tr></tbody></table><p>æŠŠæ–¹æ‰è·å–çš„æ‹–æ‹½éŸ³é¢‘æœ€æ–°è¿›åº¦ä¼ ç»™è¯¥æ–¹æ³•å³å¯ã€‚</p><h5 id="ä»£ç -1" tabindex="-1">ä»£ç  <a class="header-anchor" href="#ä»£ç -1" aria-label="Permalink to &quot;ä»£ç &quot;">â€‹</a></h5><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">//æ‹–åŠ¨è¿›åº¦æ¡æ—¶</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">changingAudioProgress</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	currentTime.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> e.detail.value;</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"><span style="color:#6A737D;">//è¿›åº¦æ¡æ‹–åŠ¨ç»“æŸ</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">changeAudioProgress</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.startTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> e.detail.value;</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">seek</span><span style="color:#E1E4E8;">(e.detail.value);</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//æ‹–åŠ¨è¿›åº¦æ¡æ—¶</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">changingAudioProgress</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">e</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	currentTime.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> e.detail.value;</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#6A737D;">//è¿›åº¦æ¡æ‹–åŠ¨ç»“æŸ</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">changeAudioProgress</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">e</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	context.value.startTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> e.detail.value;</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">seek</span><span style="color:#24292E;">(e.detail.value);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h5 id="ä¼˜åŒ–" tabindex="-1">ä¼˜åŒ– <a class="header-anchor" href="#ä¼˜åŒ–" aria-label="Permalink to &quot;ä¼˜åŒ–&quot;">â€‹</a></h5><p>åˆ°åˆšåˆšé‚£ä¸€æ­¥åŠŸèƒ½å·²ç»å®Œæˆï¼Œè¿è¡Œé¡¹ç›®ä¹Ÿæœ‰æ•ˆæœã€‚åªä¸è¿‡æœ‰ä¸€ä¸ªå° Bugï¼šå½“æˆ‘æ…¢æ…¢çš„æ‹–æ‹½è¿›åº¦æ¡æ—¶ï¼Œèƒ½å¤Ÿçœ‹åˆ°è¿›åº¦æ¡åœ¨ â€œæˆ‘æ‹–æ‹½çš„è¿›åº¦ä½ç½®â€ å’Œ â€œå½“å‰éŸ³é¢‘æ’­æ”¾åˆ°çš„ä½ç½®â€ æ¥å›æŠ½åŠ¨ï¼Œä¸”å› ä¸ºè¿™ä¸ªæŠ½åŠ¨æœ‰æ—¶ç”¨æˆ·çš„æ‹–æ‹½è¿˜ä¸æˆåŠŸï¼Œä¸åˆ©äºç”¨æˆ·ä½“éªŒã€‚</p><p>åˆ¤æ–­ä¸€ä¸‹è¿™ä¸ª BUG æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œå½“éŸ³é¢‘æ­£åœ¨æ’­æ”¾æ—¶è¿›åº¦æ¡ä¼šè¢«å®æ—¶èµ‹å€¼å˜åŒ–ï¼Œæˆ‘ä»¬æ‹–æ‹½è¿›åº¦æ¡æ—¶è¿›åº¦æ¡ä¼šè·Ÿç€æˆ‘ä»¬æ‹–æ‹½çš„è¿›åº¦å˜åŒ–ã€‚å› æ­¤ä¸¤ä¸ªå˜åŒ–å‘ç”Ÿå†²çªï¼Œåœ¨æ‹–æ‹½æ—¶å°±ä¼šå‘ç”Ÿæ¥å›æŠ½åŠ¨çš„ç°è±¡ã€‚</p><p>çŸ¥é“ BUG äº§ç”Ÿçš„åŸå› ä¿®æ”¹èµ·æ¥å°±å®¹æ˜“å¤šäº†ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªå˜é‡ï¼Œåˆå§‹å€¼ä¸º <code>false</code> ï¼Œè¡¨ç¤ºå½“å‰å¹¶æ²¡æœ‰æ‹–æ‹½è¿›åº¦æ¡ã€‚å¦‚æœè§¦å‘äº†æ‹–æ‹½äº‹ä»¶ï¼Œæ”¹ä¸º <code>true</code> ï¼Œåœ¨ç»“æŸæ‹–æ‹½åå†æ”¹ä¸º <code>false</code> ã€‚è€Œè¿›åº¦æ¡æ”¹å˜ <code>onTimeUpdate</code> æ–¹æ³•åˆ™æ·»åŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œåªæœ‰ä¸åœ¨æ‹–æ‹½çš„æ—¶å€™æ‰å®æ—¶èµ‹å€¼ä¿®æ”¹è¿›åº¦ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">//æ‹–åŠ¨è¿›åº¦æ¡æ—¶</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> seekChangeType </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">changingAudioProgress</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	currentTime.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> e.detail.value;</span></span>
<span class="line"><span style="color:#E1E4E8;">	seekChangeType.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"><span style="color:#6A737D;">//è¿›åº¦æ¡æ‹–åŠ¨ç»“æŸ</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">changeAudioProgress</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	seekChangeType.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.startTime </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> e.detail.value;</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">seek</span><span style="color:#E1E4E8;">(e.detail.value);</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">timeUpdateFn</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">context.value.paused </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">seekChangeType.value) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		currentTime.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.value.currentTime</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//æ‹–åŠ¨è¿›åº¦æ¡æ—¶</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> seekChangeType </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">changingAudioProgress</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">e</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	currentTime.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> e.detail.value;</span></span>
<span class="line"><span style="color:#24292E;">	seekChangeType.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#6A737D;">//è¿›åº¦æ¡æ‹–åŠ¨ç»“æŸ</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">changeAudioProgress</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">e</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	seekChangeType.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">	context.value.startTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> e.detail.value;</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">seek</span><span style="color:#24292E;">(e.detail.value);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">timeUpdateFn</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">context.value.paused </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!</span><span style="color:#24292E;">seekChangeType.value) {</span></span>
<span class="line"><span style="color:#24292E;">		currentTime.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.value.currentTime</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>ç°åœ¨å†è¿è¡ŒæŸ¥çœ‹ï¼Œå‘ç°å·²ç»æœ‰æ•ˆæœäº†ã€‚</p><h4 id="æ¬¡æ•°å¾ªç¯" tabindex="-1">æ¬¡æ•°å¾ªç¯ <a class="header-anchor" href="#æ¬¡æ•°å¾ªç¯" aria-label="Permalink to &quot;æ¬¡æ•°å¾ªç¯&quot;">â€‹</a></h4><p>å®¢æˆ·é‚£è¾¹åˆæå‡ºä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼šè¦æ±‚èƒ½å¤Ÿæä¾›å¾ªç¯æ’­æ”¾åŠŸèƒ½ï¼Œæœ‰ä¸‰ç§é€‰æ‹©ï¼Œå•æ¬¡æ’­æ”¾ã€å¾ªç¯ä¸‰æ¬¡å’Œå¾ªç¯äº”æ¬¡ã€‚</p><p>æŸ¥çœ‹éŸ³é¢‘å¯¹è±¡çš„æ–‡æ¡£ï¼Œæ‰¾åˆ°å®ƒæœ‰æä¾›ä¸€ä¸ª <code>loop</code> å±æ€§ï¼Œæ˜¯å¦å¼€å¯å¾ªç¯æ’­æ”¾ã€‚ä½†æ˜¯æ²¡æœ‰é™åˆ¶å¾ªç¯çš„æ¬¡æ•°ï¼Œä¸”ç”¨æˆ·åˆ‡æ¢å¾ªç¯æ–¹å¼æ—¶è®¾ç½®ä¹Ÿä¸æ–¹ä¾¿ã€‚</p><p>å› æ­¤å¦å¯»è¹Šå¾„ï¼Œè®¾ç½®ä¸€ä¸ªå˜é‡å­˜å‚¨ç”¨æˆ·æƒ³è¦å¾ªç¯çš„æ¬¡æ•°ï¼Œå¼€å¯æ’­æ”¾éŸ³é¢‘ã€‚å½“è§¦å‘éŸ³é¢‘çš„åœæ­¢äº‹ä»¶æ—¶åˆ¤æ–­æ¬¡æ•°å˜é‡æ˜¯å¦å°äºç­‰äº1ï¼Œå¦‚æœä¸ç¬¦åˆè¦æ±‚ï¼Œè¯´æ˜è¿˜æ²¡å¾ªç¯å®Œï¼Œé‡æ–°è°ƒç”¨ä¸€æ¬¡æ’­æ”¾äº‹ä»¶ï¼Œå¹¶è®©å˜é‡è‡ªå‡ä¸€ï¼Œç›´åˆ°å˜é‡ç­‰äºä¸€ï¼Œè¡¨ç¤ºå¾ªç¯æ’­æ”¾ç»“æŸã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">/* </span></span>
<span class="line"><span style="color:#6A737D;">å¾ªç¯æ’­æ”¾</span></span>
<span class="line"><span style="color:#6A737D;"> loopNumï¼šå½“å‰å¾ªç¯æ’­æ”¾çš„æ¬¡æ•°</span></span>
<span class="line"><span style="color:#6A737D;"> loopNumAllï¼šå…±éœ€è¦å¾ªç¯æ’­æ”¾çš„æ¬¡æ•°</span></span>
<span class="line"><span style="color:#6A737D;"> loopTitleï¼šå¾ªç¯æ’­æ”¾çš„æ ‡é¢˜</span></span>
<span class="line"><span style="color:#6A737D;"> handleSheetFnï¼šç‚¹å‡»é€‰æ‹©å¾ªç¯æ’­æ”¾</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">loopNum</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">loopNumAll</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">loopTitle</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;å•æ¬¡æ’­æ”¾&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">handleSheetFn</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">index</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	list.value.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		item.color </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;#000&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">	})</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">switch</span><span style="color:#E1E4E8;"> (index) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">			loopNumAll.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">			list.value[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].color </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;#e9a97e&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			loopTitle.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;å•æ¬¡æ’­æ”¾&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">			loopNumAll.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span></span>
<span class="line"><span style="color:#E1E4E8;">			list.value[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">].color </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;#e9a97e&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			loopTitle.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;å¾ªç¯3æ¬¡&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">			loopNumAll.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span></span>
<span class="line"><span style="color:#E1E4E8;">			list.value[</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">].color </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;#e9a97e&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			loopTitle.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;å¾ªç¯5æ¬¡&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(context.value.paused context.value.</span><span style="color:#B392F0;">play</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// éŸ³é¢‘æ’­æ”¾ç»“æŸå</span></span>
<span class="line"><span style="color:#E1E4E8;">const </span><span style="color:#B392F0;">ended</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">duration</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> currentTime.value</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (loopNum.value </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> loopNumAll.value) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		loopType.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">		loopNum.value </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.</span><span style="color:#B392F0;">play</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">	} </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		loopNum.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.</span><span style="color:#B392F0;">stop</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">		loopType.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/* </span></span>
<span class="line"><span style="color:#6A737D;">å¾ªç¯æ’­æ”¾</span></span>
<span class="line"><span style="color:#6A737D;"> loopNumï¼šå½“å‰å¾ªç¯æ’­æ”¾çš„æ¬¡æ•°</span></span>
<span class="line"><span style="color:#6A737D;"> loopNumAllï¼šå…±éœ€è¦å¾ªç¯æ’­æ”¾çš„æ¬¡æ•°</span></span>
<span class="line"><span style="color:#6A737D;"> loopTitleï¼šå¾ªç¯æ’­æ”¾çš„æ ‡é¢˜</span></span>
<span class="line"><span style="color:#6A737D;"> handleSheetFnï¼šç‚¹å‡»é€‰æ‹©å¾ªç¯æ’­æ”¾</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">loopNum</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">loopNumAll</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">loopTitle</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;å•æ¬¡æ’­æ”¾&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">handleSheetFn</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#E36209;">index</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	list.value.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(</span><span style="color:#E36209;">item</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		item.color </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;#000&#39;</span></span>
<span class="line"><span style="color:#24292E;">	})</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">switch</span><span style="color:#24292E;"> (index) {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">			loopNumAll.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">			list.value[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].color </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;#e9a97e&#39;</span></span>
<span class="line"><span style="color:#24292E;">			loopTitle.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;å•æ¬¡æ’­æ”¾&#39;</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">			loopNumAll.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span></span>
<span class="line"><span style="color:#24292E;">			list.value[</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">].color </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;#e9a97e&#39;</span></span>
<span class="line"><span style="color:#24292E;">			loopTitle.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;å¾ªç¯3æ¬¡&#39;</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">			loopNumAll.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span></span>
<span class="line"><span style="color:#24292E;">			list.value[</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">].color </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;#e9a97e&#39;</span></span>
<span class="line"><span style="color:#24292E;">			loopTitle.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;å¾ªç¯5æ¬¡&#39;</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">default</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(context.value.paused context.value.</span><span style="color:#6F42C1;">play</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// éŸ³é¢‘æ’­æ”¾ç»“æŸå</span></span>
<span class="line"><span style="color:#24292E;">const </span><span style="color:#6F42C1;">ended</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">duration</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> currentTime.value</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (loopNum.value </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> loopNumAll.value) {</span></span>
<span class="line"><span style="color:#24292E;">		loopType.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">		loopNum.value </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">		context.value.</span><span style="color:#6F42C1;">play</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">	} </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		loopNum.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">		context.value.</span><span style="color:#6F42C1;">stop</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">		loopType.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="é€€å‡ºæ’­æ”¾-å®ç°å¤±è´¥" tabindex="-1">é€€å‡ºæ’­æ”¾ï¼ˆå®ç°å¤±è´¥ï¼‰ <a class="header-anchor" href="#é€€å‡ºæ’­æ”¾-å®ç°å¤±è´¥" aria-label="Permalink to &quot;é€€å‡ºæ’­æ”¾ï¼ˆå®ç°å¤±è´¥ï¼‰&quot;">â€‹</a></h4><p>ç”±äºæˆ‘ä»¬åœ¨é¡µé¢é”€æ¯äº‹ä»¶ä¸­è°ƒç”¨ <code>destroy()</code> æ–¹æ³•é”€æ¯è¯¥å®ä¾‹å¯¹è±¡ï¼Œå› æ­¤é€€å‡ºéŸ³é¢‘è¯¦æƒ…é¡µé¢åéŸ³é¢‘å°±è¢«é”€æ¯ï¼Œæ— æ³•ç»§ç»­æ’­æ”¾ï¼Œå®¢æˆ·è¦æ±‚å³ä½¿é€€å‡ºå½“å‰é¡µé¢ä¹Ÿèƒ½ç»§ç»­æ’­æ”¾ã€‚</p><p>ä¸€å¼€å§‹æˆ‘çš„æƒ³æ³•å¾ˆç®€å•ï¼Œåªè¦ä¸é”€æ¯å½“å‰å®ä¾‹ä¸å°±å¥½äº†å˜›ï¼ŒæŠŠ <code>destroy()</code> æ–¹æ³•æ³¨é‡Šï¼Œè¿è¡Œï¼Œå‘ç°é€€å‡ºåéŸ³é¢‘ç»§ç»­æ’­æ”¾ï¼Œæ­£ä»¥ä¸ºå¯ä»¥äº¤å·®äº†ï¼Œé‡æ–°è¿›å…¥éŸ³é¢‘è¯¦æƒ…é¡µé¢ä¸€çœ‹ï¼Œå‘ç°ä»–è™½ç„¶åœ¨æ’­æ”¾ï¼Œä½†æ˜¯è¿›åº¦æ¡å˜ä¸ºä»0å¼€å§‹ä¸”æ²¡æœ‰åœ¨å˜åŒ–ã€æ’­æ”¾çŠ¶æ€ä¸ºæœªæ’­æ”¾ã€‚</p><p>åå¤æ‰“ <code>log</code> è°ƒè¯•ï¼Œæœ€åå‘ç°é€€å‡ºé¡µé¢é‡æ–°è¿›å…¥å <code>onCanplay</code> æ–¹æ³•çš„å›è°ƒå‡½æ•°é‡æ–°è§¦å‘ï¼Œç«‹åˆ»ååº”è¿‡æ¥ï¼Œè¿›å…¥è¿™ä¸ªé¡µé¢åé‡æ–°åˆ›å»ºäº†ä¸€ä¸ªéŸ³é¢‘ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œæ—§çš„éŸ³é¢‘ä¸Šä¸‹æ–‡å¯¹è±¡æ²¡æœ‰é”€æ¯ï¼Œæ‰€ä»¥è¿˜åœ¨æ’­æ”¾ï¼Œè€Œæ­¤æ—¶é¡µé¢ä¸Šæ˜¯æ–°çš„éŸ³é¢‘å¯¹è±¡ï¼Œæ‰€ä»¥æ˜¯æœªæ’­æ”¾çŠ¶æ€ã€‚</p><p>äºæ˜¯é¡ºç€è¿™ä¸ªé€»è¾‘ï¼Œå½“é€€å‡ºè¯¥éŸ³é¢‘é¡µé¢æ—¶æˆ‘åœ¨ <code>pinia</code> å†…ä¿å­˜å½“å‰çš„éŸ³é¢‘å¯¹è±¡å’ŒéŸ³é¢‘è¯¦æƒ…çš„æ•°æ®ï¼Œè¿›å…¥é¡µé¢ååˆ¤æ–­å½“å‰éŸ³é¢‘è¯¦æƒ…çš„ <code>id</code> æ˜¯å¦å’Œ <code>pinia</code> å†…ä¿å­˜çš„ç›¸ç­‰ï¼Œç›¸ç­‰åˆ™è¯´æ˜å›åˆ°æ—§çš„éŸ³é¢‘é¡µï¼Œä¸åˆ›å»ºæ–°çš„ä¸Šä¸‹æ–‡è€Œæ˜¯ä½¿ç”¨æ—§çš„éŸ³é¢‘å¯¹è±¡ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">onLoad</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">val</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	playId.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> val.id</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">saveMusic.value.id </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> saveMusic.value.id </span><span style="color:#F97583;">!==</span><span style="color:#E1E4E8;"> playId.value) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#6A737D;">// å¦åˆ™è·å–æœ€æ–°çš„contextéŸ³é¢‘</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> uni.</span><span style="color:#B392F0;">createInnerAudioContext</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">		loading.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.src </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> saveMusic.value.playUrl;</span></span>
<span class="line"><span style="color:#E1E4E8;">		currentTime.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> saveMusic.value.auditionTime </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> Math.</span><span style="color:#B392F0;">round</span><span style="color:#E1E4E8;">(context.value.currentTime) </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> context.value.currentTime;</span></span>
<span class="line"><span style="color:#E1E4E8;">		playStatus.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.value.paused;</span></span>
<span class="line"><span style="color:#E1E4E8;">	} </span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#6A737D;">// å¦‚æœä¿å­˜çš„æ­£åœ¨å¬çš„æ•°æ®ä¸æœ¬æ•°æ®ä¸€è‡´ï¼Œä¸”ä»–æ˜¯æ­£åœ¨æ’­æ”¾çš„çŠ¶æ€ï¼Œåˆ™æ‹¿ä¿å­˜çš„contextéŸ³é¢‘</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> saveMusic.value.context</span></span>
<span class="line"><span style="color:#E1E4E8;">		duration.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.value.duration; </span><span style="color:#6A737D;">// å¦‚æœæ˜¯è·å–ç¼“å­˜çš„å€¼åˆ™ä¸ä¼šèµ°ä¸‹é¢context.value.onCanplayæ–¹æ³•ï¼Œæ— æ³•ç»™durationèµ‹å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">onCanplay</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		duration.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.value.duration;</span></span>
<span class="line"><span style="color:#E1E4E8;">		console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;éŸ³é¢‘æ’­æ”¾æ§ä»¶å‡†å¤‡å¥½äº†&quot;</span><span style="color:#E1E4E8;">, context.value.buffered, duration.value);</span></span>
<span class="line"><span style="color:#E1E4E8;">		loading.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">//éŸ³é¢‘é”™è¯¯æ—¶</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">onError</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		uni.</span><span style="color:#B392F0;">showToast</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">			title: res.errMsg,</span></span>
<span class="line"><span style="color:#E1E4E8;">			icon: </span><span style="color:#9ECBFF;">&#39;none&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">		})</span></span>
<span class="line"><span style="color:#E1E4E8;">		loading.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">//éŸ³é¢‘è¿›åº¦æ”¹å˜ç»“æŸ</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">onSeeked</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#B392F0;">onPlayAudio</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">	})</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">onTimeUpdate</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#B392F0;">timeUpdateFn</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">onEnded</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#B392F0;">ended</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">	})</span></span>
<span class="line"><span style="color:#E1E4E8;">	console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(context.value)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// é¦–é¡µç‚¹å‡»å°å›¾æ ‡é”€æ¯éŸ³é¢‘</span></span>
<span class="line"><span style="color:#E1E4E8;">	uni.</span><span style="color:#B392F0;">$once</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;ç›‘å¬é”€æ¯æŒ‰é’®ç‚¹å‡»äº‹ä»¶&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.</span><span style="color:#B392F0;">destroy</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">	})</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">onLoad</span><span style="color:#24292E;">((</span><span style="color:#E36209;">val</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	playId.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> val.id</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">saveMusic.value.id </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> saveMusic.value.id </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> playId.value) {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6A737D;">// å¦åˆ™è·å–æœ€æ–°çš„contextéŸ³é¢‘</span></span>
<span class="line"><span style="color:#24292E;">		context.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> uni.</span><span style="color:#6F42C1;">createInnerAudioContext</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">		loading.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">		context.value.src </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> saveMusic.value.playUrl;</span></span>
<span class="line"><span style="color:#24292E;">		currentTime.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> saveMusic.value.auditionTime </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> Math.</span><span style="color:#6F42C1;">round</span><span style="color:#24292E;">(context.value.currentTime) </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> context.value.currentTime;</span></span>
<span class="line"><span style="color:#24292E;">		playStatus.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.value.paused;</span></span>
<span class="line"><span style="color:#24292E;">	} </span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6A737D;">// å¦‚æœä¿å­˜çš„æ­£åœ¨å¬çš„æ•°æ®ä¸æœ¬æ•°æ®ä¸€è‡´ï¼Œä¸”ä»–æ˜¯æ­£åœ¨æ’­æ”¾çš„çŠ¶æ€ï¼Œåˆ™æ‹¿ä¿å­˜çš„contextéŸ³é¢‘</span></span>
<span class="line"><span style="color:#24292E;">		context.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> saveMusic.value.context</span></span>
<span class="line"><span style="color:#24292E;">		duration.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.value.duration; </span><span style="color:#6A737D;">// å¦‚æœæ˜¯è·å–ç¼“å­˜çš„å€¼åˆ™ä¸ä¼šèµ°ä¸‹é¢context.value.onCanplayæ–¹æ³•ï¼Œæ— æ³•ç»™durationèµ‹å€¼</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">onCanplay</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		duration.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.value.duration;</span></span>
<span class="line"><span style="color:#24292E;">		console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;éŸ³é¢‘æ’­æ”¾æ§ä»¶å‡†å¤‡å¥½äº†&quot;</span><span style="color:#24292E;">, context.value.buffered, duration.value);</span></span>
<span class="line"><span style="color:#24292E;">		loading.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">//éŸ³é¢‘é”™è¯¯æ—¶</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">onError</span><span style="color:#24292E;">((</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		uni.</span><span style="color:#6F42C1;">showToast</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">			title: res.errMsg,</span></span>
<span class="line"><span style="color:#24292E;">			icon: </span><span style="color:#032F62;">&#39;none&#39;</span></span>
<span class="line"><span style="color:#24292E;">		})</span></span>
<span class="line"><span style="color:#24292E;">		loading.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">//éŸ³é¢‘è¿›åº¦æ”¹å˜ç»“æŸ</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">onSeeked</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6F42C1;">onPlayAudio</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">	})</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">onTimeUpdate</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6F42C1;">timeUpdateFn</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">	</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">onEnded</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6F42C1;">ended</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">	})</span></span>
<span class="line"><span style="color:#24292E;">	console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(context.value)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// é¦–é¡µç‚¹å‡»å°å›¾æ ‡é”€æ¯éŸ³é¢‘</span></span>
<span class="line"><span style="color:#24292E;">	uni.</span><span style="color:#6F42C1;">$once</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;ç›‘å¬é”€æ¯æŒ‰é’®ç‚¹å‡»äº‹ä»¶&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		context.value.</span><span style="color:#6F42C1;">destroy</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">	})</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><p>ç°åœ¨å¯ä»¥æ’­æ”¾ï¼Œä¸”è¿›åº¦æ¡æ­£å¸¸è¡Œèµ°ã€‚</p><p>æœ¬ä»¥ä¸ºèƒ½å¤Ÿäº¤å·®äº†ï¼Œæµ‹è¯•å’Œæˆ‘è¯´å½“é‡å¤è¿›å…¥è¯¥é¡µé¢åå°±ä¼šå¡é¡¿ï¼Œæˆ‘å°è¯•äº†ä¸€ä¸‹åˆ°ç¬¬ä¸‰æ¬¡å·²ç»æ˜æ˜¾çš„å¡äº†ï¼Œåˆ°ç¬¬å…­æ¬¡ç›´æ¥ç‚¹ä¸åŠ¨äº†ï¼Œæ‰“å°éŸ³é¢‘å¯¹è±¡ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><a href="https://imgse.com/i/p9hWor9" target="_blank" rel="noreferrer"><img src="https://s1.ax1x.com/2023/05/19/p9hWor9.png" alt="p9hWor9.png"></a></p><p>å¯ä»¥çœ‹åˆ°æ¯ç‚¹å‡»ä¸€æ¬¡ä»–å°±å¾€é‡Œé¢æ·»åŠ ä¸€æ¬¡å‡½æ•°ã€‚è¿˜è®°å¾—å—ï¼Ÿåœ¨å‰é¢ä»‹ç»çš„æ—¶å€™æˆ‘ä»¬å·²ç»ä»‹ç»è¿‡äº†ï¼Œé‚£äº›æ–¹æ³•éƒ½æ˜¯ä¼ ä¸€ä¸ªå›è°ƒå‡½æ•°è¿›å»ï¼Œç­‰é‚£äº›æ–¹æ³•è§¦å‘åå†è§¦å‘å›è°ƒã€‚å› æ­¤è¶Šç§¯è¶Šå¤šï¼Œç›´åˆ°æœ€åå†…å­˜æº¢å‡ºã€‚</p><p>åç»­åˆåšäº†å…¶ä»–å°è¯•ï¼Œæ¯”å¦‚æ‰‹åŠ¨æ¸…ç©ºå†èµ‹å€¼ï¼ŒæŠŠé‚£äº›æ–¹æ³•éƒ½æ”¾è¿›ifå†…ï¼Œéƒ½æ²¡æœ‰æ•ˆæœã€‚</p><h3 id="èƒŒæ™¯éŸ³é¢‘æ’­æ”¾ç®¡ç†" tabindex="-1">èƒŒæ™¯éŸ³é¢‘æ’­æ”¾ç®¡ç† <a class="header-anchor" href="#èƒŒæ™¯éŸ³é¢‘æ’­æ”¾ç®¡ç†" aria-label="Permalink to &quot;èƒŒæ™¯éŸ³é¢‘æ’­æ”¾ç®¡ç†&quot;">â€‹</a></h3><h4 id="æ€è·¯ä¸ä»£ç " tabindex="-1">æ€è·¯ä¸ä»£ç  <a class="header-anchor" href="#æ€è·¯ä¸ä»£ç " aria-label="Permalink to &quot;æ€è·¯ä¸ä»£ç &quot;">â€‹</a></h4><p>åœ¨å¯»æ‰¾è§£å†³æ–¹æ³•æ—¶ï¼Œæ— æ„é—´å‘ç° <code>uniapp</code> æä¾›å¦å¤–ä¸€ä¸ªèƒŒæ™¯éŸ³é¢‘æ–¹æ³• <code>uni.getBackgroundAudioManager()</code> ï¼Œå®˜ç½‘æŒ‡è·¯ <a href="https://uniapp.dcloud.net.cn/api/media/background-audio-manager.html" target="_blank" rel="noreferrer"> uni.getBackgroundAudioManager()</a> ã€‚å®˜æ–¹æè¿°æ˜¯è¿™ä¹ˆå†™çš„ï¼š</p><blockquote><p>è·å–<strong>å…¨å±€å”¯ä¸€</strong>çš„èƒŒæ™¯éŸ³é¢‘ç®¡ç†å™¨ <code>backgroundAudioManager</code>ã€‚</p><p>èƒŒæ™¯éŸ³é¢‘ï¼Œä¸æ˜¯æ¸¸æˆçš„èƒŒæ™¯éŸ³ä¹ï¼Œè€Œæ˜¯ç±»ä¼¼QQéŸ³ä¹é‚£æ ·ï¼ŒAppåœ¨åå°æ—¶ï¼Œä»ç„¶åœ¨æ’­æ”¾éŸ³ä¹ã€‚å¦‚æœä½ ä¸éœ€è¦åœ¨Appåˆ‡åå°æ—¶ç»§ç»­æ’­æ”¾ï¼Œé‚£ä¹ˆä¸åº”è¯¥ä½¿ç”¨æœ¬APIï¼Œè€Œåº”è¯¥ä½¿ç”¨æ™®é€šéŸ³é¢‘API<a href="https://uniapp.dcloud.io/api/media/audio-context" target="_blank" rel="noreferrer">uni.createInnerAudioContext</a>ã€‚</p></blockquote><p>åˆšå¥½ç¬¦åˆæˆ‘ä»¬çš„åœºæ™¯è¦æ±‚ï¼ŒæŸ¥çœ‹å…¶äº‹ä»¶æ–¹æ³•å’Œå±æ€§ï¼Œä¸éŸ³é¢‘ç»„ä»¶å·®å¼‚ä¸å¤§ï¼Œç›´æ¥ä½¿ç”¨å³å¯ï¼Œæ³¨æ„äº‹é¡¹è´´åœ¨ä¸‹æ–¹ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">mineStore</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useMineStore</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#79B8FF;">saveMusic</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">storeToRefs</span><span style="color:#E1E4E8;">(mineStore)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// å˜é‡</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">onLoad</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">val</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	playId.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> val.id</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">saveMusic.value.id </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> saveMusic.value.id </span><span style="color:#F97583;">!==</span><span style="color:#E1E4E8;"> playId.value) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#6A737D;">// ä¸€ç³»åˆ—çš„èµ‹å€¼æ“ä½œ</span></span>
<span class="line"><span style="color:#E1E4E8;">	} </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> æ—§æ•°æ® </span><span style="color:#6A737D;">// å¦‚æœä¿å­˜çš„æ­£åœ¨å¬çš„æ•°æ®ä¸æœ¬æ•°æ®ä¸€è‡´ï¼Œä¸”ä»–æ˜¯æ­£åœ¨æ’­æ”¾çš„çŠ¶æ€ï¼Œåˆ™æ‹¿ä¿å­˜çš„contextéŸ³é¢‘</span></span>
<span class="line"><span style="color:#E1E4E8;">		playStatus.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.value.paused </span><span style="color:#6A737D;">// é‡æ–°è¿›æ¥åè·å–åˆ°çš„context.value.pausedå‚æ•°æ­£ç¡®ï¼Œtrue è¡¨ç¤ºæš‚åœæˆ–åœæ­¢ï¼Œfalse è¡¨ç¤ºæ­£åœ¨æ’­æ”¾</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (context.value.paused) currentTime.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> ä¹‹å‰ä¿å­˜çš„æ—¶é—´ </span><span style="color:#6A737D;">// å¦‚æœæ˜¯æš‚åœçŠ¶æ€å‡ºå»å†è¿›æ¥ï¼Œåˆè¯•æ—¶é—´ä¼šä¸º0ï¼Œå› æ­¤ä½¿ç”¨ä¹‹å‰èµ‹å€¼ä¿å­˜çš„éŸ³é¢‘æ—¶é•¿</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">onCanplay</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		duration.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.value.duration;</span></span>
<span class="line"><span style="color:#E1E4E8;">		console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;éŸ³é¢‘æ’­æ”¾æ§ä»¶å‡†å¤‡å¥½äº†&quot;</span><span style="color:#E1E4E8;">, context.value.buffered, duration.value);</span></span>
<span class="line"><span style="color:#E1E4E8;">		loading.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// éŸ³é¢‘æ­£åœ¨æ’­æ”¾äº‹ä»¶å›è°ƒ</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">onPlay</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		æ’­æ”¾çš„æ—¶å€™ä¿å­˜è¯¥éŸ³é¢‘çš„idå’Œå›¾ç‰‡ï¼Œå…¶ä»–é¡µé¢åšå°çª—å£æ˜¾ç¤º</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">//éŸ³é¢‘é”™è¯¯æ—¶</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">onError</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		uni.</span><span style="color:#B392F0;">showToast</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">			title: res.errMsg,</span></span>
<span class="line"><span style="color:#E1E4E8;">			icon: </span><span style="color:#9ECBFF;">&#39;none&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">		})</span></span>
<span class="line"><span style="color:#E1E4E8;">		loading.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// éŸ³é¢‘è¿›åº¦æ”¹å˜äº‹ä»¶å›è°ƒ</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">onTimeUpdate</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#B392F0;">timeUpdateFn</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// éŸ³é¢‘ç»“æŸäº‹ä»¶å›è°ƒ</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">onEnded</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#B392F0;">ended</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">	})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// é¦–é¡µç‚¹å‡»å°å›¾æ ‡é”€æ¯éŸ³é¢‘</span></span>
<span class="line"><span style="color:#E1E4E8;">	uni.</span><span style="color:#B392F0;">$once</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;close_play&#39;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.</span><span style="color:#B392F0;">stop</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">	})</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/*éŸ³é¢‘æ§åˆ¶*/</span></span>
<span class="line"><span style="color:#6A737D;">//æ’­æ”¾</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onPlayAudio</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">play</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">	playStatus.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"><span style="color:#6A737D;">//æš‚åœ</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onPauseAudio</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">pause</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">	playStatus.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"><span style="color:#6A737D;">//åœæ­¢</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onStopAudio</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">stop</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">	playStatus.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	currentTime.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">seek</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* </span></span>
<span class="line"><span style="color:#6A737D;">å¾ªç¯æ’­æ”¾</span></span>
<span class="line"><span style="color:#6A737D;"> loopNumï¼šå½“å‰å¾ªç¯æ’­æ”¾çš„æ¬¡æ•°</span></span>
<span class="line"><span style="color:#6A737D;"> loopNumAllï¼šå…±éœ€è¦å¾ªç¯æ’­æ”¾çš„æ¬¡æ•°</span></span>
<span class="line"><span style="color:#6A737D;"> loopTitleï¼šå¾ªç¯æ’­æ”¾çš„æ ‡é¢˜</span></span>
<span class="line"><span style="color:#6A737D;"> handleSheetFnï¼šç‚¹å‡»é€‰æ‹©å¾ªç¯æ’­æ”¾</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">loopNum</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">loopNumAll</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">loopTitle</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;å•æ¬¡æ’­æ”¾&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">handleSheetFn</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">index</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	list.value.</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		item.color </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;#000&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">	})</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">switch</span><span style="color:#E1E4E8;"> (index) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">			loopNumAll.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">			list.value[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].color </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;#e9a97e&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			loopTitle.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;å•æ¬¡æ’­æ”¾&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">			loopNumAll.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span></span>
<span class="line"><span style="color:#E1E4E8;">			list.value[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">].color </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;#e9a97e&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			loopTitle.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;å¾ªç¯3æ¬¡&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">case</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">			loopNumAll.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span></span>
<span class="line"><span style="color:#E1E4E8;">			list.value[</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">].color </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;#e9a97e&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			loopTitle.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;å¾ªç¯5æ¬¡&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">break</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#B392F0;">onPlayAudio</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//ç‚¹å‡»æ’­æ”¾æš‚åœ</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onPlay</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (playStatus.value) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#6A737D;">//æ’­æ”¾</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#B392F0;">onPlayAudio</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">	} </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#6A737D;">//æš‚åœ</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#B392F0;">onPauseAudio</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"><span style="color:#6A737D;">//æ‹–åŠ¨è¿›åº¦æ¡æ—¶</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> seekChangeType </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">changingAudioProgress</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	currentTime.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> e.detail.value;</span></span>
<span class="line"><span style="color:#E1E4E8;">	saveMusic.value.time </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> e.detail.value</span></span>
<span class="line"><span style="color:#E1E4E8;">	seekChangeType.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"><span style="color:#6A737D;">//è¿›åº¦æ¡æ‹–åŠ¨ç»“æŸ</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">changeAudioProgress</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	seekChangeType.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">	context.value.</span><span style="color:#B392F0;">seek</span><span style="color:#E1E4E8;">(e.detail.value);</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// éŸ³é¢‘æ’­æ”¾ç»“æŸå</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ended</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">duration</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> currentTime.value</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (loopNum.value </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> loopNumAll.value) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		loopType.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">		loopNum.value </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#B392F0;">onPlayAudio</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">	} </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		loopNum.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#B392F0;">onStopAudio</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">		loopType.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* </span></span>
<span class="line"><span style="color:#6A737D;"> éŸ³é¢‘è¿›åº¦æ”¹å˜</span></span>
<span class="line"><span style="color:#6A737D;"> seekChangeTypeï¼šéŸ³é¢‘ç»“æŸæ‹–åŠ¨</span></span>
<span class="line"><span style="color:#6A737D;"> context.value.pausedï¼šéŸ³é¢‘æ˜¯å¦åœ¨æ’­æ”¾</span></span>
<span class="line"><span style="color:#6A737D;"> å¦‚æœéŸ³é¢‘æ­£åœ¨æ’­æ”¾ï¼Œå€¼ä¸ºtrueï¼›å¦‚æœæ­£åœ¨æ‹–åŠ¨ï¼Œå€¼ä¸ºtrueï¼Œæ‹–åŠ¨ä¸”æ’­æ”¾çš„æ—¶å€™å°±ä¸æ”¹å˜éŸ³é¢‘è¿›åº¦æ¡ï¼Œä¸ç„¶ä¼šå‡ºç°å·¦å³åå¤æ¨ªè·³çš„æƒ…å†µ</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">timeUpdateFn</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">context.value.paused </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">seekChangeType.value) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// å†æŠŠæ•°æ®å­˜å‚¨åˆ°piniaä¸­ï¼Œå­˜å‚¨å½“å‰çš„æ—¶é•¿å’ŒéŸ³é¢‘å¯¹è±¡</span></span>
<span class="line"><span style="color:#E1E4E8;">		currentTime.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.value.currentTime</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">mineStore</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useMineStore</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#005CC5;">saveMusic</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">storeToRefs</span><span style="color:#24292E;">(mineStore)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// å˜é‡</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">onLoad</span><span style="color:#24292E;">((</span><span style="color:#E36209;">val</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	playId.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> val.id</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">saveMusic.value.id </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> saveMusic.value.id </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> playId.value) {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6A737D;">// ä¸€ç³»åˆ—çš„èµ‹å€¼æ“ä½œ</span></span>
<span class="line"><span style="color:#24292E;">	} </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		context.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> æ—§æ•°æ® </span><span style="color:#6A737D;">// å¦‚æœä¿å­˜çš„æ­£åœ¨å¬çš„æ•°æ®ä¸æœ¬æ•°æ®ä¸€è‡´ï¼Œä¸”ä»–æ˜¯æ­£åœ¨æ’­æ”¾çš„çŠ¶æ€ï¼Œåˆ™æ‹¿ä¿å­˜çš„contextéŸ³é¢‘</span></span>
<span class="line"><span style="color:#24292E;">		playStatus.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.value.paused </span><span style="color:#6A737D;">// é‡æ–°è¿›æ¥åè·å–åˆ°çš„context.value.pausedå‚æ•°æ­£ç¡®ï¼Œtrue è¡¨ç¤ºæš‚åœæˆ–åœæ­¢ï¼Œfalse è¡¨ç¤ºæ­£åœ¨æ’­æ”¾</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (context.value.paused) currentTime.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ä¹‹å‰ä¿å­˜çš„æ—¶é—´ </span><span style="color:#6A737D;">// å¦‚æœæ˜¯æš‚åœçŠ¶æ€å‡ºå»å†è¿›æ¥ï¼Œåˆè¯•æ—¶é—´ä¼šä¸º0ï¼Œå› æ­¤ä½¿ç”¨ä¹‹å‰èµ‹å€¼ä¿å­˜çš„éŸ³é¢‘æ—¶é•¿</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">onCanplay</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		duration.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.value.duration;</span></span>
<span class="line"><span style="color:#24292E;">		console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;éŸ³é¢‘æ’­æ”¾æ§ä»¶å‡†å¤‡å¥½äº†&quot;</span><span style="color:#24292E;">, context.value.buffered, duration.value);</span></span>
<span class="line"><span style="color:#24292E;">		loading.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// éŸ³é¢‘æ­£åœ¨æ’­æ”¾äº‹ä»¶å›è°ƒ</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">onPlay</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		æ’­æ”¾çš„æ—¶å€™ä¿å­˜è¯¥éŸ³é¢‘çš„idå’Œå›¾ç‰‡ï¼Œå…¶ä»–é¡µé¢åšå°çª—å£æ˜¾ç¤º</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">//éŸ³é¢‘é”™è¯¯æ—¶</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">onError</span><span style="color:#24292E;">((</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		uni.</span><span style="color:#6F42C1;">showToast</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">			title: res.errMsg,</span></span>
<span class="line"><span style="color:#24292E;">			icon: </span><span style="color:#032F62;">&#39;none&#39;</span></span>
<span class="line"><span style="color:#24292E;">		})</span></span>
<span class="line"><span style="color:#24292E;">		loading.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// éŸ³é¢‘è¿›åº¦æ”¹å˜äº‹ä»¶å›è°ƒ</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">onTimeUpdate</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6F42C1;">timeUpdateFn</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// éŸ³é¢‘ç»“æŸäº‹ä»¶å›è°ƒ</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">onEnded</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6F42C1;">ended</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">	})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// é¦–é¡µç‚¹å‡»å°å›¾æ ‡é”€æ¯éŸ³é¢‘</span></span>
<span class="line"><span style="color:#24292E;">	uni.</span><span style="color:#6F42C1;">$once</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;close_play&#39;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		context.value.</span><span style="color:#6F42C1;">stop</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">	})</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/*éŸ³é¢‘æ§åˆ¶*/</span></span>
<span class="line"><span style="color:#6A737D;">//æ’­æ”¾</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onPlayAudio</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">play</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">	playStatus.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#6A737D;">//æš‚åœ</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onPauseAudio</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">pause</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">	playStatus.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#6A737D;">//åœæ­¢</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onStopAudio</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">stop</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">	playStatus.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	currentTime.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">seek</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* </span></span>
<span class="line"><span style="color:#6A737D;">å¾ªç¯æ’­æ”¾</span></span>
<span class="line"><span style="color:#6A737D;"> loopNumï¼šå½“å‰å¾ªç¯æ’­æ”¾çš„æ¬¡æ•°</span></span>
<span class="line"><span style="color:#6A737D;"> loopNumAllï¼šå…±éœ€è¦å¾ªç¯æ’­æ”¾çš„æ¬¡æ•°</span></span>
<span class="line"><span style="color:#6A737D;"> loopTitleï¼šå¾ªç¯æ’­æ”¾çš„æ ‡é¢˜</span></span>
<span class="line"><span style="color:#6A737D;"> handleSheetFnï¼šç‚¹å‡»é€‰æ‹©å¾ªç¯æ’­æ”¾</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">loopNum</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">loopNumAll</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">loopTitle</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;å•æ¬¡æ’­æ”¾&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">handleSheetFn</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#E36209;">index</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	list.value.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(</span><span style="color:#E36209;">item</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		item.color </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;#000&#39;</span></span>
<span class="line"><span style="color:#24292E;">	})</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">switch</span><span style="color:#24292E;"> (index) {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">			loopNumAll.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">			list.value[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].color </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;#e9a97e&#39;</span></span>
<span class="line"><span style="color:#24292E;">			loopTitle.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;å•æ¬¡æ’­æ”¾&#39;</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">			loopNumAll.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span></span>
<span class="line"><span style="color:#24292E;">			list.value[</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">].color </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;#e9a97e&#39;</span></span>
<span class="line"><span style="color:#24292E;">			loopTitle.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;å¾ªç¯3æ¬¡&#39;</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">case</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">			loopNumAll.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span></span>
<span class="line"><span style="color:#24292E;">			list.value[</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">].color </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;#e9a97e&#39;</span></span>
<span class="line"><span style="color:#24292E;">			loopTitle.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;å¾ªç¯5æ¬¡&#39;</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">default</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6F42C1;">onPlayAudio</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//ç‚¹å‡»æ’­æ”¾æš‚åœ</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onPlay</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (playStatus.value) {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6A737D;">//æ’­æ”¾</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6F42C1;">onPlayAudio</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">	} </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6A737D;">//æš‚åœ</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6F42C1;">onPauseAudio</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#6A737D;">//æ‹–åŠ¨è¿›åº¦æ¡æ—¶</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> seekChangeType </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">false</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">changingAudioProgress</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">e</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	currentTime.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> e.detail.value;</span></span>
<span class="line"><span style="color:#24292E;">	saveMusic.value.time </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> e.detail.value</span></span>
<span class="line"><span style="color:#24292E;">	seekChangeType.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#6A737D;">//è¿›åº¦æ¡æ‹–åŠ¨ç»“æŸ</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">changeAudioProgress</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">e</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	seekChangeType.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">	context.value.</span><span style="color:#6F42C1;">seek</span><span style="color:#24292E;">(e.detail.value);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// éŸ³é¢‘æ’­æ”¾ç»“æŸå</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ended</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">duration</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> currentTime.value</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (loopNum.value </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> loopNumAll.value) {</span></span>
<span class="line"><span style="color:#24292E;">		loopType.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">		loopNum.value </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6F42C1;">onPlayAudio</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">	} </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		loopNum.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6F42C1;">onStopAudio</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">		loopType.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* </span></span>
<span class="line"><span style="color:#6A737D;"> éŸ³é¢‘è¿›åº¦æ”¹å˜</span></span>
<span class="line"><span style="color:#6A737D;"> seekChangeTypeï¼šéŸ³é¢‘ç»“æŸæ‹–åŠ¨</span></span>
<span class="line"><span style="color:#6A737D;"> context.value.pausedï¼šéŸ³é¢‘æ˜¯å¦åœ¨æ’­æ”¾</span></span>
<span class="line"><span style="color:#6A737D;"> å¦‚æœéŸ³é¢‘æ­£åœ¨æ’­æ”¾ï¼Œå€¼ä¸ºtrueï¼›å¦‚æœæ­£åœ¨æ‹–åŠ¨ï¼Œå€¼ä¸ºtrueï¼Œæ‹–åŠ¨ä¸”æ’­æ”¾çš„æ—¶å€™å°±ä¸æ”¹å˜éŸ³é¢‘è¿›åº¦æ¡ï¼Œä¸ç„¶ä¼šå‡ºç°å·¦å³åå¤æ¨ªè·³çš„æƒ…å†µ</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">timeUpdateFn</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">context.value.paused </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!</span><span style="color:#24292E;">seekChangeType.value) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// å†æŠŠæ•°æ®å­˜å‚¨åˆ°piniaä¸­ï¼Œå­˜å‚¨å½“å‰çš„æ—¶é•¿å’ŒéŸ³é¢‘å¯¹è±¡</span></span>
<span class="line"><span style="color:#24292E;">		currentTime.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.value.currentTime</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="æ³¨æ„äº‹é¡¹" tabindex="-1">æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#æ³¨æ„äº‹é¡¹" aria-label="Permalink to &quot;æ³¨æ„äº‹é¡¹&quot;">â€‹</a></h4><ol><li>èƒŒæ™¯éŸ³é¢‘æ²¡æœ‰ <code>onSeeked</code> äº‹ä»¶ï¼Œå› æ­¤éœ€è¦æŠŠå®ƒåˆ æ‰ï¼Œå¦åˆ™æŠ¥é”™</li><li>ä¸€è¿›å…¥é¡µé¢é»˜è®¤æ’­æ”¾éŸ³é¢‘ï¼Œè€Œåœ¨ <code>onCanplay</code> ä¸­è·å–å…¶æ’­æ”¾çŠ¶æ€æ˜¯ <code>true</code> ï¼Œæœªæ’­æ”¾ï¼Œæ‰€ä»¥æ­¤å¤„ä¸è·å–ï¼Œç›´æ¥å†™æ­»ä¸º <code>false</code></li><li>èƒŒæ™¯éŸ³é¢‘ç»„ä»¶æ²¡æœ‰é”€æ¯æ–¹æ³•ï¼Œåªæœ‰åœæ­¢æ–¹æ³•ï¼Œéœ€è¦çš„æ—¶å€™è°ƒç”¨åœæ­¢æ–¹æ³•å³å¯</li></ol><h3 id="å¾ªç¯æ’­æ”¾è¿›åº¦æ¡è¿›åº¦ä¸å˜" tabindex="-1">å¾ªç¯æ’­æ”¾è¿›åº¦æ¡è¿›åº¦ä¸å˜ <a class="header-anchor" href="#å¾ªç¯æ’­æ”¾è¿›åº¦æ¡è¿›åº¦ä¸å˜" aria-label="Permalink to &quot;å¾ªç¯æ’­æ”¾è¿›åº¦æ¡è¿›åº¦ä¸å˜&quot;">â€‹</a></h3><p>ç”±äºè¯¥äº‹ä»¶æ–¹æ³•æ²¡æœ‰ <code>loop</code> æ–¹æ³•ï¼Œåœ¨å®ç°å¾ªç¯æ’­æ”¾æ—¶æˆ‘é‡‡å–åœ¨åœæ­¢äº‹ä»¶å›è°ƒä¸­é‡æ–°è°ƒç”¨éŸ³é¢‘æ’­æ”¾çš„æ–¹æ³•ï¼Œåšåˆ°å¾ªç¯æ’­æ”¾ã€‚</p><p>ç„¶åä»Šå¤©æµ‹è¯•å‘ç°ä¸€ä¸ªæ–° BUG ï¼šå½“éŸ³é¢‘æ’­æ”¾å®Œåé‡æ–°æ’­æ”¾æ—¶è¿›åº¦æ¡ä¸èµ°ï¼Œä½†æ˜¯è¿˜æ˜¯åœ¨æ­£å¸¸æ’­æ”¾ã€‚</p><p>å¼€å§‹æ’æŸ¥é—®é¢˜ï¼Œé¦–å…ˆåœ¨éŸ³é¢‘è¿›åº¦æ¡æ”¹å˜çš„å›è°ƒä¸­æ‰“å°å½“å‰éŸ³é¢‘çš„æ—¶é•¿ <code>currentTime</code> ï¼Œå‘ç°ä»–æœ‰ä¸€ç›´æ‰“å°ï¼Œä½†æ˜¯å€¼éƒ½æ˜¯0ï¼Œæ‰€ä»¥è¿›åº¦æ¡æ‰ä¸å˜ã€‚</p><p>æ‰¾åˆ°é—®é¢˜åå°±è¦è§£å†³é—®é¢˜ï¼Œç™¾åº¦ä¸€ç•ªååœ¨ å¾®ä¿¡é—®ç­”ç¤¾åŒºä¸€ä¸ªæ BUG çš„å¸–å­æ‰¾åˆ°æœ‰ç±»ä¼¼çš„é—®é¢˜å’Œè§£å†³æ–¹æ³•ï¼Œé™„ä¸Šé“¾æ¥ï¼š<a href="https://developers.weixin.qq.com/community/develop/doc/00068a72a2c588d3c6c8edeac56800" target="_blank" rel="noreferrer">InnerAudioContext.onTimeUpdateå†æ¬¡è°ƒç”¨ä¸è§¦å‘</a> ã€‚</p><p>æ ¹æ®å›ç­”ï¼Œåœ¨æ’­æ”¾äº‹ä»¶ä¸­æ·»åŠ ä¸‹é¢ä¸€å¥ä»£ç å³å¯å®ç°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">//æ’­æ”¾</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onPlayAudio</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    context.value.</span><span style="color:#B392F0;">pause</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    context.value.</span><span style="color:#B392F0;">play</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    playStatus.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//æ’­æ”¾</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onPlayAudio</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    context.value.</span><span style="color:#6F42C1;">pause</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    context.value.</span><span style="color:#6F42C1;">play</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    playStatus.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h3 id="ä»£ç ä¼˜åŒ–" tabindex="-1">ä»£ç ä¼˜åŒ– <a class="header-anchor" href="#ä»£ç ä¼˜åŒ–" aria-label="Permalink to &quot;ä»£ç ä¼˜åŒ–&quot;">â€‹</a></h3><p>å®Œæˆåå¯ä»¥å‘ç°ä»£ç å·²ç»æœ‰800è¡Œäº†ï¼Œå› æ­¤éœ€è¦æŠŠéŸ³é¢‘äº‹ä»¶æ–¹æ³•å•ç‹¬æŠ½ç¦»å‡ºæ¥ï¼Œåç»­ä¹Ÿå¥½ç»´æŠ¤ã€‚éŸ³é¢‘æ¨¡å—æœ‰å¤šä¸ªé¡µé¢éœ€è¦ä½¿ç”¨ï¼Œå› æ­¤æ”¾åˆ° <code>pinia</code> ä¸­æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚</p><p>åœ¨ <code>pinia</code> ä¸­åˆ›å»ºä»“åº“ï¼Œå¯¼å‡ºä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°ä¸­é€šè¿‡ <code>return</code> å¤–éƒ¨éœ€è¦ä½¿ç”¨çš„æ–¹æ³•å’Œå˜é‡å³å¯ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	defineStore</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;pinia&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	ref</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vue&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//å…¨å±€å¯æ§çŠ¶æ€hook</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">useMusicStore</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineStore</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;music&quot;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">context</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(uni.</span><span style="color:#B392F0;">getBackgroundAudioManager</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// é”€æ¯</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">distoryAudioFn</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		saveMusic.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {}</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.src </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#B392F0;">musicFinishFn</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">		context,</span></span>
<span class="line"><span style="color:#E1E4E8;">		distoryAudioFn,</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">	}</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	defineStore</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;pinia&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	ref</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vue&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//å…¨å±€å¯æ§çŠ¶æ€hook</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">useMusicStore</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineStore</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;music&quot;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">context</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(uni.</span><span style="color:#6F42C1;">getBackgroundAudioManager</span><span style="color:#24292E;">())</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// é”€æ¯</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">distoryAudioFn</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		saveMusic.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {}</span></span>
<span class="line"><span style="color:#24292E;">		context.value.src </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&#39;</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6F42C1;">musicFinishFn</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">		context,</span></span>
<span class="line"><span style="color:#24292E;">		distoryAudioFn,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h3 id="å…¶ä»–åŠŸèƒ½" tabindex="-1">å…¶ä»–åŠŸèƒ½ <a class="header-anchor" href="#å…¶ä»–åŠŸèƒ½" aria-label="Permalink to &quot;å…¶ä»–åŠŸèƒ½&quot;">â€‹</a></h3><h4 id="æ’­æ”¾æ—¶é•¿" tabindex="-1">æ’­æ”¾æ—¶é•¿ <a class="header-anchor" href="#æ’­æ”¾æ—¶é•¿" aria-label="Permalink to &quot;æ’­æ”¾æ—¶é•¿&quot;">â€‹</a></h4><p>ç”¨æˆ·è¿˜æå‡ºäº†å…¶ä»–çš„éœ€æ±‚ï¼Œæ¯”å¦‚æ¯ä¸€ä¸ªéŸ³é¢‘å”®å–çš„æ˜¯è¯¥éŸ³é¢‘çš„æ’­æ”¾æ—¶é•¿ï¼Œéœ€è¦åœ¨ç”¨æˆ·éŸ³é¢‘æš‚åœã€åœæ­¢æ—¶æŠŠç”¨æˆ·å¬çš„æ—¶é•¿ä¼ è¿‡å»ç»™åç«¯ã€‚</p><p>ç›®å‰æ•´ç†ä¸‹æ¥ï¼Œéœ€è¦ç”¨åˆ°çš„åœ°æ–¹æœ‰ï¼š</p><ol><li>ç”¨æˆ·ç‚¹å‡»æš‚åœ</li><li>éŸ³é¢‘æ’­æ”¾å®Œæ¯•</li><li>å¾ªç¯æ’­æ”¾æ¯ä¸€æ¬¡çš„ç»“æŸ</li><li>ç”¨æˆ·ç‚¹å‡»å‰å·å…³é—­éŸ³é¢‘</li></ol><p>è€Œç”¨æˆ·å¬çš„æ—¶é•¿æˆ‘ä¸€å¼€å§‹é€šè¿‡éŸ³é¢‘æ’­æ”¾çš„å½“å‰æ—¶é—´ä½œä¸ºå‚æ•°ä¼ é€’è¿‡å»ï¼Œä½†æ˜¯è¿™æ ·å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼šç”¨æˆ·å¬åˆ°30ç§’ï¼Œç‚¹æš‚åœï¼Œä¼ äº†30è¿‡å»ï¼›ç”¨æˆ·ç»§ç»­å¬ï¼Œå¬åˆ°50ç‚¹æš‚åœï¼Œä¼ äº†50è¿‡å»ã€‚ç”¨æˆ·å®é™…ä¸Šå¬äº†50ç§’ï¼Œä½†æ˜¯ä¼ ç»™åç«¯çš„æ˜¯80ã€‚</p><p>æˆ‘çš„è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨éŸ³é¢‘æ’­æ”¾å›è°ƒå‡½æ•°ä¸­å¼€å¯å®šæ—¶å™¨ï¼Œå½“éŸ³é¢‘æ’­æ”¾æ—¶è®©å˜é‡è‡ªå¢1ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">context.value.</span><span style="color:#B392F0;">onPlay</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">timer.value) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        timer.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setInterval</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            listerenTime.value </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">        }, </span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">context.value.</span><span style="color:#6F42C1;">onPlay</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">timer.value) {</span></span>
<span class="line"><span style="color:#24292E;">        timer.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setInterval</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            listerenTime.value </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">        }, </span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">})</span></span></code></pre></div><p>å½“è§¦å‘æš‚åœæˆ–åœæ­¢è°ƒç”¨æ¥å£ä¼ å®Œå‚æ•°åå†æŠŠå‚æ•°æ¸…0ï¼Œå®šæ—¶å™¨å…³é—­ã€‚åªä¸è¿‡è¿™ä¸ªæ–¹æ³•å¹¶ä¸ä¼˜é›…ï¼Œä¸”æœ‰ä¸€å®šçš„ç§’æ•°è¯¯å·®ï¼Œæš‚æ—¶æ²¡æœ‰æ›´å¥½çš„ä¼˜åŒ–æ–¹æ³•ã€‚</p><h4 id="æ–­ç½‘åœæ­¢" tabindex="-1">æ–­ç½‘åœæ­¢ <a class="header-anchor" href="#æ–­ç½‘åœæ­¢" aria-label="Permalink to &quot;æ–­ç½‘åœæ­¢&quot;">â€‹</a></h4><p>ç”±äºè¦è®°å½•ç”¨æˆ·å¬çš„æ—¶é•¿ï¼Œå¹¶è°ƒç”¨æ¥å£ä¼ å‚ç»™åç«¯ï¼Œå› æ­¤å½“ç”¨æˆ·æ–­ç½‘æ—¶å‰ç«¯æ— æ³•è°ƒæ¥å£ã€‚æ•…åŠ äº†ä¸€ä¸ªæ–­ç½‘ååœæ­¢æ’­æ”¾çš„åŠŸèƒ½ã€‚</p><p>æ€è·¯å¦‚ä¸‹æ‰€ç¤ºï¼š</p><ol><li>åœ¨éŸ³é¢‘æŒç»­æ’­æ”¾æ—¶æ£€æµ‹å½“å‰ç½‘ç»œ</li><li>å¦‚æœç½‘ç»œä¸­æ–­åˆ™åœæ­¢éŸ³é¢‘å¹¶æœ¬åœ°å­˜å‚¨éŸ³é¢‘çš„æ—¶é•¿</li><li>ä¸‹ä¸€æ¬¡è”ç½‘æ’­æ”¾éŸ³é¢‘æ—¶æŠŠæœ¬åœ°å­˜å‚¨çš„æ—¶é•¿åŠ ä¸Šå»</li></ol><p>æ€è·¯åˆ†æå®Œæ¯•ï¼Œæ¥ä¸‹æ¥ç€æ‰‹å¦‚ä½•å®ç°ã€‚</p><p>å½“éŸ³é¢‘åœ¨æ’­æ”¾æ—¶ï¼Œä¼šæŒç»­è§¦å‘ <code>onTimeUpdate</code> å›è°ƒå‡½æ•°ï¼Œå› æ­¤åœ¨è¿™ä¸Šé¢æ·»åŠ åˆ¤æ–­ã€‚ <code>uniapp</code> æä¾›äº† <code>uni.getNetworkType()</code> æ–¹æ³•ï¼Œå…¶ä¸­æˆåŠŸå›è°ƒå‡½æ•°è¿”å› <code>networkType</code> ç½‘ç»œç±»å‹ï¼Œæœ‰æ•ˆå€¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p><table><thead><tr><th style="text-align:left;"></th><th style="text-align:left;"></th><th style="text-align:left;"></th></tr></thead><tbody><tr><td style="text-align:left;">å€¼</td><td style="text-align:left;">è¯´æ˜</td><td style="text-align:left;">å¹³å°å·®å¼‚è¯´æ˜</td></tr><tr><td style="text-align:left;">wifi</td><td style="text-align:left;">wifi ç½‘ç»œ</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">2g</td><td style="text-align:left;">2g ç½‘ç»œ</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">3g</td><td style="text-align:left;">3g ç½‘ç»œ</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">4g</td><td style="text-align:left;">4g ç½‘ç»œ</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">5g</td><td style="text-align:left;">5g ç½‘ç»œ</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">ethernet</td><td style="text-align:left;">æœ‰çº¿ç½‘ç»œ</td><td style="text-align:left;">App</td></tr><tr><td style="text-align:left;">unknown</td><td style="text-align:left;">Android ä¸‹ä¸å¸¸è§çš„ç½‘ç»œç±»å‹</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">none</td><td style="text-align:left;">æ— ç½‘ç»œ</td><td style="text-align:left;"></td></tr></tbody></table><p>å› æ­¤åªéœ€è¦åˆ¤æ–­å…¶æ˜¯å¦æ˜¯ <code>none</code> ç±»å‹å³å¯ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// æ£€æµ‹å½“å‰æ˜¯å¦æœ‰ç½‘ç»œ</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">checkNetworkStatus</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	uni.</span><span style="color:#B392F0;">getNetworkType</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#B392F0;">success</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">networkType</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> res.networkType;</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (networkType </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;none&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#6A737D;">// ç”¨æˆ·æ— ç½‘ç»œè¿æ¥</span></span>
<span class="line"><span style="color:#E1E4E8;">				uni.</span><span style="color:#B392F0;">showToast</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">					title: </span><span style="color:#9ECBFF;">&#39;æ£€æµ‹åˆ°ä½ çš„ç½‘ç»œæœªè¿æ¥ï¼Œè¯·å…ˆè¿æ¥ç½‘ç»œ&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">					icon: </span><span style="color:#9ECBFF;">&#39;none&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">				})</span></span>
<span class="line"><span style="color:#E1E4E8;">				context.value.</span><span style="color:#B392F0;">pause</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">			}</span></span>
<span class="line"><span style="color:#E1E4E8;">		}</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// éŸ³é¢‘è¿›åº¦æ”¹å˜äº‹ä»¶å›è°ƒ</span></span>
<span class="line"><span style="color:#E1E4E8;">context.value.</span><span style="color:#B392F0;">onTimeUpdate</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#B392F0;">checkNetworkStatus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">//...</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// æ£€æµ‹å½“å‰æ˜¯å¦æœ‰ç½‘ç»œ</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">checkNetworkStatus</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	uni.</span><span style="color:#6F42C1;">getNetworkType</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">: </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">networkType</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> res.networkType;</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (networkType </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;none&#39;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#6A737D;">// ç”¨æˆ·æ— ç½‘ç»œè¿æ¥</span></span>
<span class="line"><span style="color:#24292E;">				uni.</span><span style="color:#6F42C1;">showToast</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">					title: </span><span style="color:#032F62;">&#39;æ£€æµ‹åˆ°ä½ çš„ç½‘ç»œæœªè¿æ¥ï¼Œè¯·å…ˆè¿æ¥ç½‘ç»œ&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">					icon: </span><span style="color:#032F62;">&#39;none&#39;</span></span>
<span class="line"><span style="color:#24292E;">				})</span></span>
<span class="line"><span style="color:#24292E;">				context.value.</span><span style="color:#6F42C1;">pause</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">			}</span></span>
<span class="line"><span style="color:#24292E;">		}</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// éŸ³é¢‘è¿›åº¦æ”¹å˜äº‹ä»¶å›è°ƒ</span></span>
<span class="line"><span style="color:#24292E;">context.value.</span><span style="color:#6F42C1;">onTimeUpdate</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6F42C1;">checkNetworkStatus</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//...</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h4 id="éŸ³é¢‘ä¸‹è½½" tabindex="-1">éŸ³é¢‘ä¸‹è½½ <a class="header-anchor" href="#éŸ³é¢‘ä¸‹è½½" aria-label="Permalink to &quot;éŸ³é¢‘ä¸‹è½½&quot;">â€‹</a></h4><p>å…è´¹éŸ³é¢‘æ”¯æŒç”¨æˆ·ä¸‹è½½åŠŸèƒ½ï¼Œä¸‹è½½åŠŸèƒ½çš„å®ç°ä¾é  <code>uniapp</code> æä¾›çš„ <a href="https://uniapp.dcloud.net.cn/api/request/network-file.html#downloadfile" target="_blank" rel="noreferrer">uni.downloadFile</a> æ–¹æ³•ã€‚è¯¥æ–¹æ³•æˆåŠŸåä¼šè§¦å‘ <code>success</code> å‡½æ•°ï¼Œè¿”å›ä¸‹è½½å¥½çš„ä¸´æ—¶è·¯å¾„ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;tempFilePath&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;_doc/uniapp_temp_1672380474492/download/WeChat_0002_1672367513721.mp4&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;statusCode&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#9ECBFF;">&quot;errMsg&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;downloadFile:ok&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;tempFilePath&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;_doc/uniapp_temp_1672380474492/download/WeChat_0002_1672367513721.mp4&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;statusCode&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#032F62;">&quot;errMsg&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;downloadFile:ok&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>å…³é—­é¡¹ç›®ååœ°å€ä¸å­˜åœ¨ï¼Œå› æ­¤éœ€è¦æ­é… <a href="https://uniapp.dcloud.net.cn/api/file/file#savefile" target="_blank" rel="noreferrer">uni.saveFile</a> ç¼“å­˜åˆ°æœ¬åœ°ä¸­ã€‚ä¸‹è½½æˆåŠŸåæ–‡ä»¶ä¼šä¿å­˜åœ¨ <code>\Android\data\com.yinguo.....\apps\doc\uniapp_save</code> è·¯å¾„çš„æ–‡ä»¶å¤¹ä¸‹ã€‚</p><p>æ€è·¯æ•´ç†ï¼š</p><ul><li><code>uni.downloadFile</code> æŠŠæ–‡ä»¶ç¼“å­˜åˆ°ä¸´æ—¶åœ°å€</li><li><code>uni.saveFile</code> æŠŠæ–‡ä»¶ä¸‹è½½åˆ°æ‰‹æœºå†…</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">downloadMusicFn</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	uni.</span><span style="color:#B392F0;">showLoading</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">		title: </span><span style="color:#9ECBFF;">&#39;ä¸‹è½½ä¸­ï¼Œè¯·ç¨ç­‰&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">	})</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// ä¸‹è½½ä¸´æ—¶æ–‡ä»¶äº‹ä»¶</span></span>
<span class="line"><span style="color:#E1E4E8;">	uni.</span><span style="color:#B392F0;">downloadFile</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">		url: éŸ³é¢‘åœ°å€,</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#B392F0;">success</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (res.statusCode </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#6A737D;">// ä¸´æ—¶æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°</span></span>
<span class="line"><span style="color:#E1E4E8;">				uni.</span><span style="color:#B392F0;">saveFile</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">					tempFilePath: res.tempFilePath,</span></span>
<span class="line"><span style="color:#E1E4E8;">					</span><span style="color:#B392F0;">success</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">result</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">						uni.</span><span style="color:#B392F0;">hideLoading</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">					}</span></span>
<span class="line"><span style="color:#E1E4E8;">				});</span></span>
<span class="line"><span style="color:#E1E4E8;">			}</span></span>
<span class="line"><span style="color:#E1E4E8;">		}</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">downloadMusicFn</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	uni.</span><span style="color:#6F42C1;">showLoading</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">		title: </span><span style="color:#032F62;">&#39;ä¸‹è½½ä¸­ï¼Œè¯·ç¨ç­‰&#39;</span></span>
<span class="line"><span style="color:#24292E;">	})</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// ä¸‹è½½ä¸´æ—¶æ–‡ä»¶äº‹ä»¶</span></span>
<span class="line"><span style="color:#24292E;">	uni.</span><span style="color:#6F42C1;">downloadFile</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">		url: éŸ³é¢‘åœ°å€,</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (res.statusCode </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#6A737D;">// ä¸´æ—¶æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°</span></span>
<span class="line"><span style="color:#24292E;">				uni.</span><span style="color:#6F42C1;">saveFile</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">					tempFilePath: res.tempFilePath,</span></span>
<span class="line"><span style="color:#24292E;">					</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">: </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(</span><span style="color:#E36209;">result</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">						uni.</span><span style="color:#6F42C1;">hideLoading</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">					}</span></span>
<span class="line"><span style="color:#24292E;">				});</span></span>
<span class="line"><span style="color:#24292E;">			}</span></span>
<span class="line"><span style="color:#24292E;">		}</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="h5é€‚é…" tabindex="-1">H5é€‚é… <a class="header-anchor" href="#h5é€‚é…" aria-label="Permalink to &quot;H5é€‚é…&quot;">â€‹</a></h3><h4 id="apié€‰æ‹©" tabindex="-1">APIé€‰æ‹© <a class="header-anchor" href="#apié€‰æ‹©" aria-label="Permalink to &quot;APIé€‰æ‹©&quot;">â€‹</a></h4><p>åº”å®¢æˆ·ä¸ä¸Šå¤´è¦æ±‚ï¼Œè¯¥é¡¹ç›®ä¸ä»…éœ€è¦å‡ºå®‰å“ä¸ IOS ç‰ˆæœ¬ï¼Œè¿˜è¦å‡ºä¸€ä¸ª H5 ç‰ˆæœ¬ï¼Œåœ¨ H5 ä¸­ <code> uni.getBackgroundAudioManager()</code> æ–¹æ³•ä¸å¯ä½¿ç”¨ã€‚</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>é€šè¿‡ <code>#ifdef H5</code> ä¸ <code>#ifndef H5</code> å¯¹æ˜¯å¦æ˜¯ H5 åšå¤„ç†ï¼Œé H5 é¡µé¢å°±ä½¿ç”¨ <code> uni.getBackgroundAudioManager()</code> æ–¹æ³•ï¼Œå¦‚æœæ˜¯ H5 é¡µé¢ä½¿ç”¨å›ä¹‹å‰ <code>uni.createInnerAudioContext()</code> æ–¹æ³•ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ª API æœ‰éƒ¨åˆ†åŠŸèƒ½ä¸ä¸€è‡´ï¼Œéœ€è¦åšé¢å¤–çš„å¤„ç†ã€‚æ¯”å¦‚ï¼Œ <code> uni.getBackgroundAudioManager()</code> API æ²¡æœ‰ <code>onSeeked</code> äº‹ä»¶å›è°ƒç­‰ã€‚</p><h4 id="åŠ è½½é¡ºåº" tabindex="-1">åŠ è½½é¡ºåº <a class="header-anchor" href="#åŠ è½½é¡ºåº" aria-label="Permalink to &quot;åŠ è½½é¡ºåº&quot;">â€‹</a></h4><p>æµ‹è¯•åœ¨ä½¿ç”¨ IOS ç³»ç»Ÿçš„æ‰‹æœºæµ‹è¯• H5 ç«¯æ—¶ï¼Œå‘ç°ä¸€ç›´å¤„äº <code>loading</code> æ•ˆæœã€‚æŸ¥çœ‹ä»£ç ï¼Œä»£ç å¤„ç†é€»è¾‘æ²¡é—®é¢˜ï¼Œä¸€å¼€å§‹å¼€å¯ <code>loading</code> çŠ¶æ€ï¼Œåœ¨ <code>onCanplay</code> å›è°ƒä¸­å…³é—­ã€‚</p><p>ä¸ºäº†æ£€æŸ¥æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œæˆ‘æŠŠ <code>loading</code> å»æ‰ï¼Œå‘ç°ç‚¹å‡»æ’­æ”¾æŒ‰é’®è§¦å‘ <code>play()</code> æ–¹æ³•åæ‰è§¦å‘ <code>onCanplay</code> å›è°ƒï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿæœ‰è¿™ä¹ˆä¸€å¥è¯ï¼š</p><p>æ’­æ”¾ï¼ˆH5ç«¯éƒ¨åˆ†æµè§ˆå™¨éœ€åœ¨ç”¨æˆ·äº¤äº’æ—¶è¿›è¡Œï¼‰</p><h4 id="æ–­ç½‘åœæ­¢-1" tabindex="-1">æ–­ç½‘åœæ­¢ <a class="header-anchor" href="#æ–­ç½‘åœæ­¢-1" aria-label="Permalink to &quot;æ–­ç½‘åœæ­¢&quot;">â€‹</a></h4><p>æµ‹è¯•åœ¨æµ‹è¯•çš„æ—¶å€™å‘ç° IOS ä¸Šçš„ H5 ç«¯æ–­ç½‘é€»è¾‘æ²¡æœ‰è§¦å‘ï¼Œäºæ˜¯å¼€å§‹æ’æŸ¥ã€‚</p><p>æ‰“å°ç½‘ç»œç±»å‹æ—¶å‘ç°ï¼Œå…¶è¿”å›çš„ä¸æ˜¯ <code>none</code> ï¼Œè€Œæ˜¯ <code>unknown</code> ï¼Œæ— è®ºå½“å‰æ˜¯å¦æœ‰è¿æ¥åˆ°ç½‘ç»œï¼Œå› æ­¤è¿™ä¸ªåˆ¤æ–­æ— æ•ˆäº†ï¼ˆè¿™é‡Œæˆ‘è¦æ¶ç‹ ç‹ åæ§½ä¸€æ³¢ï¼‰</p><p><a href="https://imgse.com/i/pC4cTcq" target="_blank" rel="noreferrer"><img src="https://s1.ax1x.com/2023/07/14/pC4cTcq.png" alt="pC4cTcq.png"></a></p><p>æ—¢ç„¶è¿™ä¸ªæ–¹æ³•ä¸èƒ½èµ°ï¼Œé‚£å°±æ¢ä¸€ä¸ªæ–¹æ³•ã€‚é€šè¿‡ ChatGPT å‘ç°æœ‰ <code>navigator</code> æ–¹æ³•å¯ä»¥ä½¿ç”¨ï¼Œ ChatGPT æ˜¯è¿™ä¹ˆä»‹ç»å®ƒçš„ï¼š</p><blockquote><p><code>navigator</code> æ˜¯ Web æµè§ˆå™¨æä¾›çš„ä¸€ä¸ªå†…ç½®å¯¹è±¡ï¼Œå®ƒåŒ…å«äº†å¾ˆå¤šæœ‰å…³æµè§ˆå™¨ç¯å¢ƒå’Œç”¨æˆ·è®¾å¤‡çš„ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥è·å–å’Œæ“ä½œè¿™äº›ä¿¡æ¯ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ <code>navigator</code> å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼š</p><ul><li><code>navigator.userAgent</code>ï¼šè¿”å›æµè§ˆå™¨çš„ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ï¼Œå®ƒå¯ä»¥ç”¨æ¥ç¡®å®šç”¨æˆ·ä½¿ç”¨çš„æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿã€‚</li><li><code>navigator.platform</code>ï¼šè¿”å›å½“å‰æ“ä½œç³»ç»Ÿçš„å¹³å°ä¿¡æ¯ï¼Œå¦‚ &quot;Win32&quot;ã€&quot;MacIntel&quot; ç­‰ã€‚</li><li><code>navigator.language</code>ï¼šè¿”å›ç”¨æˆ·çš„é¦–é€‰è¯­è¨€ï¼Œæ ¹æ®æµè§ˆå™¨è®¾ç½®çš„è¯­è¨€åå¥½è¿›è¡Œç¡®å®šã€‚</li><li><code>navigator.cookieEnabled</code>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæµè§ˆå™¨æ˜¯å¦å¯ç”¨äº† cookieã€‚</li><li><code>navigator.geolocation</code>ï¼šæä¾›äº†è·å–ç”¨æˆ·åœ°ç†ä½ç½®ä¿¡æ¯çš„æ–¹æ³•å’Œå±æ€§ã€‚</li><li><code>navigator.onLine</code>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰æ˜¯å¦å¤„äºè”ç½‘çŠ¶æ€ã€‚</li><li><code>navigator.sendBeacon(url, data)</code>ï¼šç”¨äºå¼‚æ­¥å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œé€‚ç”¨äºåœ¨é¡µé¢å¸è½½ã€å…³é—­æˆ–å¯¼èˆªå‘ç”Ÿæ—¶å‘é€å¼‚æ­¥è¯·æ±‚ã€‚</li><li><code>navigator.clipboard</code>ï¼šæä¾›äº†è¯»å–å’Œå†™å…¥å‰ªè´´æ¿å†…å®¹çš„æ–¹æ³•å’Œå±æ€§ã€‚</li><li><code>navigator.vibrate(pattern or time)</code>ï¼šç”¨äºæ§åˆ¶è®¾å¤‡çš„éœ‡åŠ¨åŠŸèƒ½ã€‚</li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>navigator</code> å¯¹è±¡ä¸­çš„å±æ€§å’Œæ–¹æ³•åœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­å¯èƒ½ä¼šæœ‰æ‰€å·®å¼‚ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨ä¹‹å‰æœ€å¥½æ£€æŸ¥å…¶å…¼å®¹æ€§æˆ–ä½¿ç”¨ç›¸å…³çš„ polyfill åº“æ¥ä¿è¯ä»£ç çš„æ­£ç¡®è¿è¡Œã€‚</p><p>å¸Œæœ›ä»¥ä¸Šä¿¡æ¯å¯ä»¥å¸®åŠ©åˆ°ä½ ã€‚å¦‚æœè¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·éšæ—¶æé—®ã€‚</p></blockquote><p>æ ¹æ®ä»‹ç»å¯ä»¥é€šè¿‡ <code>online</code> æ¥åˆ¤æ–­æ˜¯å¦æœ‰è”ç½‘ï¼Œå®ç°é€»è¾‘ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">checkNetworkStatus</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">navigator.onLine) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		uni.</span><span style="color:#B392F0;">showToast</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">			title: </span><span style="color:#9ECBFF;">&#39;æ£€æµ‹åˆ°ä½ çš„ç½‘ç»œæœªè¿æ¥ï¼Œè¯·å…ˆè¿æ¥ç½‘ç»œ&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">			icon: </span><span style="color:#9ECBFF;">&#39;none&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">		})</span></span>
<span class="line"><span style="color:#E1E4E8;">		context.value.</span><span style="color:#B392F0;">pause</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">context.value.</span><span style="color:#B392F0;">onTimeUpdate</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#B392F0;">checkNetworkStatus</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">checkNetworkStatus</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">navigator.onLine) {</span></span>
<span class="line"><span style="color:#24292E;">		uni.</span><span style="color:#6F42C1;">showToast</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">			title: </span><span style="color:#032F62;">&#39;æ£€æµ‹åˆ°ä½ çš„ç½‘ç»œæœªè¿æ¥ï¼Œè¯·å…ˆè¿æ¥ç½‘ç»œ&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">			icon: </span><span style="color:#032F62;">&#39;none&#39;</span></span>
<span class="line"><span style="color:#24292E;">		})</span></span>
<span class="line"><span style="color:#24292E;">		context.value.</span><span style="color:#6F42C1;">pause</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">context.value.</span><span style="color:#6F42C1;">onTimeUpdate</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6F42C1;">checkNetworkStatus</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h4 id="åˆ·æ–°å…³é—­" tabindex="-1">åˆ·æ–°å…³é—­ <a class="header-anchor" href="#åˆ·æ–°å…³é—­" aria-label="Permalink to &quot;åˆ·æ–°å…³é—­&quot;">â€‹</a></h4><p>æµ‹è¯•åˆå’Œæˆ‘ååº” H5 ç«¯ç”¨æˆ·é€šè¿‡å…³é—­æµè§ˆå™¨æˆ–è€…åˆ·æ–°æµè§ˆå™¨æ—¶ï¼Œç”¨æˆ·å¬çš„æ—¶é•¿ä¸ä¼šè®°å½•åœ¨å†…ã€‚ç¬¬ä¸€æ—¶é—´å°±åˆ¤æ–­å‡ºæ¥ä»–å› ä¸ºæ²¡æœ‰è§¦å‘éŸ³é¢‘çš„åœæ­¢æš‚åœæ—¶é—´å› æ­¤æ²¡æœ‰è§¦å‘æ¥å£ï¼Œå› æ­¤å‰©ä½™æ—¶é•¿æ²¡å˜ã€‚</p><p>åœ¨å¤ç°çš„æ—¶å€™ï¼Œå‘ç°åœ¨åˆ·æ–°æµè§ˆå™¨çš„æ—¶å€™ï¼Œä¼šè§¦å‘ <code>App.vue</code> æ ¹ç»„ä»¶ä¸­çš„ <code>onHide()</code> ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå› æ­¤æˆ‘çš„å¤„ç†æ–¹æ³•ä¸ºï¼š</p><ol><li>ç”¨æˆ·æ’­æ”¾æ—¶å®æ—¶è®°å½•å¹¶æœ¬åœ°å­˜å‚¨</li><li>åœ¨æ ¹ç»„ä»¶çš„ <code>onHide()</code> ç”Ÿå‘½é’©å­å‡½æ•°è·å–æœ¬åœ°å­˜å‚¨çš„æ•°æ®ï¼Œè°ƒç”¨æ¥å£å‘é€æ•°æ®è·å–æœ€æ–°çš„å‰©ä½™æ—¶é•¿ï¼Œå¹¶ä¸”åˆ é™¤å¯¹åº”çš„æœ¬åœ°å­˜å‚¨</li></ol><p>åˆ·æ–°å®ç°äº†ï¼Œå…³é—­æµè§ˆå™¨è¯¥æ–¹æ³•ä¸å¯ä½¿ç”¨ï¼Œå› æ­¤è½¬æ¢ä¸€ä¸ªæ€è·¯ï¼š</p><ol><li>æŠŠéŸ³é¢‘çš„æ—¶é•¿å’Œidéƒ½ä¿å­˜åˆ°æœ¬åœ°äº†ï¼Œåœ¨æ’­æ”¾çš„æ—¶å€™è·å–æœ¬åœ°å­˜å‚¨çš„æ•°æ®</li><li>åˆ¤æ–­æ˜¯å¦æœ‰ç›¸åº”çš„idï¼Œå¦‚æœæœ‰ï¼Œåˆ™æŠŠå¯¹åº”çš„æ—¶é•¿åŠ åˆ°æ’­æ”¾æ—¶é•¿ä¸­</li></ol><p>æœ€åæ‰“åŒ…è¿è¡Œé¡¹ç›®ï¼Œèƒ½å¤ŸæˆåŠŸå®ç°ã€‚</p><h4 id="éŸ³é¢‘ä¸‹è½½-1" tabindex="-1">éŸ³é¢‘ä¸‹è½½ <a class="header-anchor" href="#éŸ³é¢‘ä¸‹è½½-1" aria-label="Permalink to &quot;éŸ³é¢‘ä¸‹è½½&quot;">â€‹</a></h4><p>åœ¨ APP ç«¯éŸ³é¢‘ä¸‹è½½æ˜¯é€šè¿‡ <code>uni.saveFile()</code> API å®ç°ï¼Œä½†æ˜¯è¯¥ API ä¸æ”¯æŒ H5ç«¯ï¼Œå› æ­¤éœ€è¦å¯¹ H5 ç«¯åšç‰¹æ®Šå¤„ç†ã€‚</p><p>åœ¨ H5 ç«¯ï¼Œä¸€èˆ¬çš„ä¸‹è½½æ–¹æ³•éƒ½æ˜¯åˆ›å»º <code>a</code> æ ‡ç­¾å¹¶åˆ©ç”¨å…¶ <code>download</code> å±æ€§å®ç°ä¸‹è½½ï¼Œä¿®æ”¹ä»£ç ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">downloadMusicFn</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	uni.</span><span style="color:#B392F0;">showLoading</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">		title: </span><span style="color:#9ECBFF;">&#39;ä¸‹è½½ä¸­ï¼Œè¯·ç¨ç­‰&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">	})</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// #ifdef APP-PLUS</span></span>
<span class="line"><span style="color:#E1E4E8;">	uni.</span><span style="color:#B392F0;">downloadFile</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// #endif</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// #ifdef H5</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">downloadLink</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">	downloadLink.href </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;æ–‡ä»¶è·¯å¾„&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	downloadLink.download </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;æ–‡ä»¶åç§°&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	downloadLink.style.display </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;none&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	document.body.</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(downloadLink);</span></span>
<span class="line"><span style="color:#E1E4E8;">	downloadLink.</span><span style="color:#B392F0;">click</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">	downloadLink.</span><span style="color:#B392F0;">remove</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">	uni.</span><span style="color:#B392F0;">hideLoading</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">	document.body.</span><span style="color:#B392F0;">removeChild</span><span style="color:#E1E4E8;">(downloadLink);</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// #endif</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">downloadMusicFn</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	uni.</span><span style="color:#6F42C1;">showLoading</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">		title: </span><span style="color:#032F62;">&#39;ä¸‹è½½ä¸­ï¼Œè¯·ç¨ç­‰&#39;</span></span>
<span class="line"><span style="color:#24292E;">	})</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// #ifdef APP-PLUS</span></span>
<span class="line"><span style="color:#24292E;">	uni.</span><span style="color:#6F42C1;">downloadFile</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// #endif</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// #ifdef H5</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">downloadLink</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> document.</span><span style="color:#6F42C1;">createElement</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">	downloadLink.href </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;æ–‡ä»¶è·¯å¾„&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	downloadLink.download </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;æ–‡ä»¶åç§°&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	downloadLink.style.display </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;none&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	document.body.</span><span style="color:#6F42C1;">appendChild</span><span style="color:#24292E;">(downloadLink);</span></span>
<span class="line"><span style="color:#24292E;">	downloadLink.</span><span style="color:#6F42C1;">click</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">	downloadLink.</span><span style="color:#6F42C1;">remove</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">	uni.</span><span style="color:#6F42C1;">hideLoading</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">	document.body.</span><span style="color:#6F42C1;">removeChild</span><span style="color:#24292E;">(downloadLink);</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// #endif</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>è¿è¡Œåå‘ç°ç‚¹å‡»æŒ‰é’®åé¡µé¢è·³è½¬ï¼Œåœ°å€ä¸ºéŸ³é¢‘è·¯å¾„ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæ•…è¯¢é—® ChatGPT å¦‚ä½•è§£å†³ã€‚ä»¥ä¸‹ä¸º ChatGPT æä¾›çš„è§£å†³æ–¹æ¡ˆï¼š</p><blockquote><p>å¦‚æœä½ å¸Œæœ›åœ¨å‰ç«¯å®ç°ç‚¹å‡»åä¸è·³è½¬ç›´æ¥ä¸‹è½½éŸ³é¢‘æ–‡ä»¶çš„åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ JavaScript çš„ XMLHttpRequest æˆ– Fetch API æ¥è·å–éŸ³é¢‘æ–‡ä»¶ï¼Œå¹¶åˆ©ç”¨ Blob å¯¹è±¡åˆ›å»ºä¸‹è½½é“¾æ¥ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">audioUrl</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;https://your-aliyun-server.com/audio.mp3&#39;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// éŸ³é¢‘æ–‡ä»¶çš„ URL</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">filename</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;audio.mp3&#39;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// éŸ³é¢‘æ–‡ä»¶çš„æ–‡ä»¶å</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">fetch</span><span style="color:#E1E4E8;">(audioUrl)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">response</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> response.</span><span style="color:#B392F0;">blob</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">blob</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">downloadLink</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    downloadLink.href </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">URL</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">createObjectURL</span><span style="color:#E1E4E8;">(blob);</span></span>
<span class="line"><span style="color:#E1E4E8;">    downloadLink.download </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> filename;</span></span>
<span class="line"><span style="color:#E1E4E8;">    downloadLink.style.display </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;none&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    document.body.</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(downloadLink);</span></span>
<span class="line"><span style="color:#E1E4E8;">    downloadLink.</span><span style="color:#B392F0;">click</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    document.body.</span><span style="color:#B392F0;">removeChild</span><span style="color:#E1E4E8;">(downloadLink);</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">audioUrl</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;https://your-aliyun-server.com/audio.mp3&#39;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// éŸ³é¢‘æ–‡ä»¶çš„ URL</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">filename</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;audio.mp3&#39;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// éŸ³é¢‘æ–‡ä»¶çš„æ–‡ä»¶å</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(audioUrl)</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(</span><span style="color:#E36209;">response</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> response.</span><span style="color:#6F42C1;">blob</span><span style="color:#24292E;">())</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(</span><span style="color:#E36209;">blob</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">downloadLink</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> document.</span><span style="color:#6F42C1;">createElement</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    downloadLink.href </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">URL</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">createObjectURL</span><span style="color:#24292E;">(blob);</span></span>
<span class="line"><span style="color:#24292E;">    downloadLink.download </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> filename;</span></span>
<span class="line"><span style="color:#24292E;">    downloadLink.style.display </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;none&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    document.body.</span><span style="color:#6F42C1;">appendChild</span><span style="color:#24292E;">(downloadLink);</span></span>
<span class="line"><span style="color:#24292E;">    downloadLink.</span><span style="color:#6F42C1;">click</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    document.body.</span><span style="color:#6F42C1;">removeChild</span><span style="color:#24292E;">(downloadLink);</span></span>
<span class="line"><span style="color:#24292E;">  });</span></span></code></pre></div><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ Fetch API æ¥è·å–éŸ³é¢‘æ–‡ä»¶çš„å“åº”å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨ <code>blob()</code> æ–¹æ³•å°†å“åº”å†…å®¹è½¬æ¢ä¸º Blob å¯¹è±¡ã€‚ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª <code>&lt;a&gt;</code> å…ƒç´ ï¼Œè®¾ç½®å…¶ <code>href</code> å±æ€§ä¸º Blob å¯¹è±¡çš„ URLï¼Œå°†æ–‡ä»¶åè®¾ç½®ä¸º <code>download</code> å±æ€§ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°é¡µé¢ä¸Šã€‚æœ€åï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿç”¨æˆ·ç‚¹å‡»æ“ä½œï¼Œå®ç°ç›´æ¥ä¸‹è½½åŠŸèƒ½ï¼Œå¹¶åœ¨ä¸‹è½½å®Œæˆåå°† <code>&lt;a&gt;</code> å…ƒç´ ä»é¡µé¢ä¸Šç§»é™¤ã€‚</p><p>è¿™ç§æ–¹æ³•å¯ä»¥åœ¨å‰ç«¯ç›´æ¥ä¸‹è½½éŸ³é¢‘æ–‡ä»¶ï¼Œå¹¶ä¸”æ— éœ€åç«¯å‚ä¸ã€‚</p><p>è¯·æ³¨æ„ï¼Œéƒ¨åˆ†æ—§ç‰ˆæµè§ˆå™¨å¯èƒ½ä¸æ”¯æŒ Fetch APIï¼Œä½ å¯ä»¥ä½¿ç”¨ XMLHttpRequest æ¥æ›¿ä»£ã€‚</p><p>å¸Œæœ›è¿™ä¸ªè§£å†³æ–¹æ¡ˆå¯¹ä½ æœ‰å¸®åŠ©ã€‚å¦‚æœä½ æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·éšæ—¶æé—®ã€‚</p></blockquote><p>æ²¡ç”¨è¿‡ <code>fetch</code> ï¼Œè€Œ XML æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„ AJAXï¼Œå› æ­¤è¯•ä¸€ä¸‹åŸç”Ÿ AJAX çš„æ–¹æ³•å¯ä¸å¯è¡Œï¼Œä»£ç ä¿®æ”¹å¦‚ä¸‹å½¢å¼ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">downloadMusicFn</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">	uni.</span><span style="color:#B392F0;">showLoading</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">		title: </span><span style="color:#9ECBFF;">&#39;ä¸‹è½½ä¸­ï¼Œè¯·ç¨ç­‰&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">	})</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// #ifdef APP-PLUS</span></span>
<span class="line"><span style="color:#E1E4E8;">	uni.</span><span style="color:#B392F0;">downloadFile</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// #endif</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// #ifdef H5</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">xhr</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">XMLHttpRequest</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">	xhr.</span><span style="color:#B392F0;">open</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;GET&#39;</span><span style="color:#E1E4E8;">, props.detail.playUrl, </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">	xhr.responseType </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;blob&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	xhr.</span><span style="color:#B392F0;">setRequestHeader</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Accept&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;audio/mpeg&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// è®¾ç½® MIME ç±»å‹ä¸º audio/mpeg</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span></span>
<span class="line"><span style="color:#E1E4E8;">	xhr.</span><span style="color:#B392F0;">onload</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">	  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (xhr.status </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">	    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">blob</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> xhr.response;</span></span>
<span class="line"><span style="color:#E1E4E8;">	    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">downloadLink</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">	    downloadLink.href </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">URL</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">createObjectURL</span><span style="color:#E1E4E8;">(blob);</span></span>
<span class="line"><span style="color:#E1E4E8;">	    downloadLink.download </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> props.detail.title;</span></span>
<span class="line"><span style="color:#E1E4E8;">	    downloadLink.style.display </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;none&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">	    document.body.</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(downloadLink);</span></span>
<span class="line"><span style="color:#E1E4E8;">	    downloadLink.</span><span style="color:#B392F0;">click</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">		downloadLink.</span><span style="color:#B392F0;">remove</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">		dowmLoadArr.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(props.detail.id)</span></span>
<span class="line"><span style="color:#E1E4E8;">		uni.</span><span style="color:#B392F0;">setStorageSync</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;download&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(dowmLoadArr))</span></span>
<span class="line"><span style="color:#E1E4E8;">		downloadType.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">		uni.</span><span style="color:#B392F0;">hideLoading</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">	    document.body.</span><span style="color:#B392F0;">removeChild</span><span style="color:#E1E4E8;">(downloadLink);</span></span>
<span class="line"><span style="color:#E1E4E8;">	  }</span></span>
<span class="line"><span style="color:#E1E4E8;">	};</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span></span>
<span class="line"><span style="color:#E1E4E8;">	xhr.</span><span style="color:#B392F0;">send</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#6A737D;">// #endif</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">downloadMusicFn</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	uni.</span><span style="color:#6F42C1;">showLoading</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">		title: </span><span style="color:#032F62;">&#39;ä¸‹è½½ä¸­ï¼Œè¯·ç¨ç­‰&#39;</span></span>
<span class="line"><span style="color:#24292E;">	})</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// #ifdef APP-PLUS</span></span>
<span class="line"><span style="color:#24292E;">	uni.</span><span style="color:#6F42C1;">downloadFile</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// #endif</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// #ifdef H5</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">xhr</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">XMLHttpRequest</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">	xhr.</span><span style="color:#6F42C1;">open</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;GET&#39;</span><span style="color:#24292E;">, props.detail.playUrl, </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">	xhr.responseType </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;blob&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	xhr.</span><span style="color:#6F42C1;">setRequestHeader</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Accept&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;audio/mpeg&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// è®¾ç½® MIME ç±»å‹ä¸º audio/mpeg</span></span>
<span class="line"><span style="color:#24292E;">	</span></span>
<span class="line"><span style="color:#24292E;">	xhr.</span><span style="color:#6F42C1;">onload</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">	  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (xhr.status </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">	    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">blob</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> xhr.response;</span></span>
<span class="line"><span style="color:#24292E;">	    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">downloadLink</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> document.</span><span style="color:#6F42C1;">createElement</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">	    downloadLink.href </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">URL</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">createObjectURL</span><span style="color:#24292E;">(blob);</span></span>
<span class="line"><span style="color:#24292E;">	    downloadLink.download </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> props.detail.title;</span></span>
<span class="line"><span style="color:#24292E;">	    downloadLink.style.display </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;none&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">	    document.body.</span><span style="color:#6F42C1;">appendChild</span><span style="color:#24292E;">(downloadLink);</span></span>
<span class="line"><span style="color:#24292E;">	    downloadLink.</span><span style="color:#6F42C1;">click</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">		downloadLink.</span><span style="color:#6F42C1;">remove</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">		dowmLoadArr.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(props.detail.id)</span></span>
<span class="line"><span style="color:#24292E;">		uni.</span><span style="color:#6F42C1;">setStorageSync</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;download&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(dowmLoadArr))</span></span>
<span class="line"><span style="color:#24292E;">		downloadType.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">		uni.</span><span style="color:#6F42C1;">hideLoading</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">	    document.body.</span><span style="color:#6F42C1;">removeChild</span><span style="color:#24292E;">(downloadLink);</span></span>
<span class="line"><span style="color:#24292E;">	  }</span></span>
<span class="line"><span style="color:#24292E;">	};</span></span>
<span class="line"><span style="color:#24292E;">	</span></span>
<span class="line"><span style="color:#24292E;">	xhr.</span><span style="color:#6F42C1;">send</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#6A737D;">// #endif</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>æœ€åè¿è¡Œï¼Œæ•ˆæœå®ç°ã€‚</p><h4 id="é¡µé¢åˆ‡æ¢" tabindex="-1">é¡µé¢åˆ‡æ¢ <a class="header-anchor" href="#é¡µé¢åˆ‡æ¢" aria-label="Permalink to &quot;é¡µé¢åˆ‡æ¢&quot;">â€‹</a></h4><p>åœ¨ç”¨æˆ·åˆ‡æ¢é¡µé¢ï¼ˆéå…³é—­æµè§ˆå™¨ï¼‰æ—¶æ²¡æœ‰è°ƒç”¨æ¥å£ä¼ å‚ï¼Œå¯¼è‡´å‰©ä½™æ—¶é•¿æ²¡æœ‰æ‰£é™¤ã€‚åœ¨è°ƒè¯•çš„æ—¶å€™å‘ç° <code>stop</code> å›è°ƒå‡½æ•°æœ‰è§¦å‘ï¼Œå› æ­¤ä¿®æ”¹ç›¸å…³é€»è¾‘ï¼ŒæŠŠæ¥å£æ”¾åˆ°å›è°ƒå‡½æ•°ä¸­è§¦å‘ï¼Œå…¶ä»–äº‹ä»¶å•çº¯è°ƒç”¨ <code>stop</code> æ–¹æ³•å³å¯ã€‚</p><h3 id="æ’­æ”¾æ—¶é•¿è®°å½•ä¼˜åŒ–" tabindex="-1">æ’­æ”¾æ—¶é•¿è®°å½•ä¼˜åŒ– <a class="header-anchor" href="#æ’­æ”¾æ—¶é•¿è®°å½•ä¼˜åŒ–" aria-label="Permalink to &quot;æ’­æ”¾æ—¶é•¿è®°å½•ä¼˜åŒ–&quot;">â€‹</a></h3><p>ä½¿ç”¨å®šæ—¶å™¨çš„æœ€å¤§ç¼ºç‚¹å°±æ˜¯ï¼Œå®šæ—¶å™¨å¹¶ä¸æ˜¯å»¶è¿Ÿå¤šå°‘ç§’åå¿…å®šè§¦å‘ï¼Œè€Œæ˜¯åœ¨ç›¸åº”çš„æ—¶é—´åæŠŠå®ƒæ”¾åˆ°é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…åŒæ­¥ä»»åŠ¡ä¸å¾®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•å†å»è½®è¯¢è·å–å®ä»»åŠ¡ï¼ˆå³å®šæ—¶å™¨ï¼‰ã€‚</p><p>å› æ­¤ä¼šæœ‰ä¸€å®šçš„ç§’æ•°è¯¯å·®ï¼Œä¸èƒ½ä½¿ç”¨ä¸ä½¿ç”¨å®šæ—¶å™¨è®°å½•æ—¶é•¿ï¼Œé‚£é‡‡ç”¨ä»€ä¹ˆæ–¹æ³•è®°å½•å‘¢ï¼Ÿ</p><p>è§£å†³æ–¹æ³•ä¸ºé‡‡ç”¨æ—¶é—´æˆ³çš„å½¢å¼ï¼Œåœ¨æ’­æ”¾å›è°ƒè§¦å‘æ—¶é€šè¿‡ <code>new Date()</code> è·å–å¼€å§‹æ’­æ”¾çš„æ—¶é—´æˆ³ï¼Œè§¦å‘æš‚åœæˆ–åœæ­¢å›è°ƒæ—¶å†é€šè¿‡è¿‡ <code>new Date()</code> è·å–åœæ­¢å¬çš„æ—¶é•¿ï¼Œä¸¤è€…ç›¸å‡å³ä¸ºç”¨æˆ·å¬çš„æ—¶é•¿ï¼Œå†é€šè¿‡ <code>Math.round()</code> æˆ– <code>Math.floor()</code> å–æ•´å³å¯ã€‚</p><h2 id="è¯¾ç¨‹è¯¦æƒ…" tabindex="-1">è¯¾ç¨‹è¯¦æƒ… <a class="header-anchor" href="#è¯¾ç¨‹è¯¦æƒ…" aria-label="Permalink to &quot;è¯¾ç¨‹è¯¦æƒ…&quot;">â€‹</a></h2><p>éœ€è¦å®ç°è§†é¢‘æ’­æ”¾åŠŸèƒ½ã€‚</p><h3 id="é˜¿é‡Œäº‘æ’­æ”¾å™¨sdk" tabindex="-1">é˜¿é‡Œäº‘æ’­æ”¾å™¨SDK <a class="header-anchor" href="#é˜¿é‡Œäº‘æ’­æ”¾å™¨sdk" aria-label="Permalink to &quot;é˜¿é‡Œäº‘æ’­æ”¾å™¨SDK&quot;">â€‹</a></h3><p>è¯¾ç¨‹è§†é¢‘ç”¨æˆ·ç»Ÿä¸€ä¸Šä¼ åˆ°é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šï¼Œæ’­æ”¾è§†é¢‘è€ƒè™‘ä½¿ç”¨é˜¿é‡Œäº‘sdkã€‚è¯¦æƒ…å¯å‰å¾€å®˜æ–¹æ–‡æ¡£ <a href="https://help.aliyun.com/document_detail/125570.html" target="_blank" rel="noreferrer">é˜¿é‡Œäº‘æ’­æ”¾å™¨sdk</a> æŸ¥çœ‹ã€‚</p><h4 id="å¼•å…¥èµ„æº" tabindex="-1">å¼•å…¥èµ„æº <a class="header-anchor" href="#å¼•å…¥èµ„æº" aria-label="Permalink to &quot;å¼•å…¥èµ„æº&quot;">â€‹</a></h4><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">link</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">rel</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;stylesheet&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;https://g.alicdn.com/de/prismplayer/2.12.1/skins/default/aliplayer-min.css&quot;</span><span style="color:#E1E4E8;"> /&gt;  //ï¼ˆå¯é€‰ï¼‰å¦‚æœæ‚¨çš„ä½¿ç”¨åœºæ™¯éœ€è¦ç”¨åˆ°H5æ¨¡å¼çš„æ’­æ”¾å™¨ï¼Œåˆ™éœ€å¼•ç”¨æ­¤cssæ–‡ä»¶ã€‚</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">charset</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;utf-8&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">type</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;text/javascript&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;https://g.alicdn.com/de/prismplayer/2.12.1/aliplayer-min.js&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;  //ï¼ˆå¿…é¡»ï¼‰å¼•å…¥jsæ–‡ä»¶ã€‚</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">rel</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;stylesheet&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;https://g.alicdn.com/de/prismplayer/2.12.1/skins/default/aliplayer-min.css&quot;</span><span style="color:#24292E;"> /&gt;  //ï¼ˆå¯é€‰ï¼‰å¦‚æœæ‚¨çš„ä½¿ç”¨åœºæ™¯éœ€è¦ç”¨åˆ°H5æ¨¡å¼çš„æ’­æ”¾å™¨ï¼Œåˆ™éœ€å¼•ç”¨æ­¤cssæ–‡ä»¶ã€‚</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">charset</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;utf-8&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">type</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;text/javascript&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;https://g.alicdn.com/de/prismplayer/2.12.1/aliplayer-min.js&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;  //ï¼ˆå¿…é¡»ï¼‰å¼•å…¥jsæ–‡ä»¶ã€‚</span></span></code></pre></div><p>æä¾›æŒ‚è½½å…ƒç´ </p><p>åœ¨ç»“æ„ä¸­åˆ›å»ºä¸€ä¸ª <code>dom</code> å…ƒç´ ä¾›ç‚¹æ’­å™¨æŒ‚è½½ï¼Œæ³¨æ„å¤åˆ¶æ—¶çœ‹ <code>id</code> æ˜¯å¦å¯¹åº”ã€‚</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;aliplayerVedio&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;aliplayerVedio&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h4 id="æ’­æ”¾è®¾ç½®" tabindex="-1">æ’­æ”¾è®¾ç½® <a class="header-anchor" href="#æ’­æ”¾è®¾ç½®" aria-label="Permalink to &quot;æ’­æ”¾è®¾ç½®&quot;">â€‹</a></h4><p>ç‚¹æ’­æ’­æ”¾æœ‰å¤šç§æ–¹å¼å¯ä¾›é€‰æ‹©ï¼Œè¿™é‡Œé‡‡å–çš„æ˜¯å®˜æ–¹æœ€ä¸ºæ¨èçš„ <code>VID + PlayAuth</code> çš„æ–¹å¼ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> player </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Aliplayer</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">   id: </span><span style="color:#9ECBFF;">&#39;J_prismPlayer&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">   width: </span><span style="color:#9ECBFF;">&#39;100%&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">   vid : </span><span style="color:#9ECBFF;">&#39;&lt;your video ID&gt;&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#6A737D;">//å¿…é€‰å‚æ•°ã€‚éŸ³è§†é¢‘IDã€‚ç¤ºä¾‹ï¼š1e067a2831b641db90d570b6480f****ã€‚</span></span>
<span class="line"><span style="color:#E1E4E8;">   playauth : </span><span style="color:#9ECBFF;">&#39;&lt;your PlayAuth&gt;&#39;</span><span style="color:#E1E4E8;">,</span><span style="color:#6A737D;">//å¿…é€‰å‚æ•°ã€‚éŸ³è§†é¢‘æ’­æ”¾å‡­è¯ã€‚</span></span>
<span class="line"><span style="color:#E1E4E8;"> },</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">player</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">   console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;The player is created.&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> player </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Aliplayer</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">   id: </span><span style="color:#032F62;">&#39;J_prismPlayer&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">   width: </span><span style="color:#032F62;">&#39;100%&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">   vid : </span><span style="color:#032F62;">&#39;&lt;your video ID&gt;&#39;</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//å¿…é€‰å‚æ•°ã€‚éŸ³è§†é¢‘IDã€‚ç¤ºä¾‹ï¼š1e067a2831b641db90d570b6480f****ã€‚</span></span>
<span class="line"><span style="color:#24292E;">   playauth : </span><span style="color:#032F62;">&#39;&lt;your PlayAuth&gt;&#39;</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//å¿…é€‰å‚æ•°ã€‚éŸ³è§†é¢‘æ’­æ”¾å‡­è¯ã€‚</span></span>
<span class="line"><span style="color:#24292E;"> },</span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(</span><span style="color:#E36209;">player</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">   console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;The player is created.&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><p>æ­¤æ—¶è¿è¡Œï¼Œè¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„ <code>demo</code> å·²ç»æˆåŠŸè·‘èµ·æ¥ï¼Œè¿”å› <code>uniapp</code> ä¸­è¿è¡Œï¼Œå´æŠ¥ä»¥ä¸‹é”™è¯¯ã€‚</p><blockquote><p><code>Aliplayer is not defined</code></p></blockquote><p><code>uniapp</code> è¿è¡Œæœºåˆ¶ä¸ä¸€æ ·ï¼Œå› æ­¤æ‹¿ä¸åˆ° <code>index.html</code> å¼•å…¥çš„jsæ–‡ä»¶ï¼Œè¿è¡Œä¹‹åä¼šæŠ¥é”™ã€‚</p><h4 id="æ”¹é€ " tabindex="-1">æ”¹é€  <a class="header-anchor" href="#æ”¹é€ " aria-label="Permalink to &quot;æ”¹é€ &quot;">â€‹</a></h4><ul><li>åŸºäº <code>uniapp</code> å¼€å‘çš„åœ¨æµè§ˆå™¨ä¸Šè¿è¡Œçš„è§£å†³æ–¹æ¡ˆ <ol><li>åŠ¨æ€åˆ›å»º <code>script</code> æ ‡ç­¾ï¼Œå¼•å…¥èµ„æº</li><li>åŠ¨æ€åˆ›å»º <code>link</code> æ ‡ç­¾ï¼Œå®ç°è·³è½¬</li></ol></li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">loadScriptString</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">src</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> script </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;script&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">//åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾</span></span>
<span class="line"><span style="color:#E1E4E8;">  script.type </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;text/javascript&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  script.src </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> src</span></span>
<span class="line"><span style="color:#E1E4E8;">  document.</span><span style="color:#B392F0;">getElementsByTagName</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;head&#39;</span><span style="color:#E1E4E8;">)[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(script)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">loadLinkString</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">src</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> link </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> document.</span><span style="color:#B392F0;">createElement</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;link&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">//åˆ›å»ºä¸€ä¸ªlinkæ ‡ç­¾</span></span>
<span class="line"><span style="color:#E1E4E8;">  link.rel </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;stylesheet&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  link.href </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> src</span></span>
<span class="line"><span style="color:#E1E4E8;">  document.</span><span style="color:#B392F0;">getElementsByTagName</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;head&#39;</span><span style="color:#E1E4E8;">)[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">appendChild</span><span style="color:#E1E4E8;">(link)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ä½¿ç”¨é˜¿é‡Œäº‘æ’­æ”¾å™¨</span></span>
<span class="line"><span style="color:#B392F0;">loadLinkString</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;https://g.alicdn.com/de/prismplayer/2.9.19/skins/default/aliplayer-min.css&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#B392F0;">loadScriptString</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;https://g.alicdn.com/de/prismplayer/2.9.19/aliplayer-min.js&#39;</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">loadScriptString</span><span style="color:#24292E;">(</span><span style="color:#E36209;">src</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> script </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> document.</span><span style="color:#6F42C1;">createElement</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;script&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">//åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾</span></span>
<span class="line"><span style="color:#24292E;">  script.type </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;text/javascript&#39;</span></span>
<span class="line"><span style="color:#24292E;">  script.src </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> src</span></span>
<span class="line"><span style="color:#24292E;">  document.</span><span style="color:#6F42C1;">getElementsByTagName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;head&#39;</span><span style="color:#24292E;">)[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">appendChild</span><span style="color:#24292E;">(script)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">loadLinkString</span><span style="color:#24292E;">(</span><span style="color:#E36209;">src</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> link </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> document.</span><span style="color:#6F42C1;">createElement</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;link&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">//åˆ›å»ºä¸€ä¸ªlinkæ ‡ç­¾</span></span>
<span class="line"><span style="color:#24292E;">  link.rel </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;stylesheet&#39;</span></span>
<span class="line"><span style="color:#24292E;">  link.href </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> src</span></span>
<span class="line"><span style="color:#24292E;">  document.</span><span style="color:#6F42C1;">getElementsByTagName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;head&#39;</span><span style="color:#24292E;">)[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">appendChild</span><span style="color:#24292E;">(link)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ä½¿ç”¨é˜¿é‡Œäº‘æ’­æ”¾å™¨</span></span>
<span class="line"><span style="color:#6F42C1;">loadLinkString</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;https://g.alicdn.com/de/prismplayer/2.9.19/skins/default/aliplayer-min.css&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#6F42C1;">loadScriptString</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;https://g.alicdn.com/de/prismplayer/2.9.19/aliplayer-min.js&#39;</span><span style="color:#24292E;">)</span></span></code></pre></div><ul><li>åŸºäºæ‰‹æœº <code>app</code> å¼€å‘</li></ul><p>æ‰‹æœº <code>app</code> æ²¡æœ‰ <code>document</code> æ ‡ç­¾ï¼Œå› æ­¤æ— æ³•ä½¿ç”¨è¿™ä¸ªæ–¹æ¡ˆã€‚ä¸Šæ–‡ ã€ŠtabBaré¡µã€‹ ä¸­æè¿°äº† <code>webview</code> çš„åŠŸèƒ½ï¼Œåˆšå¥½ç¬¦åˆè¿™ä¸ªåœºæ™¯ã€‚</p><p>åœ¨ <code>webview</code> ä¸­å†™åŸç”Ÿ <code>html</code> ä»£ç ï¼ŒæŠŠéœ€è¦çš„å‚æ•°é€šè¿‡ query çš„æ–¹å¼ä¼ é€’è¿‡å»ã€‚</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;"> &lt;</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;content&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">web-view</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;videoUrl&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">web-view</span><span style="color:#E1E4E8;">&gt;1</span></span>
<span class="line"><span style="color:#E1E4E8;"> &lt;/</span><span style="color:#FDAEB7;font-style:italic;">view</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">data</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">         videoUrl:</span><span style="color:#9ECBFF;">&#39;static/index.html?&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">        }</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">onLoad</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> vid </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;808243746770483c843bef3e4f91b629&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> playauth </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;å‡­è¯&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.videoUrl </span><span style="color:#F97583;">+=</span><span style="color:#9ECBFF;">`vid=${</span><span style="color:#E1E4E8;">vid</span><span style="color:#9ECBFF;">}&amp;playauth=${</span><span style="color:#E1E4E8;">playauth</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    methods: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;"> &lt;</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;content&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">web-view</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;videoUrl&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">web-view</span><span style="color:#24292E;">&gt;1</span></span>
<span class="line"><span style="color:#24292E;"> &lt;/</span><span style="color:#B31D28;font-style:italic;">view</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">data</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">         videoUrl:</span><span style="color:#032F62;">&#39;static/index.html?&#39;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">onLoad</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> vid </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;808243746770483c843bef3e4f91b629&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> playauth </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;å‡­è¯&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.videoUrl </span><span style="color:#D73A49;">+=</span><span style="color:#032F62;">`vid=${</span><span style="color:#24292E;">vid</span><span style="color:#032F62;">}&amp;playauth=${</span><span style="color:#24292E;">playauth</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    methods: {</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;!</span><span style="color:#85E89D;">DOCTYPE</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">html</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">html</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;zh&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">meta</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">charset</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;UTF-8&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">meta</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">http-equiv</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;X-UA-Compatible&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">content</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;IE=edge&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">meta</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;viewport&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">content</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;width=device-width, user-scalable=no,initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">   &lt;</span><span style="color:#85E89D;">link</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">rel</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;stylesheet&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;https://g.alicdn.com/de/prismplayer/2.12.1/skins/default/aliplayer-min.css&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">   &lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">charset</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;utf-8&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">type</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;text/javascript&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;https://g.alicdn.com/de/prismplayer/2.12.1/aliplayer-h5-min.js&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">title</span><span style="color:#E1E4E8;">&gt;è§†é¢‘è¯¦æƒ…&lt;/</span><span style="color:#85E89D;">title</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;"> &lt;/</span><span style="color:#85E89D;">head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ali_video&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> vid </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getValue</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;vid&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> playauth </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getValue</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;playauth&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> player </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Aliplayer</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    id: </span><span style="color:#9ECBFF;">&#39;ali_video&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    width: </span><span style="color:#9ECBFF;">&#39;100%&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    vid: vid,</span></span>
<span class="line"><span style="color:#E1E4E8;">    playauth: playauth,</span></span>
<span class="line"><span style="color:#E1E4E8;">   }, </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">player</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;The player is created.&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">   });</span></span>
<span class="line"><span style="color:#E1E4E8;">   console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(player)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">    * @description ä»åœ°å€æ è·å–å‚æ•°</span></span>
<span class="line"><span style="color:#6A737D;">    * @param {Object} key åœ°å€æ å…³é”®å­—keyåç§°</span></span>
<span class="line"><span style="color:#6A737D;">    */</span></span>
<span class="line"><span style="color:#E1E4E8;">   </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getValue</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">key</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> reg </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RegExp</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;(^|&amp;)&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> key </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;=([^&amp;]*)(&amp;|$)&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> r </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> window.location.search.</span><span style="color:#B392F0;">substr</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">match</span><span style="color:#E1E4E8;">(reg);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (r </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">unescape</span><span style="color:#E1E4E8;">(r[</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">]);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">   }</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;"> &lt;/</span><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">html</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;!</span><span style="color:#22863A;">DOCTYPE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">html</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">html</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;zh&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">meta</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">charset</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;UTF-8&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">meta</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">http-equiv</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;X-UA-Compatible&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">content</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;IE=edge&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">meta</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;viewport&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">content</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;width=device-width, user-scalable=no,initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">   &lt;</span><span style="color:#22863A;">link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">rel</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;stylesheet&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;https://g.alicdn.com/de/prismplayer/2.12.1/skins/default/aliplayer-min.css&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">   &lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">charset</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;utf-8&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">type</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;text/javascript&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;https://g.alicdn.com/de/prismplayer/2.12.1/aliplayer-h5-min.js&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;è§†é¢‘è¯¦æƒ…&lt;/</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;"> &lt;/</span><span style="color:#22863A;">head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;ali_video&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> vid </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getValue</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;vid&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> playauth </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getValue</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;playauth&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> player </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Aliplayer</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    id: </span><span style="color:#032F62;">&#39;ali_video&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    width: </span><span style="color:#032F62;">&#39;100%&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    vid: vid,</span></span>
<span class="line"><span style="color:#24292E;">    playauth: playauth,</span></span>
<span class="line"><span style="color:#24292E;">   }, </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(</span><span style="color:#E36209;">player</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;The player is created.&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">   });</span></span>
<span class="line"><span style="color:#24292E;">   console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(player)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">    * @description ä»åœ°å€æ è·å–å‚æ•°</span></span>
<span class="line"><span style="color:#6A737D;">    * @param {Object} key åœ°å€æ å…³é”®å­—keyåç§°</span></span>
<span class="line"><span style="color:#6A737D;">    */</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getValue</span><span style="color:#24292E;">(</span><span style="color:#E36209;">key</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> reg </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RegExp</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;(^|&amp;)&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> key </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;=([^&amp;]*)(&amp;|$)&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> r </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> window.location.search.</span><span style="color:#6F42C1;">substr</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">match</span><span style="color:#24292E;">(reg);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (r </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">unescape</span><span style="color:#24292E;">(r[</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">]);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">   }</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;"> &lt;/</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">html</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h4 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-label="Permalink to &quot;æ€»ç»“&quot;">â€‹</a></h4><p>åˆ©ç”¨ <code>webview</code> ä¹¦å†™åŸç”Ÿï¼Œæ ¹æ®å®˜æ–¹æ–‡æ¡£å®ç°é˜¿é‡Œäº‘ç‚¹æ’­å™¨æ’­æ”¾è§†é¢‘åŠŸèƒ½ã€‚</p><blockquote><p>é¢˜å¤–è¯ï¼š æœ€åä½¿ç”¨çš„æ—¶å€™é¡¹ç›®ç»ç†è§‰å¾—ä½“éªŒæ„Ÿæå·®ï¼Œè®©åç«¯ä¿®æ”¹æ¥å£ï¼Œç›´æ¥è¿”å›è§†é¢‘çš„ <code>url</code> ï¼Œå‰ç«¯ä¿®æ”¹ä¸ºä½¿ç”¨ <code>uniapp</code> è‡ªå¸¦çš„è§†é¢‘ç»„ä»¶ <code>video</code> ã€‚</p></blockquote><h2 id="æ´»åŠ¨è¯¦æƒ…" tabindex="-1">æ´»åŠ¨è¯¦æƒ… <a class="header-anchor" href="#æ´»åŠ¨è¯¦æƒ…" aria-label="Permalink to &quot;æ´»åŠ¨è¯¦æƒ…&quot;">â€‹</a></h2><p>æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2023/png/29781801/1675129545381-370b1a74-daf5-4b3c-a7af-2d07f3fd7cee.png#averageHue=%23bec2a9&amp;clientId=u4be0b9f7-2df9-4&amp;from=paste&amp;height=474&amp;id=u276d4dc6&amp;name=image.png&amp;originHeight=474&amp;originWidth=247&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=121890&amp;status=done&amp;style=none&amp;taskId=u79a1e18c-f581-4835-8d60-44d49b560b4&amp;title=&amp;width=247" alt="image.png"></p><p>ä¸‹æ–¹æ˜¯ä¸€ä¸ªå¯Œæ–‡æœ¬å†…å®¹ï¼Œç¬¬ä¸€æ—¶é—´è”æƒ³èµ·ä½¿ç”¨å¯Œæ–‡æœ¬çš„å‡ ç§æ–¹å¼ã€‚</p><h3 id="å¯Œæ–‡æœ¬çš„ä½¿ç”¨æ–¹å¼" tabindex="-1">å¯Œæ–‡æœ¬çš„ä½¿ç”¨æ–¹å¼ <a class="header-anchor" href="#å¯Œæ–‡æœ¬çš„ä½¿ç”¨æ–¹å¼" aria-label="Permalink to &quot;å¯Œæ–‡æœ¬çš„ä½¿ç”¨æ–¹å¼&quot;">â€‹</a></h3><h4 id="rich-text" tabindex="-1">rich-text <a class="header-anchor" href="#rich-text" aria-label="Permalink to &quot;rich-text&quot;">â€‹</a></h4><p><code>rich-text</code> æ˜¯ <code>uni-app</code> çš„å†…ç½®ç»„ä»¶ï¼Œæä¾›äº†é«˜æ€§èƒ½çš„å¯Œæ–‡æœ¬æ¸²æŸ“æ¨¡å¼ã€‚APIå‚è€ƒ <a href="https://uniapp.dcloud.io/component/rich-text" target="_blank" rel="noreferrer">rich-text</a> ã€‚</p><p><code>rich-text</code> çš„ä¼˜åŠ¿æ˜¯å…¨ç«¯æ”¯æŒã€é«˜æ€§èƒ½ã€‚ä½†æ˜¯ <code>rich-text</code> ä¸æ”¯æŒå†…åµŒè§†é¢‘ï¼Œå¯ä»¥é€šè¿‡æ‹†åˆ†å¤šä¸ª <code>rich-text</code>ï¼Œä¸­é—´æ’å…¥ <code>video</code> æ¥å®ç°ã€‚</p><blockquote><p>æ³¨ï¼š å°ç¨‹åºç«¯æœ‰ä¸ªç¼ºé™·æ˜¯åªèƒ½æ•´ä½“è®¾ç‚¹å‡»äº‹æƒ…ï¼Œæ— æ³•å¯¹å¯Œæ–‡æœ¬ä¸­çš„å›¾ç‰‡ã€è¶…é“¾æ¥å•ç‹¬è®¾ç‚¹å‡»äº‹ä»¶ã€‚</p></blockquote><p>å¦‚æœæ˜¯å›¾ç‰‡ï¼Œå¯ä»¥æŠŠå†…å®¹æ‹†æˆå¤šä¸ª <code>rich-text</code> è§£å†³ã€‚</p><h4 id="v-html" tabindex="-1">v-html <a class="header-anchor" href="#v-html" aria-label="Permalink to &quot;v-html&quot;">â€‹</a></h4><p><code>v-html</code> æŒ‡ä»¤ï¼Œæ˜¯ <code>web</code> å¼€å‘ä¸­å¾ˆå¸¸ç”¨çš„ã€‚å°ç¨‹åºä¸æ”¯æŒã€‚</p><h4 id="uparse" tabindex="-1">uParse <a class="header-anchor" href="#uparse" aria-label="Permalink to &quot;uParse&quot;">â€‹</a></h4><p><code>uView</code> ç»„ä»¶åº“æœ‰ä¸€ä¸ªå¯Œæ–‡æœ¬è§£æå™¨ï¼Œè¯¦æƒ…å¯è§å®˜æ–¹æ–‡æ¡£ <a href="https://vkuviewdoc.fsq.pub/components/parse.html" target="_blank" rel="noreferrer">å¯Œæ–‡æœ¬è§£æå™¨</a> ã€‚</p><h3 id="uparseå›¾ç‰‡ä¸¢å¤±" tabindex="-1">uParseå›¾ç‰‡ä¸¢å¤± <a class="header-anchor" href="#uparseå›¾ç‰‡ä¸¢å¤±" aria-label="Permalink to &quot;uParseå›¾ç‰‡ä¸¢å¤±&quot;">â€‹</a></h3><p>åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæœ€åˆä½¿ç”¨çš„æ˜¯ <code>v-html</code> æ¸²æŸ“å¯Œæ–‡æœ¬ï¼Œä½†æ˜¯éƒ¨åˆ†å›¾ç‰‡å¤ªå¤§è¶…å‡ºæ‰‹æœºå±å¹•çš„èŒƒå›´ï¼Œä¸”ç‚¹å‡»å›¾ç‰‡æ²¡æœ‰é¢„è§ˆæ•ˆæœï¼Œå› æ­¤æ”¹æˆäº† <code>u-parse</code> ç»„ä»¶ã€‚</p><p>åˆ‡æ¢ç»„ä»¶åï¼Œh5 ä¸Šè¿è¡Œæ²¡äº‹ï¼ŒçœŸæœºè°ƒè¯•æ—¶é—®é¢˜æ¥äº†ï¼Œå›¾ç‰‡æ— æ³•åŠ è½½ã€‚</p><p>ç™¾åº¦ååœ¨ <code>DCloud</code> ç¤¾åŒºæ‰¾åˆ°äº†ç­”æ¡ˆï¼Œæ˜¯è¿™ä¸ªæ’ä»¶åˆ¤æ–­å›¾ç‰‡å®½é«˜å‡ºäº†é—®é¢˜ã€‚å½“å›¾ç‰‡å®½åº¦å¤§äº çª—å£å®½åº¦çš„æ—¶å€™ï¼Œè¿™ä¸ªæ’ä»¶æ— æ³•è·å– <code>windowWidth</code>ï¼Œå¯¼è‡´è¿™ä¸ªå€¼æˆäº† 0ã€‚è¯¦æƒ…å¯å‰å¾€ç¤¾åŒºæŸ¥çœ‹ï¼š <a href="https://ask.dcloud.net.cn/question/132415" target="_blank" rel="noreferrer">uParse å¯Œæ–‡æœ¬è§£æå›¾ç‰‡æ— æ³•æ˜¾ç¤º</a> ã€‚</p><p>å¾—çŸ¥é—®é¢˜åŸå› ï¼Œè§£å†³æ€è·¯å°±æœ‰äº†ï¼Œåœ¨è·å–åˆ°æ•°æ®åä¿®æ”¹ä¸€ä¸‹å›¾ç‰‡çš„æœ€å¤§å®½åº¦ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * è½¬æ¢å¯Œæ–‡æœ¬çš„å›¾ç‰‡æœ€å¤§ä¸º100%</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">formatRichText</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">html</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> { </span><span style="color:#6A737D;">//æ§åˆ¶å°ç¨‹åºä¸­å›¾ç‰‡å¤§å°</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> newContent </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> html.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">&lt;img</span><span style="color:#79B8FF;">[</span><span style="color:#F97583;">^</span><span style="color:#79B8FF;">&gt;]</span><span style="color:#F97583;">*</span><span style="color:#DBEDFF;">&gt;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">gi</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">match</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">capture</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		match </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> match.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">style=&quot;</span><span style="color:#79B8FF;">[</span><span style="color:#F97583;">^</span><span style="color:#79B8FF;">&quot;]</span><span style="color:#F97583;">+</span><span style="color:#DBEDFF;">&quot;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">gi</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">style=&#39;</span><span style="color:#79B8FF;">[</span><span style="color:#F97583;">^</span><span style="color:#79B8FF;">&#39;]</span><span style="color:#F97583;">+</span><span style="color:#DBEDFF;">&#39;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">gi</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">		match </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> match.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">width=&quot;</span><span style="color:#79B8FF;">[</span><span style="color:#F97583;">^</span><span style="color:#79B8FF;">&quot;]</span><span style="color:#F97583;">+</span><span style="color:#DBEDFF;">&quot;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">gi</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">width=&#39;</span><span style="color:#79B8FF;">[</span><span style="color:#F97583;">^</span><span style="color:#79B8FF;">&#39;]</span><span style="color:#F97583;">+</span><span style="color:#DBEDFF;">&#39;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">gi</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">		match </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> match.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">height=&quot;</span><span style="color:#79B8FF;">[</span><span style="color:#F97583;">^</span><span style="color:#79B8FF;">&quot;]</span><span style="color:#F97583;">+</span><span style="color:#DBEDFF;">&quot;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">gi</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">height=&#39;</span><span style="color:#79B8FF;">[</span><span style="color:#F97583;">^</span><span style="color:#79B8FF;">&#39;]</span><span style="color:#F97583;">+</span><span style="color:#DBEDFF;">&#39;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">gi</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> match;</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">	newContent </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> newContent.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">style=&quot;</span><span style="color:#79B8FF;">[</span><span style="color:#F97583;">^</span><span style="color:#79B8FF;">&quot;]</span><span style="color:#F97583;">+</span><span style="color:#DBEDFF;">&quot;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">gi</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">match</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">capture</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">		match </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> match.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">width:</span><span style="color:#79B8FF;">[</span><span style="color:#F97583;">^</span><span style="color:#79B8FF;">;]</span><span style="color:#F97583;">+</span><span style="color:#DBEDFF;">;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">gi</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;max-width:100%;&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">width:</span><span style="color:#79B8FF;">[</span><span style="color:#F97583;">^</span><span style="color:#79B8FF;">;]</span><span style="color:#F97583;">+</span><span style="color:#DBEDFF;">;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">gi</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#9ECBFF;">&#39;max-width:100%;&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> match;</span></span>
<span class="line"><span style="color:#E1E4E8;">	});</span></span>
<span class="line"><span style="color:#E1E4E8;">	newContent </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> newContent.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">&lt;br</span><span style="color:#79B8FF;">[</span><span style="color:#F97583;">^</span><span style="color:#79B8FF;">&gt;]</span><span style="color:#F97583;">*</span><span style="color:#85E89D;font-weight:bold;">\/</span><span style="color:#DBEDFF;">&gt;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">gi</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">	newContent </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> newContent.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#85E89D;font-weight:bold;">\&lt;</span><span style="color:#DBEDFF;">img</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">gi</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">		</span><span style="color:#9ECBFF;">&#39;&lt;img style=&quot;max-width:100%;height:auto;&quot;&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">	</span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> newContent</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> formatRichText</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * è½¬æ¢å¯Œæ–‡æœ¬çš„å›¾ç‰‡æœ€å¤§ä¸º100%</span></span>
<span class="line"><span style="color:#6A737D;">*/</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">formatRichText</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">html</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> { </span><span style="color:#6A737D;">//æ§åˆ¶å°ç¨‹åºä¸­å›¾ç‰‡å¤§å°</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> newContent </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> html.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/&lt;img</span><span style="color:#005CC5;">[</span><span style="color:#D73A49;">^</span><span style="color:#005CC5;">&gt;]</span><span style="color:#D73A49;">*</span><span style="color:#032F62;">&gt;/</span><span style="color:#D73A49;">gi</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(</span><span style="color:#E36209;">match</span><span style="color:#24292E;">, </span><span style="color:#E36209;">capture</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">		match </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> match.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/style=&quot;</span><span style="color:#005CC5;">[</span><span style="color:#D73A49;">^</span><span style="color:#005CC5;">&quot;]</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">&quot;/</span><span style="color:#D73A49;">gi</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/style=&#39;</span><span style="color:#005CC5;">[</span><span style="color:#D73A49;">^</span><span style="color:#005CC5;">&#39;]</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">&#39;/</span><span style="color:#D73A49;">gi</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">		match </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> match.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/width=&quot;</span><span style="color:#005CC5;">[</span><span style="color:#D73A49;">^</span><span style="color:#005CC5;">&quot;]</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">&quot;/</span><span style="color:#D73A49;">gi</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/width=&#39;</span><span style="color:#005CC5;">[</span><span style="color:#D73A49;">^</span><span style="color:#005CC5;">&#39;]</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">&#39;/</span><span style="color:#D73A49;">gi</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">		match </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> match.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/height=&quot;</span><span style="color:#005CC5;">[</span><span style="color:#D73A49;">^</span><span style="color:#005CC5;">&quot;]</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">&quot;/</span><span style="color:#D73A49;">gi</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/height=&#39;</span><span style="color:#005CC5;">[</span><span style="color:#D73A49;">^</span><span style="color:#005CC5;">&#39;]</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">&#39;/</span><span style="color:#D73A49;">gi</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> match;</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">	newContent </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> newContent.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/style=&quot;</span><span style="color:#005CC5;">[</span><span style="color:#D73A49;">^</span><span style="color:#005CC5;">&quot;]</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">&quot;/</span><span style="color:#D73A49;">gi</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(</span><span style="color:#E36209;">match</span><span style="color:#24292E;">, </span><span style="color:#E36209;">capture</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">		match </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> match.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/width:</span><span style="color:#005CC5;">[</span><span style="color:#D73A49;">^</span><span style="color:#005CC5;">;]</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">;/</span><span style="color:#D73A49;">gi</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;max-width:100%;&#39;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/width:</span><span style="color:#005CC5;">[</span><span style="color:#D73A49;">^</span><span style="color:#005CC5;">;]</span><span style="color:#D73A49;">+</span><span style="color:#032F62;">;/</span><span style="color:#D73A49;">gi</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#032F62;">&#39;max-width:100%;&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> match;</span></span>
<span class="line"><span style="color:#24292E;">	});</span></span>
<span class="line"><span style="color:#24292E;">	newContent </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> newContent.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/&lt;br</span><span style="color:#005CC5;">[</span><span style="color:#D73A49;">^</span><span style="color:#005CC5;">&gt;]</span><span style="color:#D73A49;">*</span><span style="color:#22863A;font-weight:bold;">\/</span><span style="color:#032F62;">&gt;/</span><span style="color:#D73A49;">gi</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">	newContent </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> newContent.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/</span><span style="color:#22863A;font-weight:bold;">\&lt;</span><span style="color:#032F62;">img/</span><span style="color:#D73A49;">gi</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">		</span><span style="color:#032F62;">&#39;&lt;img style=&quot;max-width:100%;height:auto;&quot;&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> newContent</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> formatRichText</span></span></code></pre></div><p>æœ€ç»ˆæ•ˆæœå®ç°ï¼Œå›¾ç‰‡å¤§å°èƒ½å¤Ÿå…¨éƒ¨æ˜¾ç¤ºåœ¨æ‰‹æœºå±å¹•ä¸Šã€‚</p></div></div></main><footer class="VPDocFooter" data-v-6b87e69f data-v-ef5dee53><!--[--><!--]--><!----><nav class="prev-next" data-v-ef5dee53><div class="pager" data-v-ef5dee53><a class="pager-link prev" href="/blog/project/lingsi/music/APP/tabbar.html" data-v-ef5dee53><span class="desc" data-v-ef5dee53>Previous page</span><span class="title" data-v-ef5dee53>tabbar</span></a></div><div class="pager" data-v-ef5dee53><a class="pager-link next" href="/blog/project/lingsi/music/APP/share.html" data-v-ef5dee53><span class="desc" data-v-ef5dee53>Next page</span><span class="title" data-v-ef5dee53>åˆ†äº«</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5a346dfe data-v-e03eb2e1><div class="container" data-v-e03eb2e1><!----><p class="copyright" data-v-e03eb2e1>Copyright Â© 2023-present æœä¸€åˆ€</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"4e0f8409\",\"learn_css_æ•ˆæœæå‡_å®½åº¦é€‚é…å†…å®¹.md\":\"8fab9ecb\",\"about_lingsi.md\":\"09558c1e\",\"help_å®˜æ–¹æ–‡æ¡£.md\":\"f127c337\",\"learn_css_æ•ˆæœæå‡_clip-path.md\":\"a433798a\",\"learn_html_index.md\":\"3c20b579\",\"learn_css_index.md\":\"baca8d5a\",\"about_index.md\":\"5620308b\",\"about_blog.md\":\"a27d218e\",\"learn_css_æ•ˆæœæå‡_å˜é‡.md\":\"1d6c04ff\",\"learn_css_æ–°çš„åŠŸèƒ½_vminä¸vmax.md\":\"c232afa6\",\"learn_css_çŸ¥è¯†æ‹“å±•_bem.md\":\"ab471407\",\"learn_git_æ½œåœ¨çš„bug_å¤§å°å†™è§„åˆ™.md\":\"efe8353e\",\"learn_css_çŸ¥è¯†æ‹“å±•_ç©ºç™½èŠ‚ç‚¹.md\":\"baaf29e1\",\"help_index.md\":\"cea5501e\",\"learn_css_æ•ˆæœæå‡_æ–‡å­—é€‚é…èƒŒæ™¯.md\":\"13e93160\",\"learn_css_æ•ˆæœæå‡_filter.md\":\"2e7ba1fa\",\"learn_css_æ•ˆæœæå‡_æ–‡å­—è¿ç»­å…‰å½±ç‰¹æ•ˆ.md\":\"43f55768\",\"learn_javascript_æµè§ˆå™¨æ¸²æŸ“åŸç†.md\":\"5c446d57\",\"learn_css_æ•ˆæœæå‡_å·§ç”¨ä¼ªç±».md\":\"0a5ba85f\",\"learn_node_npm.md\":\"d7df557e\",\"learn_javascript_äº‹ä»¶å¾ªç¯.md\":\"55572cbb\",\"learn_reg_bug_lastindex.md\":\"403b3c3e\",\"learn_javascript_symbol.md\":\"17e487ed\",\"learn_javascript_index.md\":\"904a4130\",\"learn_javascript_scope_closure.md\":\"5e7d86b3\",\"learn_node_module.md\":\"0a4a272b\",\"learn_node_fs.md\":\"e9e13287\",\"learn_node_index.md\":\"21bc8644\",\"learn_reg_do_è¿ç”¨å‰ç»å®ç°å¯†ç å¼ºåº¦æ£€æµ‹.md\":\"24b346a5\",\"learn_react_reactè·¯ç”±.md\":\"4a35ae53\",\"learn_node_path.md\":\"360fab35\",\"learn_javascript_set.md\":\"63b550da\",\"learn_react_index_new.md\":\"207ded0e\",\"learn_vue3_vue3é¡¹ç›®åˆ›å»º.md\":\"e1d4bf45\",\"learn_typescript_æ³›å‹.md\":\"6dd044c2\",\"learn_vue3_å†…ç½®ç»„ä»¶.md\":\"24e8a4ff\",\"learn_react_reactçš„diffç®—æ³•.md\":\"8f461fda\",\"learn_javascript_æ¨¡å—åŒ–.md\":\"e4e9e879\",\"learn_vue3_è‡ªå®šä¹‰æŒ‡ä»¤.md\":\"59b04d32\",\"learn_react_reactrouter6.md\":\"384b7f26\",\"learn_javascript_promiseæ ¸å¿ƒ.md\":\"c2a2b8e9\",\"learn_æ‚æŠ€æ‹¾è°ˆ_vue_vueé¡¹ç›®æ‰“åŒ…åé¦–é¡µç™½å±æ€»ç»“.md\":\"e2e8dc28\",\"learn_react_reactæ‹“å±•.md\":\"50d119e3\",\"learn_æ‚æŠ€æ‹¾è°ˆ_vue__nexttick.md\":\"a6d64343\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_å‰ç«¯ç»„ä»¶å°è£…å®ä¾‹_vueç»„ä»¶è®¾è®¡æŠ€å·§.md\":\"b7d1f2b1\",\"project_lingsi_index.md\":\"baa25fdb\",\"project_demo_åœ°å›¾æ•°æ®å±•ç¤º.md\":\"c184085f\",\"project_demo_å£°éŸ³çš„åˆ†æå’Œå¤„ç†.md\":\"3e4701ec\",\"learn_javascript_sort.md\":\"e437ff91\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_å‰ç«¯ç»„ä»¶å°è£…å®ä¾‹_å¯¹è¯æ¡†å¼¹çª—ç»„ä»¶.md\":\"c86742b3\",\"learn_é¢è¯•é¸­_æ‰‹å†™å°è£…ajax.md\":\"00679cf3\",\"learn_é¢è¯•é¸­_æ•°ç»„å»é‡.md\":\"a802fb12\",\"learn_é¢è¯•é¸­_jsæ‰§è¡Œé¡ºåº.md\":\"5d507e2f\",\"learn_typescript_ç±»ä¸æ¥å£.md\":\"6cf62342\",\"learn_æ‚æŠ€æ‹¾è°ˆ_vue_vueå›¾ç‰‡åŠ¨æ€å¼•å…¥ä½¿ç”¨require.md\":\"43ced205\",\"learn_typescript_ç¯å¢ƒé…ç½®.md\":\"059657d9\",\"learn_node_express.md\":\"da950873\",\"project_demo_æ‹¼éŸ³æ ‡æ³¨.md\":\"b0493234\",\"learn_vue2_æºç â€”ä»é›¶æ‰‹å†™vuerouteråŠvuex.md\":\"4a89c078\",\"learn_javascript_åŸå‹ä¸åŸå‹é“¾.md\":\"a83bb3be\",\"project_lingsi_crm_navigateback.md\":\"369ca55f\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_æ›´ä¸Šä¸€å±‚æ¥¼_é¡µé¢åŠ è½½æ…¢æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆ.md\":\"d0d180e9\",\"project_lingsi_æ°´æ³¥_jeecg_j-vxe-tableæ­é…å…¶ä»–ç»„ä»¶.md\":\"af009252\",\"learn_javascript_object.md\":\"d1522031\",\"project_lingsi_æ°´æ³¥_index.md\":\"a8a3bd2a\",\"project_lingsi_æ°´æ³¥_jeecg_è¡¨æ ¼è¡Œé€‰ä¸­.md\":\"43820ce0\",\"project_lingsi_crm_å¾®ä¿¡æˆæƒ.md\":\"d7df5f9c\",\"project_lingsi_music_index.md\":\"4bc004d3\",\"project_demo_æ–‡å­—è½¬è¯­éŸ³æ’­æ”¾.md\":\"87cdac36\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_å‰ç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶ä¿®æ”¹æ¡ˆä¾‹å­¦ä¹ _é¡µç åˆ—è¡¨ç»„ä»¶å°è£…æ€è·¯.md\":\"66706c3c\",\"learn_é¢è¯•é¸­_æ•°ç»„æ–¹æ³•æ‰‹å†™åŸç†.md\":\"c3e10049\",\"learn_æ‚æŠ€æ‹¾è°ˆ_vue_vue3ç»„ä»¶ä½¿ç”¨v-model.md\":\"47dc4cb0\",\"project_lingsi_sale_upload.md\":\"60ea5465\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_å‰ç«¯åŠŸèƒ½æ“ä½œæ¨¡å—_å‰ç«¯æ“ä½œexcelä¸word.md\":\"6c68cb25\",\"project_myself_index.md\":\"9c23a433\",\"project_lingsi_music_app_sku.md\":\"4f8d2a17\",\"learn_é¢è¯•é¸­_(a__1__a__2__a__3).md\":\"fa54dcb3\",\"project_lingsi_sale_token.md\":\"f9d5708c\",\"project_lingsi_sale_è·å–æ‰‹æœºå·.md\":\"24e130db\",\"vitepress_deploy.md\":\"ce4c217b\",\"project_myself_å°å…”é²œ_inuni_build.md\":\"ae1a013c\",\"vitepress_know.md\":\"2dbdfa89\",\"learn_javascript_map.md\":\"7349ec26\",\"project_lingsi_crm_index.md\":\"c4dd9800\",\"vitepress_index.md\":\"c7dd17cc\",\"learn_æ‚æŠ€æ‹¾è°ˆ_å¤šæ¥å£è¯·æ±‚.md\":\"81f6262b\",\"learn_vue2_ç»„ä»¶é€šä¿¡.md\":\"b5494ddc\",\"project_lingsi_music_h5_index.md\":\"72fe5c52\",\"project_lingsi_music_app_update.md\":\"8edfd5dc\",\"learn_javascript_array.md\":\"d0e43bc7\",\"learn_vue3_ç»„ä»¶.md\":\"0d92bd26\",\"learn_vue3_pinia.md\":\"cfbcd068\",\"project_myself_å°å…”é²œ_inweb_index.md\":\"513f09a4\",\"project_demo_javascriptã€å›¾ç‰‡å‹ç¼©ã€.md\":\"3c0503c3\",\"project_lingsi_sale_å…³æ³¨å…¬ä¼—å·.md\":\"64d2f25a\",\"project_demo_é¡µé¢è‡ªåŠ¨æ£€æµ‹æ›´æ–°.md\":\"62c62e4b\",\"project_myself_å°å…”é²œ_inuni_login.md\":\"ca45245c\",\"project_lingsi_music_app_login.md\":\"8064f365\",\"project_lingsi_sale_åˆ†äº«.md\":\"840bcd85\",\"project_myself_å°å…”é²œ_inweb_layout.md\":\"ab7f9970\",\"project_myself_å°å…”é²œ_inweb_home.md\":\"8b0e9092\",\"project_lingsi_æ°´æ³¥_jeecg_æ ‘ç»„ä»¶é»˜è®¤å±•å¼€.md\":\"5837fcdc\",\"project_myself_å°å…”é²œ_inweb_detail.md\":\"4021db15\",\"project_lingsi_sale_video.md\":\"2b1311ab\",\"vitepress_dev.md\":\"13aebdc5\",\"learn_javascript_function.md\":\"0e5449b8\",\"project_myself_å°å…”é²œ_inweb_all.md\":\"64916e51\",\"learn_æ‚æŠ€æ‹¾è°ˆ_js_æ•°ç»„å¯¹è±¡éå†.md\":\"704dfa51\",\"learn_æ‚æŠ€æ‹¾è°ˆ_js_localstorageå°è£….md\":\"3b7867ec\",\"project_demo_ç½‘ç«™è®¿é—®ç”¨æˆ·æ–‡ä»¶å¤¹.md\":\"d705ab45\",\"learn_vue2_æŒ‡ä»¤.md\":\"59f330fe\",\"project_caixun_elk_vue_core.md\":\"eb6f6560\",\"learn_vue3_æºç .md\":\"1460cb58\",\"project_lingsi_music_app_detail.md\":\"ca192fe4\",\"project_myself_ç¡…è°·ç”„é€‰_å±æ€§ç®¡ç†.md\":\"cf67c088\",\"project_demo_resizeå‡½æ•°å°è£….md\":\"2641164a\",\"learn_vue3_vue3çš„ä½¿ç”¨.md\":\"bfb48e79\",\"learn_vue2_åŠ¨æ€ç»„ä»¶ã€æ’æ§½ä¸è‡ªå®šä¹‰æŒ‡ä»¤.md\":\"f9e32f84\",\"project_myself_ç¡…è°·ç”„é€‰_è·¯ç”±.md\":\"dc1fc3ac\",\"project_myself_çŸ¥ä¹æ—¥æŠ¥_reactç‰ˆ_redux.md\":\"39124225\",\"learn_reg_index.md\":\"ef682399\",\"project_myself_çŸ¥ä¹æ—¥æŠ¥_reactç‰ˆ_ç»„ä»¶.md\":\"05c13398\",\"learn_typescript_è£…é¥°å™¨.md\":\"2ae8c6bc\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_å‰ç«¯åŠŸèƒ½æ“ä½œæ¨¡å—_å‰ç«¯ä¸‹è½½åç«¯ä¼ è¾“çš„æ–‡ä»¶.md\":\"f362eef6\",\"project_myself_å°šåŒ»é€š_index.md\":\"e50e040f\",\"learn_æ‚æŠ€æ‹¾è°ˆ_hbuilderä½¿ç”¨æ¨¡æ‹Ÿå™¨è°ƒè¯•.md\":\"29e9683f\",\"project_myself_å°å…”é²œ_inweb_ä¸€çº§åˆ†ç±».md\":\"b63f73d7\",\"project_myself_reactåå°_index.md\":\"da649d43\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_å‰ç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶ä¿®æ”¹æ¡ˆä¾‹å­¦ä¹ _é€šè¿‡el-selectå®ç°å¤šä¸ªçœç•¥å­¦ä¹ å¦‚ä½•æ”¹é€ ç¬¬ä¸‰æ–¹ç»„ä»¶æ»¡è¶³è‡ªå·±çš„è¦æ±‚.md\":\"53b2fa4c\",\"project_myself_çŸ¥ä¹æ—¥æŠ¥_reactç‰ˆ_api.md\":\"c387f68b\",\"project_caixun_elk_edit_json.md\":\"3da8e068\",\"project_caixun_elk_edit_div.md\":\"34ed6ca0\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_æ›´ä¸Šä¸€å±‚æ¥¼_æ—¶é—´åˆ‡ç‰‡ä¼˜åŒ–é¡¹ç›®é€Ÿåº¦.md\":\"8be5bc3d\",\"project_myself_çŸ¥ä¹æ—¥æŠ¥_vue3_tsç‰ˆ_index.md\":\"d882a7d3\",\"project_lingsi_crm_call.md\":\"7727c3e1\",\"vitepress_build.md\":\"8ce35ecf\",\"project_lingsi_music_app_pay.md\":\"13d28075\",\"project_myself_çŸ¥ä¹æ—¥æŠ¥_reactç‰ˆ_index.md\":\"46af336b\",\"project_demo_å–è‰²å™¨å°è£….md\":\"02bc3b0a\",\"project_lingsi_sale_preview.md\":\"7c487a69\",\"project_demo_è¿…é›·ä¸‹è½½è§¦å‘.md\":\"40bbb90d\",\"learn_node_http.md\":\"97380d6b\",\"learn_react_redux.md\":\"36648916\",\"learn_æ‚æŠ€æ‹¾è°ˆ_vue_vue3åŒå‘ç»‘å®šproxyåŸç†.md\":\"834017ad\",\"learn_æ‚æŠ€æ‹¾è°ˆ_js_è®¾è®¡æ¨¡å¼.md\":\"8221d939\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_å‰ç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶ä¿®æ”¹æ¡ˆä¾‹å­¦ä¹ _é€šè¿‡el-tableå®ç°å¤šæ•°æ®å®Œç¾æ— é™æ»šåŠ¨æ•ˆæœ.md\":\"5ee9f4a6\",\"project_lingsi_sale_request.md\":\"de1adc2c\",\"project_caixun_elk_index.md\":\"c6f03ac8\",\"project_caixun_elk_canvas_table.md\":\"3c8f0baf\",\"project_myself_ç¡…è°·ç”„é€‰_spuç®¡ç†.md\":\"41ad074c\",\"learn_æ‚æŠ€æ‹¾è°ˆ_js_windoe.onstorageæ ‡ç­¾é¡µé€šä¿¡.md\":\"90626c47\",\"project_lingsi_music_app_share.md\":\"8745d45b\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_æ›´ä¸Šä¸€å±‚æ¥¼_vueé¡¹ç›®æƒé™æ§åˆ¶.md\":\"081cfa30\",\"project_lingsi_music_app_tabbar.md\":\"491b269a\",\"project_caixun_elk_pdf.md\":\"732f3967\",\"learn_javascript_type.md\":\"aea025e7\",\"project_demo_ç½‘ç»œçŠ¶æ€ç›‘æ§.md\":\"809af1af\",\"learn_typescript_æ–­è¨€ä¸æšä¸¾.md\":\"49d6a619\",\"project_demo_æ•°å­—è½¬ä¸­æ–‡.md\":\"c6c4e989\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_å‰ç«¯åŠŸèƒ½æ“ä½œæ¨¡å—_å¯Œæ–‡æœ¬ç¼–è¾‘å™¨.md\":\"19850a20\",\"project_myself_å°å…”é²œ_inuni_index.md\":\"37d5edf8\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_å‰ç«¯åŠŸèƒ½æ“ä½œæ¨¡å—_å‰ç«¯æ–‡ä»¶ä¸Šä¼ ä¸ç›¸å…³æ“ä½œ.md\":\"4641087a\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_æ›´ä¸Šä¸€å±‚æ¥¼_canvasæ“ä½œ.md\":\"a6929871\",\"project_lingsi_èŒæŠ€ç½‘_index.md\":\"f34649d1\",\"project_myself_å°å…”é²œ_inuni_guess.md\":\"ccf3ff8e\",\"project_lingsi_sale_å•†åŸ.md\":\"433112f7\",\"learn_é¢è¯•é¸­_å…³äºforeachä½¿ç”¨breakè·³å‡ºå¾ªç¯.md\":\"15b02dd8\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_æ›´ä¸Šä¸€å±‚æ¥¼_axiosäºŒæ¬¡å°è£….md\":\"b4e9aeba\",\"learn_javascript_ç±».md\":\"cfe5b52d\",\"project_index.md\":\"4b6a186c\",\"project_lingsi_æ°´æ³¥_vue_color.md\":\"3975fc8e\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_æ“ä½œå†…åµŒifrnameä¸ä¼ é€’æ¶ˆæ¯.md\":\"75154388\",\"learn_æ‚æŠ€æ‹¾è°ˆ_js_å¹¶å‘ä»»åŠ¡æ§åˆ¶.md\":\"603ccc77\",\"project_myself_å°å…”é²œ_inweb_è´­ç‰©è½¦.md\":\"5f343a92\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_sassåŠ csså˜é‡å®ç°ç°ä»£å‰ç«¯æ¢è‚¤.md\":\"945708e6\",\"learn_vue3_æ’æ§½.md\":\"ebf7b6f2\",\"project_lingsi_music_app_userinfo.md\":\"52b9e8c8\",\"project_myself_å°å…”é²œ_inuni_pagesmember.md\":\"8f247315\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_æ›´ä¸Šä¸€å±‚æ¥¼_vueé¡¹ç›®å¯¹renderå’Œjsxçš„å¦™ç”¨.md\":\"96d240a4\",\"project_myself_å°å…”é²œ_inweb_sku.md\":\"75cf2172\",\"learn_typescript_ç±»å‹.md\":\"ef99dc17\",\"learn_vue2_åŠ¨æ€æ ·å¼ã€è®¡ç®—å±æ€§ã€è¿‡æ»¤å™¨ä¸ä¾¦å¬å™¨.md\":\"d0f74132\",\"project_lingsi_sale_index.md\":\"5dff7fa7\",\"learn_æ‚æŠ€æ‹¾è°ˆ_vue_vue2 vs vue3.md\":\"3889b482\",\"project_myself_ç¡…è°·ç”„é€‰_è®¾ç½®.md\":\"9741b8b9\",\"project_lingsi_music_app_test.md\":\"4a3e5a86\",\"project_lingsi_èŒæŠ€ç½‘_vantç»„ä»¶äºŒæ¬¡å°è£….md\":\"fa9b0f2f\",\"project_lingsi_crm_éƒ¨ç½².md\":\"e46ae324\",\"project_myself_ç¡…è°·ç”„é€‰_index.md\":\"0d9e942c\",\"project_myself_ç¡…è°·ç”„é€‰_çŠ¶æ€ç®¡ç†.md\":\"b1260bca\",\"project_lingsi_èŒæŠ€ç½‘_å¾®ä¿¡æˆæƒ.md\":\"74729efe\",\"project_myself_å°å…”é²œ_inweb_login.md\":\"549b96c6\",\"project_myself_reactåå°_redux.md\":\"fc4aa6f8\",\"project_caixun_elk_blob.md\":\"8b12cc78\",\"project_lingsi_èŒæŠ€ç½‘_ä¸‹è½½é™„ä»¶.md\":\"70e825ac\",\"project_myself_reactåå°_å®ˆå«.md\":\"2d6e461e\",\"learn_vue3_vue3æ–°ç‰¹æ€§.md\":\"216635c0\",\"project_myself_ç¡…è°·ç”„é€‰_æ•°æ®å¤§å±.md\":\"15e74c6d\",\"project_myself_çŸ¥ä¹æ—¥æŠ¥_reactç‰ˆ_router.md\":\"f55e290e\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_å‰ç«¯ç»„ä»¶å°è£…å®ä¾‹_è¾“å…¥æ¡†ç»„ä»¶å°è£….md\":\"ec2acbb9\",\"project_lingsi_èŒæŠ€ç½‘_é¡¹ç›®åˆ›å»º.md\":\"3563fed2\",\"project_myself_å°å…”é²œ_inuni_home.md\":\"bc29ecbe\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_æ›´ä¸Šä¸€å±‚æ¥¼_å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ.md\":\"ff2add7c\",\"project_myself_reactåå°_menu.md\":\"d3fb2ce8\",\"project_myself_å°å…”é²œ_inuni_detail.md\":\"b2e4c4aa\",\"learn_å­¦è€Œæ—¶ä¹ ä¹‹_å‰ç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶ä¿®æ”¹æ¡ˆä¾‹å­¦ä¹ _é€šè¿‡el-calendarå®ç°ä¸šåŠ¡.md\":\"b662b4d5\",\"learn_react_index.md\":\"54fa3a57\",\"project_lingsi_music_app_do.md\":\"8bce6ad0\",\"project_lingsi_æ°´æ³¥_å›¾ç‰‡å¯¹æ¯”å¯æ‹–æ‹½è½®å­.md\":\"ebdac4c3\",\"learn_vue2_æºç â€”é˜…è¯»æ¡†æ¶æºç æ–¹æ³•.md\":\"8cc58ab0\",\"learn_vue2_æºç â€”vue2æ ¸å¿ƒæºç åŠè®¾è®¡æ€æƒ³.md\":\"f7748f1c\",\"learn_javascript_promise.md\":\"f7c2dfa3\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ğŸ”ª åˆ€åˆ€å°ç«™\",\"description\":\"åˆ€åˆ€å°ç«™\",\"base\":\"/blog/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/favicon.ico\",\"lastUpdated\":\"Last Updated\",\"siteTitle\":\"ã€ åˆ€åˆ€å°ç«™ ã€\",\"outlineTitle\":\"æˆ‘æ˜¯ä¸€ä¸ªç›®å½•å“¦~\",\"outline\":[0,6],\"smoothScroll\":true,\"nav\":[{\"text\":\"ğŸ’» å‰ç«¯çŸ¥è¯†\",\"items\":[{\"text\":\"HTML\",\"link\":\"/learn/HTML/\"},{\"text\":\"CSS\",\"link\":\"/learn/CSS/\"},{\"text\":\"JavaScript\",\"link\":\"/learn/Javascript/\"},{\"text\":\"Vue2\",\"link\":\"/learn/vue2/æŒ‡ä»¤\"},{\"text\":\"Vue3\",\"link\":\"/learn/Vue3/vue3é¡¹ç›®åˆ›å»º\"},{\"text\":\"React\",\"link\":\"/learn/React/\"},{\"text\":\"TypeScript\",\"link\":\"/learn/TypeScript/ç¯å¢ƒé…ç½®\"},{\"text\":\"Node\",\"link\":\"/learn/Node/\"},{\"text\":\"Git\",\"link\":\"/learn/Git/æ½œåœ¨çš„BUG/å¤§å°å†™è§„åˆ™\"},{\"text\":\"æ­£åˆ™è¡¨è¾¾å¼\",\"link\":\"/learn/Reg/\"},{\"items\":[{\"text\":\"æ‚æŠ€æ‹¾è°ˆ\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/Vue/vue3åŒå‘ç»‘å®šproxyåŸç†.md\"}]},{\"items\":[{\"text\":\"å­¦è€Œæ—¶ä¹ ä¹‹\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/æ“ä½œå†…åµŒifrnameä¸ä¼ é€’æ¶ˆæ¯.md\"}]},{\"items\":[{\"text\":\"é¢è¯•é¸­\",\"link\":\"/learn/é¢è¯•é¸­/æ•°ç»„æ–¹æ³•æ‰‹å†™åŸç†.md\"}]}]},{\"text\":\"ğŸ’¾ é¡¹ç›®æˆ–åŠŸèƒ½æ¨¡å—\",\"items\":[{\"text\":\"çµæ€\",\"link\":\"/project/lingsi/\"},{\"text\":\"å½©è®¯\",\"link\":\"/project/caixun/elk/\"},{\"items\":[{\"text\":\"è‡ªä¸»å­¦ä¹ \",\"link\":\"/project/myself/\"}]},{\"items\":[{\"text\":\"åŠŸèƒ½æ¨¡å—\",\"link\":\"/project/demo/JavaScriptã€å›¾ç‰‡å‹ç¼©ã€\"}]}]},{\"text\":\"ğŸ§Š éƒ¨ç½²\",\"items\":[{\"text\":\"ğŸŒ©ï¸ VitePress\",\"link\":\"/vitePress/\"}]},{\"text\":\"ğŸ“´ æœ‰ç”¨çš„å¸®åŠ©\",\"items\":[{\"text\":\"ğŸƒ å¼€å‘å¸®åŠ©\",\"link\":\"/help/\"},{\"text\":\"ğŸ“• å®˜æ–¹æ–‡æ¡£\",\"link\":\"/help/å®˜æ–¹æ–‡æ¡£\"}]},{\"text\":\"â­ å…³äº\",\"items\":[{\"text\":\"â­ å…³äºæˆ‘\",\"link\":\"/about/\"},{\"text\":\"ğŸ”ª å…³äºåˆ€åˆ€å°ç«™\",\"link\":\"/about/blog\"}]}],\"sidebar\":{\"/learn/HTML\":[{\"text\":\"HTML\",\"collapsible\":true,\"items\":[{\"text\":\"HTML\",\"link\":\"/learn/HTML/\"}]}],\"/learn/CSS\":[{\"text\":\"CSS\",\"collapsible\":true,\"items\":[{\"text\":\"æ•ˆæœæå‡\",\"link\":\"/learn/CSS/æ•ˆæœæå‡/å·§ç”¨ä¼ªç±»\"},{\"text\":\"çŸ¥è¯†æ‹“å±•\",\"link\":\"/learn/CSS/çŸ¥è¯†æ‹“å±•/BEM\"},{\"text\":\"æ–°çš„åŠŸèƒ½\",\"link\":\"/learn/CSS/æ–°çš„åŠŸèƒ½/vminä¸vmax\"}]}],\"/learn/CSS/æ•ˆæœæå‡\":[{\"text\":\"æ•ˆæœæå‡\",\"collapsible\":true,\"items\":[{\"text\":\"å·§ç”¨ä¼ªç±»\",\"link\":\"/learn/CSS/æ•ˆæœæå‡/å·§ç”¨ä¼ªç±»\"},{\"text\":\"å®½åº¦é€‚é…å†…å®¹\",\"link\":\"/learn/CSS/æ•ˆæœæå‡/å®½åº¦é€‚é…å†…å®¹\"},{\"text\":\"æ–‡å­—é€‚é…èƒŒæ™¯\",\"link\":\"/learn/CSS/æ•ˆæœæå‡/æ–‡å­—é€‚é…èƒŒæ™¯\"},{\"text\":\"å˜é‡\",\"link\":\"/learn/CSS/æ•ˆæœæå‡/å˜é‡\"},{\"text\":\"æ–‡å­—è¿ç»­å…‰å½±ç‰¹æ•ˆ\",\"link\":\"/learn/CSS/æ•ˆæœæå‡/æ–‡å­—è¿ç»­å…‰å½±ç‰¹æ•ˆ\"},{\"text\":\"filter\",\"link\":\"/learn/CSS/æ•ˆæœæå‡/filter\"},{\"text\":\"clip-path\",\"link\":\"/learn/CSS/æ•ˆæœæå‡/clip-path\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/learn/CSS/\"}]}],\"/learn/CSS/çŸ¥è¯†æ‹“å±•\":[{\"text\":\"çŸ¥è¯†æ‹“å±•\",\"collapsible\":true,\"items\":[{\"text\":\"BEM\",\"link\":\"/learn/CSS/çŸ¥è¯†æ‹“å±•/BEM\"},{\"text\":\"ç©ºç™½èŠ‚ç‚¹\",\"link\":\"/learn/CSS/çŸ¥è¯†æ‹“å±•/ç©ºç™½èŠ‚ç‚¹\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/learn/CSS/\"}]}],\"/learn/CSS/æ–°çš„åŠŸèƒ½\":[{\"text\":\"æ–°çš„åŠŸèƒ½\",\"collapsible\":true,\"items\":[{\"text\":\"vminä¸vmax\",\"link\":\"/learn/CSS/æ–°çš„åŠŸèƒ½/vminä¸vmax\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/learn/CSS/\"}]}],\"/learn/Javascript\":[{\"text\":\"Javascript\",\"collapsible\":true,\"items\":[{\"text\":\"Javascript\",\"link\":\"/learn/Javascript/\"},{\"text\":\"è¿ç®—ç¬¦\",\"link\":\"/learn/Javascript/sort\"},{\"text\":\"æ•°æ®ç±»å‹\",\"link\":\"/learn/Javascript/type\"},{\"text\":\"æ•°ç»„\",\"link\":\"/learn/Javascript/array\"},{\"text\":\"å‡½æ•°\",\"link\":\"/learn/Javascript/function\"},{\"text\":\"å¯¹è±¡\",\"link\":\"/learn/Javascript/object\"},{\"text\":\"ä½œç”¨åŸŸä¸é—­åŒ…\",\"link\":\"/learn/Javascript/scope_closure\"},{\"text\":\"åŸå‹ä¸åŸå‹é“¾\",\"link\":\"/learn/Javascript/åŸå‹ä¸åŸå‹é“¾\"},{\"text\":\"ç±»\",\"link\":\"/learn/Javascript/ç±»\"},{\"text\":\"æ¨¡å—åŒ–\",\"link\":\"/learn/Javascript/æ¨¡å—åŒ–\"},{\"text\":\"æ­£åˆ™è¡¨è¾¾å¼\",\"link\":\"/learn/Javascript/æ­£åˆ™è¡¨è¾¾å¼\"},{\"text\":\"Promise\",\"link\":\"/learn/Javascript/Promise\"},{\"text\":\"ä»»åŠ¡ç®¡ç†ä¸Promiseæ ¸å¿ƒ\",\"link\":\"/learn/Javascript/Promiseæ ¸å¿ƒ\"},{\"text\":\"Set\",\"link\":\"/learn/Javascript/set\"},{\"text\":\"Map\",\"link\":\"/learn/Javascript/map\"},{\"text\":\"Symbol\",\"link\":\"/learn/Javascript/symbol\"}]}],\"/learn/Reg\":[{\"text\":\"æ­£åˆ™\",\"collapsible\":true,\"items\":[{\"text\":\"çŸ¥è¯†ç‚¹\",\"collapsible\":true,\"items\":[{\"text\":\"æ­£åˆ™è¡¨è¾¾å¼\",\"link\":\"/learn/Reg/\"}]},{\"text\":\"å®æ“æ¼”ç»ƒ\",\"collapsible\":true,\"items\":[{\"text\":\"è¿ç”¨å‰ç»å®ç°å¯†ç å¼ºåº¦æ£€æµ‹\",\"link\":\"/learn/Reg/do/è¿ç”¨å‰ç»å®ç°å¯†ç å¼ºåº¦æ£€æµ‹\"}]},{\"text\":\"æ½œåœ¨BUG\",\"collapsible\":true,\"items\":[{\"text\":\"æ­£åˆ™ä¸­çš„lastIndex\",\"link\":\"/learn/Reg/BUG/lastIndex\"}]}]}],\"/learn/vue2\":[{\"text\":\"Vue2\",\"collapsible\":true,\"items\":[{\"text\":\"æŒ‡ä»¤\",\"link\":\"/learn/vue2/æŒ‡ä»¤\"},{\"text\":\"åŠ¨æ€æ ·å¼ã€è®¡ç®—å±æ€§ã€è¿‡æ»¤å™¨ä¸ä¾¦å¬å™¨\",\"link\":\"/learn/vue2/åŠ¨æ€æ ·å¼ã€è®¡ç®—å±æ€§ã€è¿‡æ»¤å™¨ä¸ä¾¦å¬å™¨\"},{\"text\":\"ç»„ä»¶é€šä¿¡\",\"link\":\"/learn/vue2/ç»„ä»¶é€šä¿¡\"},{\"text\":\"åŠ¨æ€ç»„ä»¶ã€æ’æ§½ä¸è‡ªå®šä¹‰æŒ‡ä»¤\",\"link\":\"/learn/vue2/åŠ¨æ€ç»„ä»¶ã€æ’æ§½ä¸è‡ªå®šä¹‰æŒ‡ä»¤\"},{\"text\":\"vue2æ ¸å¿ƒæºç åŠè®¾è®¡æ€æƒ³\",\"link\":\"/learn/vue2/æºç â€”vue2æ ¸å¿ƒæºç åŠè®¾è®¡æ€æƒ³\"},{\"text\":\"ä»é›¶æ‰‹å†™VueRouteråŠVuex\",\"link\":\"/learn/vue2/æºç â€”ä»é›¶æ‰‹å†™VueRouteråŠVuex\"},{\"text\":\"é˜…è¯»æ¡†æ¶æºç æ–¹æ³•\",\"link\":\"/learn/vue2/æºç â€”é˜…è¯»æ¡†æ¶æºç æ–¹æ³•\"}]}],\"/learn/Vue3\":[{\"text\":\"Vue3\",\"collapsible\":true,\"items\":[{\"text\":\"vue3é¡¹ç›®åˆ›å»º\",\"link\":\"/learn/Vue3/vue3é¡¹ç›®åˆ›å»º\"},{\"text\":\"vue3çš„ä½¿ç”¨\",\"link\":\"/learn/Vue3/vue3çš„ä½¿ç”¨\"},{\"text\":\"ç»„ä»¶\",\"link\":\"/learn/Vue3/ç»„ä»¶\"},{\"text\":\"æ’æ§½\",\"link\":\"/learn/Vue3/æ’æ§½\"},{\"text\":\"è‡ªå®šä¹‰æŒ‡ä»¤\",\"link\":\"/learn/Vue3/è‡ªå®šä¹‰æŒ‡ä»¤\"},{\"text\":\"å†…ç½®ç»„ä»¶\",\"link\":\"/learn/Vue3/å†…ç½®ç»„ä»¶\"},{\"text\":\"pinia\",\"link\":\"/learn/Vue3/pinia\"},{\"text\":\"Vue3æ–°ç‰¹æ€§\",\"link\":\"/learn/Vue3/Vue3æ–°ç‰¹æ€§\"},{\"text\":\"æºç \",\"link\":\"/learn/Vue3/æºç \"}]}],\"/learn/React\":[{\"text\":\"React\",\"collapsible\":true,\"items\":[{\"text\":\"æ— è„šæ‰‹æ¶é¡¹ç›®åˆ›å»º\",\"link\":\"/learn/React/\"},{\"text\":\"Diffç®—æ³•\",\"link\":\"/learn/React/reactçš„diffç®—æ³•\"},{\"text\":\"è„šæ‰‹æ¶é¡¹ç›®åˆ›å»º\",\"link\":\"/learn/React/index_new\"},{\"text\":\"ReactRouter5\",\"link\":\"/learn/React/reactè·¯ç”±\"},{\"text\":\"redux\",\"link\":\"/learn/React/redux\"},{\"text\":\"reactæ‹“å±•\",\"link\":\"/learn/React/reactæ‹“å±•\"},{\"text\":\"ReactRouter6\",\"link\":\"/learn/React/ReactRouter6\"}]}],\"/learn/TypeScript\":[{\"text\":\"TypeScript\",\"collapsible\":true,\"items\":[{\"text\":\"ç¯å¢ƒé…ç½®\",\"link\":\"/learn/TypeScript/ç¯å¢ƒé…ç½®\"},{\"text\":\"ç±»å‹\",\"link\":\"/learn/TypeScript/ç±»å‹\"},{\"text\":\"æ–­è¨€ä¸æšä¸¾\",\"link\":\"/learn/TypeScript/æ–­è¨€ä¸æšä¸¾\"},{\"text\":\"ç±»ä¸æ¥å£\",\"link\":\"/learn/TypeScript/ç±»ä¸æ¥å£\"},{\"text\":\"æ³›å‹\",\"link\":\"/learn/TypeScript/æ³›å‹\"},{\"text\":\"è£…é¥°å™¨\",\"link\":\"/learn/TypeScript/è£…é¥°å™¨\"}]}],\"/learn/Node\":[{\"text\":\"node\",\"collapsible\":true,\"items\":[{\"text\":\"node\",\"link\":\"/learn/Node/\"},{\"text\":\"fs\",\"link\":\"/learn/Node/fs\"},{\"text\":\"path\",\"link\":\"/learn/Node/path\"},{\"text\":\"http\",\"link\":\"/learn/Node/http\"},{\"text\":\"module\",\"link\":\"/learn/Node/module\"},{\"text\":\"express\",\"link\":\"/learn/Node/express\"},{\"text\":\"npm\",\"link\":\"/learn/Node/npm\"}]}],\"/learn/Git\":[{\"text\":\"Git\",\"collapsible\":true,\"items\":[{\"text\":\"æ½œåœ¨çš„BUG\",\"collapsible\":true,\"items\":[{\"text\":\"å¤§å°å†™è§„åˆ™æ£€æµ‹\",\"link\":\"/learn/Git/æ½œåœ¨çš„BUG/å¤§å°å†™è§„åˆ™\"}]}]}],\"/learn/æ‚æŠ€æ‹¾è°ˆ\":[{\"text\":\"æ‚æŠ€æ‹¾è°ˆ\",\"collapsible\":true,\"items\":[{\"text\":\"JS\",\"collapsible\":true,\"items\":[{\"text\":\"æ•°ç»„å¯¹è±¡éå†\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/JS/æ•°ç»„å¯¹è±¡éå†\"},{\"text\":\"è®¾è®¡æ¨¡å¼\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/JS/è®¾è®¡æ¨¡å¼\"},{\"text\":\"LocalStorageå°è£…\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/JS/LocalStorageå°è£…\"},{\"text\":\"windoe.onstorageæ ‡ç­¾é¡µé€šä¿¡\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/JS/windoe.onstorageæ ‡ç­¾é¡µé€šä¿¡\"},{\"text\":\"å¹¶å‘ä»»åŠ¡æ§åˆ¶\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/JS/å¹¶å‘ä»»åŠ¡æ§åˆ¶\"}]},{\"text\":\"Vue\",\"collapsible\":true,\"items\":[{\"text\":\"vue3åŒå‘ç»‘å®šproxyåŸç†\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/Vue/vue3åŒå‘ç»‘å®šproxyåŸç†\"},{\"text\":\"vueå›¾ç‰‡åŠ¨æ€å¼•å…¥ä½¿ç”¨require\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/Vue/vueå›¾ç‰‡åŠ¨æ€å¼•å…¥ä½¿ç”¨require\"},{\"text\":\"vueé¡¹ç›®æ‰“åŒ…åé¦–é¡µç™½å±æ€»ç»“\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/Vue/vueé¡¹ç›®æ‰“åŒ…åé¦–é¡µç™½å±æ€»ç»“\"},{\"text\":\"Vue2 VS Vue3\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/Vue/Vue2 VS Vue3\"},{\"text\":\"$nexttick\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/Vue/$nexttick\"}]},{\"text\":\"å…¶ä»–åˆ†ç±»\",\"collapsible\":true,\"items\":[{\"text\":\"æ¥å£è¯·æ±‚\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/å¤šæ¥å£è¯·æ±‚\"},{\"text\":\"HBuilderä½¿ç”¨æ¨¡æ‹Ÿå™¨è°ƒè¯•\",\"link\":\"/learn/æ‚æŠ€æ‹¾è°ˆ/HBuilderä½¿ç”¨æ¨¡æ‹Ÿå™¨è°ƒè¯•\"}]}]}],\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹\":[{\"text\":\"ğŸ” å‰ç«¯ç»„ä»¶å°è£…ç³»åˆ—\",\"collapsible\":true,\"items\":[{\"text\":\"Vueç»„ä»¶è®¾è®¡æŠ€å·§\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/å‰ç«¯ç»„ä»¶å°è£…å®ä¾‹/vueç»„ä»¶è®¾è®¡æŠ€å·§\"},{\"text\":\"å¯¹è¯æ¡†å¼¹çª—ç»„ä»¶\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/å‰ç«¯ç»„ä»¶å°è£…å®ä¾‹/å¯¹è¯æ¡†å¼¹çª—ç»„ä»¶\"},{\"text\":\"è¾“å…¥æ¡†ç»„ä»¶å°è£…\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/å‰ç«¯ç»„ä»¶å°è£…å®ä¾‹/è¾“å…¥æ¡†ç»„ä»¶å°è£…\"}]},{\"text\":\"ğŸ¡ å‰ç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶ä¿®æ”¹æ¡ˆä¾‹å­¦ä¹ \",\"collapsible\":true,\"items\":[{\"text\":\"é€šè¿‡el-selectå®ç°å¤šä¸ªçœç•¥å­¦ä¹ å¦‚ä½•æ”¹é€ ç¬¬ä¸‰æ–¹ç»„ä»¶æ»¡è¶³è‡ªå·±çš„è¦æ±‚\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/å‰ç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶ä¿®æ”¹æ¡ˆä¾‹å­¦ä¹ /é€šè¿‡el-selectå®ç°å¤šä¸ªçœç•¥å­¦ä¹ å¦‚ä½•æ”¹é€ ç¬¬ä¸‰æ–¹ç»„ä»¶æ»¡è¶³è‡ªå·±çš„è¦æ±‚\"},{\"text\":\"é€šè¿‡el-tableå®ç°å¤šæ•°æ®å®Œç¾æ— é™æ»šåŠ¨æ•ˆæœ\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/å‰ç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶ä¿®æ”¹æ¡ˆä¾‹å­¦ä¹ /é€šè¿‡el-tableå®ç°å¤šæ•°æ®å®Œç¾æ— é™æ»šåŠ¨æ•ˆæœ\"},{\"text\":\"é€šè¿‡el-calendarå®ç°ä¸šåŠ¡\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/å‰ç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶ä¿®æ”¹æ¡ˆä¾‹å­¦ä¹ /é€šè¿‡el-calendarå®ç°ä¸šåŠ¡\"},{\"text\":\"é¡µç åˆ—è¡¨ç»„ä»¶å°è£…æ€è·¯\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/å‰ç«¯ç¬¬ä¸‰æ–¹ç»„ä»¶ä¿®æ”¹æ¡ˆä¾‹å­¦ä¹ /é¡µç åˆ—è¡¨ç»„ä»¶å°è£…æ€è·¯\"}]},{\"text\":\"âœ¨ å‰ç«¯åŠŸèƒ½æ“ä½œæ¨¡å—\",\"collapsible\":true,\"items\":[{\"text\":\"å‰ç«¯æ–‡ä»¶ä¸Šä¼ ä¸ç›¸å…³æ“ä½œ\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/å‰ç«¯åŠŸèƒ½æ“ä½œæ¨¡å—/å‰ç«¯æ–‡ä»¶ä¸Šä¼ ä¸ç›¸å…³æ“ä½œ\"},{\"text\":\"å‰ç«¯ä¸‹è½½åç«¯ä¼ è¾“çš„æ–‡ä»¶\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/å‰ç«¯åŠŸèƒ½æ“ä½œæ¨¡å—/å‰ç«¯ä¸‹è½½åç«¯ä¼ è¾“çš„æ–‡ä»¶\"},{\"text\":\"å‰ç«¯æ“ä½œexcelä¸word\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/å‰ç«¯åŠŸèƒ½æ“ä½œæ¨¡å—/å‰ç«¯æ“ä½œexcelä¸word\"},{\"text\":\"å¯Œæ–‡æœ¬ç¼–è¾‘å™¨\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/å‰ç«¯åŠŸèƒ½æ“ä½œæ¨¡å—/å¯Œæ–‡æœ¬ç¼–è¾‘å™¨\"}]},{\"text\":\"ğŸ¿ æ›´ä¸Šä¸€å±‚æ¥¼\",\"collapsible\":true,\"items\":[{\"text\":\"å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/æ›´ä¸Šä¸€å±‚æ¥¼/å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ\"},{\"text\":\"Canvasæ“ä½œ\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/æ›´ä¸Šä¸€å±‚æ¥¼/Canvasæ“ä½œ\"},{\"text\":\"AxiosäºŒæ¬¡å°è£…\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/æ›´ä¸Šä¸€å±‚æ¥¼/AxiosäºŒæ¬¡å°è£…\"},{\"text\":\"Vueé¡¹ç›®æƒé™æ§åˆ¶\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/æ›´ä¸Šä¸€å±‚æ¥¼/Vueé¡¹ç›®æƒé™æ§åˆ¶\"},{\"text\":\"Vueé¡¹ç›®å¯¹renderå’Œjsxçš„å¦™ç”¨\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/æ›´ä¸Šä¸€å±‚æ¥¼/Vueé¡¹ç›®å¯¹renderå’Œjsxçš„å¦™ç”¨\"},{\"text\":\"æ—¶é—´åˆ‡ç‰‡ä¼˜åŒ–é¡¹ç›®é€Ÿåº¦\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/æ›´ä¸Šä¸€å±‚æ¥¼/æ—¶é—´åˆ‡ç‰‡ä¼˜åŒ–é¡¹ç›®é€Ÿåº¦\"},{\"text\":\"é¡µé¢åŠ è½½æ…¢æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆ\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/æ›´ä¸Šä¸€å±‚æ¥¼/é¡µé¢åŠ è½½æ…¢æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆ\"}]},{\"text\":\"å­¦è€Œæ—¶ä¹ ä¹‹\",\"collapsible\":true,\"items\":[{\"text\":\"æ“ä½œå†…åµŒifrnameä¸ä¼ é€’æ¶ˆæ¯\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/æ“ä½œå†…åµŒifrnameä¸ä¼ é€’æ¶ˆæ¯\"},{\"text\":\"SassåŠ Csså˜é‡å®ç°ç°ä»£å‰ç«¯æ¢è‚¤\",\"link\":\"/learn/å­¦è€Œæ—¶ä¹ ä¹‹/SassåŠ Csså˜é‡å®ç°ç°ä»£å‰ç«¯æ¢è‚¤\"}]}],\"/learn/é¢è¯•é¸­\":[{\"text\":\"ğŸ¦† é¢è¯•é¸­\",\"collapsible\":true,\"items\":[{\"text\":\"(a==1&&a==2&&a==3)\",\"link\":\"/learn/é¢è¯•é¸­/(a==1&&a==2&&a==3)\"},{\"text\":\"æ•°ç»„æ–¹æ³•æ‰‹å†™åŸç†\",\"link\":\"/learn/é¢è¯•é¸­/æ•°ç»„æ–¹æ³•æ‰‹å†™åŸç†\"},{\"text\":\"å…³äºforEachä½¿ç”¨breakè·³å‡ºå¾ªç¯\",\"link\":\"/learn/é¢è¯•é¸­/å…³äºforEachä½¿ç”¨breakè·³å‡ºå¾ªç¯\"},{\"text\":\"æ‰‹å†™å°è£…AJAX\",\"link\":\"/learn/é¢è¯•é¸­/æ‰‹å†™å°è£…AJAX\"},{\"text\":\"æ•°ç»„å»é‡\",\"link\":\"/learn/é¢è¯•é¸­/æ•°ç»„å»é‡\"},{\"text\":\"jsæ‰§è¡Œé¡ºåº\",\"link\":\"/learn/é¢è¯•é¸­/jsæ‰§è¡Œé¡ºåº\"}]}],\"/help\":[{\"text\":\"ğŸ“´ æœ‰ç”¨çš„å¸®åŠ©\",\"collapsible\":true,\"items\":[{\"text\":\"ğŸƒ å¼€å‘å¸®åŠ©\",\"link\":\"/help/\"},{\"text\":\"ğŸ“• å®˜æ–¹æ–‡æ¡£\",\"link\":\"/help/å®˜æ–¹æ–‡æ¡£\"}]}],\"/project\":[{\"text\":\"é¡¹ç›®\",\"items\":[{\"text\":\"çµæ€\",\"link\":\"/project/lingsi/\"},{\"text\":\"å½©è®¯\",\"link\":\"/project/caixun/elk/\"},{\"text\":\"è‡ªä¸»å­¦ä¹ \",\"link\":\"/project/myself/\"},{\"text\":\"åŠŸèƒ½æ¨¡å—\",\"link\":\"/project/demo/JavaScriptã€å›¾ç‰‡å‹ç¼©ã€\"}]}],\"/project/caixun/elk\":[{\"text\":\"ğŸ² ELK\",\"collapsible\":true,\"items\":[{\"text\":\"ç®€ä»‹\",\"link\":\"/project/caixun/elk/\"},{\"text\":\"æ¥æ”¶åç«¯è¿”å›çš„äºŒè¿›åˆ¶æµæ–‡ä»¶\",\"link\":\"/project/caixun/elk/blob\"},{\"text\":\"vue-coreçš„ä½¿ç”¨\",\"link\":\"/project/caixun/elk/vue_core\"},{\"text\":\"Canvasç»˜åˆ¶è¡¨æ ¼å›¾\",\"link\":\"/project/caixun/elk/canvas_table\"},{\"text\":\"DIVå¯ç¼–è¾‘æ–‡æœ¬\",\"link\":\"/project/caixun/elk/edit_div\"},{\"text\":\"JSONç¼–è¾‘å™¨\",\"link\":\"/project/caixun/elk/edit_JSON\"},{\"text\":\"å¯¼å‡ºPDF\",\"link\":\"/project/caixun/elk/pdf\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/\"}]}],\"/project/lingsi\":[{\"text\":\"çµæ€\",\"items\":[{\"text\":\"ğŸ¶ éŸ³æœäº‘éŸ³\",\"link\":\"/project/lingsi/music/\"},{\"text\":\"ğŸ”§ èŒæŠ€ç½‘\",\"link\":\"/project/lingsi/èŒæŠ€ç½‘/\"},{\"text\":\"ğŸ’´ è§†é¢‘åˆ†é”€\",\"link\":\"/project/lingsi/sale/\"},{\"text\":\"ğŸ§« åæ¶¦æ°´æ³¥\",\"link\":\"/project/lingsi/æ°´æ³¥/\"},{\"text\":\"ğŸ” CRM\",\"link\":\"/project/lingsi/crm/\"},{\"text\":\"ğŸ² ELK\",\"link\":\"/project/lingsi/elk/\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/\"}]}],\"/project/lingsi/sale\":[{\"text\":\"ğŸ’´ è§†é¢‘åˆ†é”€\",\"collapsible\":true,\"items\":[{\"text\":\"ç®€ä»‹\",\"link\":\"/project/lingsi/sale/\"},{\"text\":\"è¯·æ±‚å°è£…\",\"link\":\"/project/lingsi/sale/request\"},{\"text\":\"tokenåˆ·æ–°\",\"link\":\"/project/lingsi/sale/token\"},{\"text\":\"å¾®ä¿¡æˆæƒå¿«æ·ç™»å½•\",\"link\":\"/project/lingsi/sale/è·å–æ‰‹æœºå·\"},{\"text\":\"é™„ä»¶ä¸‹è½½\",\"link\":\"/project/lingsi/sale/preview\"},{\"text\":\"åˆ†äº«\",\"link\":\"/project/lingsi/sale/åˆ†äº«\"},{\"text\":\"å•†åŸ\",\"link\":\"/project/lingsi/sale/å•†åŸ\"},{\"text\":\"è§†é¢‘è½®æ’­\",\"link\":\"/project/lingsi/sale/video\"},{\"text\":\"å›¾ç‰‡ä¸Šä¼ ç»„ä»¶å°è£…\",\"link\":\"/project/lingsi/sale/upload\"},{\"text\":\"å…³æ³¨å…¬ä¼—å·\",\"link\":\"/project/lingsi/sale/å…³æ³¨å…¬ä¼—å·\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/lingsi/\"}]}],\"/project/lingsi/èŒæŠ€ç½‘\":[{\"text\":\"ğŸ”§ èŒæŠ€ç½‘\",\"collapsible\":true,\"items\":[{\"text\":\"ä»‹ç»\",\"link\":\"/project/lingsi/èŒæŠ€ç½‘/\"},{\"text\":\"é¡¹ç›®åˆ›å»º\",\"link\":\"/project/lingsi/èŒæŠ€ç½‘/é¡¹ç›®åˆ›å»º\"},{\"text\":\"vantç»„ä»¶äºŒæ¬¡å°è£…\",\"link\":\"/project/lingsi/èŒæŠ€ç½‘/vantç»„ä»¶äºŒæ¬¡å°è£…\"},{\"text\":\"å¾®ä¿¡æˆæƒ\",\"link\":\"/project/lingsi/èŒæŠ€ç½‘/å¾®ä¿¡æˆæƒ\"},{\"text\":\"ä¸‹è½½é™„ä»¶\",\"link\":\"/project/lingsi/èŒæŠ€ç½‘/ä¸‹è½½é™„ä»¶\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/lingsi/\"}]}],\"/project/lingsi/æ°´æ³¥\":[{\"text\":\"ğŸ§« åæ¶¦æ°´æ³¥\",\"collapsible\":true,\"items\":[{\"text\":\"å¼•è¨€\",\"link\":\"/project/lingsi/æ°´æ³¥/\"},{\"text\":\"å›¾ç‰‡å¯¹æ¯”å¯æ‹–æ‹½è½®å­\",\"link\":\"/project/lingsi/æ°´æ³¥/å›¾ç‰‡å¯¹æ¯”å¯æ‹–æ‹½è½®å­\"},{\"text\":\"vue_color\",\"link\":\"/project/lingsi/æ°´æ³¥/vue_color\"},{\"text\":\"ğŸ­ jeecg\",\"collapsible\":true,\"items\":[{\"text\":\"è¡¨æ ¼è¡Œé€‰ä¸­\",\"link\":\"/project/lingsi/æ°´æ³¥/jeecg/è¡¨æ ¼è¡Œé€‰ä¸­\"},{\"text\":\"æ ‘ç»„ä»¶é»˜è®¤å±•å¼€\",\"link\":\"/project/lingsi/æ°´æ³¥/jeecg/æ ‘ç»„ä»¶é»˜è®¤å±•å¼€\"},{\"text\":\"j-vxe-tableæ­é…å…¶ä»–ç»„ä»¶\",\"link\":\"/project/lingsi/æ°´æ³¥/jeecg/j-vxe-tableæ­é…å…¶ä»–ç»„ä»¶\"}]},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/lingsi/\"}]}],\"/project/lingsi/music\":[{\"text\":\" ğŸ“± APP\",\"collapsible\":true,\"items\":[{\"text\":\"ç™»å½•\",\"link\":\"/project/lingsi/music/APP/login\"},{\"text\":\"tabbar\",\"link\":\"/project/lingsi/music/APP/tabbar\"},{\"text\":\"è¯¦æƒ…\",\"link\":\"/project/lingsi/music/APP/detail\"},{\"text\":\"åˆ†äº«\",\"link\":\"/project/lingsi/music/APP/share\"},{\"text\":\"æµ‹è¯•\",\"link\":\"/project/lingsi/music/APP/test\"},{\"text\":\"æ“ä½œ\",\"link\":\"/project/lingsi/music/APP/do\"},{\"text\":\"å•†å“\",\"link\":\"/project/lingsi/music/APP/sku\"},{\"text\":\"æ”¯ä»˜\",\"link\":\"/project/lingsi/music/APP/pay\"},{\"text\":\"æ›´æ–°\",\"link\":\"/project/lingsi/music/APP/update\"},{\"text\":\"ä¸ªäºº\",\"link\":\"/project/lingsi/music/APP/userinfo\"}]},{\"text\":\"ğŸ’» H5\",\"collapsible\":true,\"items\":[{\"text\":\"æµ·æŠ¥é¡µ\",\"link\":\"/project/lingsi/music/H5/\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/lingsi/\"}]}],\"/project/lingsi/crm\":[{\"text\":\"ğŸ” crm\",\"collapsible\":true,\"items\":[{\"text\":\"ç®€ä»‹\",\"link\":\"/project/lingsi/crm/\"},{\"text\":\"æ‹¨æ‰“ç”µè¯\",\"link\":\"/project/lingsi/crm/call\"},{\"text\":\"navigateBackä¼ å‚\",\"link\":\"/project/lingsi/crm/navigateBack\"},{\"text\":\"åŸŸåé…ç½®\",\"link\":\"/project/lingsi/crm/éƒ¨ç½²\"},{\"text\":\"å¾®ä¿¡æˆæƒ\",\"link\":\"/project/lingsi/crm/å¾®ä¿¡æˆæƒ\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/lingsi/\"}]}],\"/project/demo\":[{\"text\":\"âš™ åŠŸèƒ½æ¨¡å—\",\"collapsible\":true,\"items\":[{\"text\":\"JavaScriptã€å›¾ç‰‡å‹ç¼©ã€\",\"link\":\"/project/demo/JavaScriptã€å›¾ç‰‡å‹ç¼©ã€\"},{\"text\":\"å–è‰²å™¨å°è£…\",\"link\":\"/project/demo/å–è‰²å™¨å°è£…\"},{\"text\":\"ç½‘ç«™è®¿é—®ç”¨æˆ·æ–‡ä»¶å¤¹\",\"link\":\"/project/demo/ç½‘ç«™è®¿é—®ç”¨æˆ·æ–‡ä»¶å¤¹\"},{\"text\":\"è¿…é›·ä¸‹è½½è§¦å‘\",\"link\":\"/project/demo/è¿…é›·ä¸‹è½½è§¦å‘\"},{\"text\":\"resizeå‡½æ•°å°è£…\",\"link\":\"/project/demo/resizeå‡½æ•°å°è£…\"},{\"text\":\"å£°éŸ³çš„åˆ†æå’Œå¤„ç†\",\"link\":\"/project/demo/å£°éŸ³çš„åˆ†æå’Œå¤„ç†\"},{\"text\":\"ç½‘ç»œçŠ¶æ€ç›‘æ§\",\"link\":\"/project/demo/ç½‘ç»œçŠ¶æ€ç›‘æ§\"},{\"text\":\"é¡µé¢è‡ªåŠ¨æ£€æµ‹æ›´æ–°\",\"link\":\"/project/demo/é¡µé¢è‡ªåŠ¨æ£€æµ‹æ›´æ–°\"},{\"text\":\"æ•°å­—è½¬ä¸­æ–‡\",\"link\":\"/project/demo/æ•°å­—è½¬ä¸­æ–‡\"},{\"text\":\"æ‹¼éŸ³æ ‡æ³¨\",\"link\":\"/project/demo/æ‹¼éŸ³æ ‡æ³¨\"},{\"text\":\"æ–‡å­—è½¬è¯­éŸ³æ’­æ”¾\",\"link\":\"/project/demo/æ–‡å­—è½¬è¯­éŸ³æ’­æ”¾\"},{\"text\":\"åœ°å›¾æ•°æ®å±•ç¤º\",\"link\":\"/project/demo/åœ°å›¾æ•°æ®å±•ç¤º\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/\"}]}],\"/project/myself\":[{\"text\":\"ğŸ“• è‡ªä¸»å­¦ä¹ \",\"collapsible\":true,\"items\":[{\"text\":\"ğŸ“• å¼•è¨€\",\"link\":\"/project/myself/\"},{\"text\":\"ğŸ‡ å°å…”é²œ\",\"link\":\"/project/myself/å°å…”é²œ/inweb/all\"},{\"text\":\"ğŸ‚ ç¡…è°·ç”„é€‰\",\"link\":\"/project/myself/ç¡…è°·ç”„é€‰/\"},{\"text\":\"â›‘ å°šåŒ»é€š\",\"link\":\"/project/myself/å°šåŒ»é€š/\"},{\"text\":\"ğŸ reactåå°\",\"link\":\"/project/myself/reactåå°/\"},{\"text\":\"ğŸ“° çŸ¥ä¹æ—¥æŠ¥\",\"link\":\"/project/myself/çŸ¥ä¹æ—¥æŠ¥/reactç‰ˆ/\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/\"}]}],\"/project/myself/å°å…”é²œ\":[{\"text\":\"ğŸ‡ å°å…”é²œ\",\"collapsible\":true,\"items\":[{\"text\":\"Web ç«¯\",\"collapsible\":true,\"items\":[{\"text\":\"é¡¹ç›®ä»‹ç»\",\"link\":\"/project/myself/å°å…”é²œ/inweb/all\"},{\"text\":\"é¡¹ç›®åˆ›å»º\",\"link\":\"/project/myself/å°å…”é²œ/inweb/\"},{\"text\":\"Layout\",\"link\":\"/project/myself/å°å…”é²œ/inweb/layout\"},{\"text\":\"Home\",\"link\":\"/project/myself/å°å…”é²œ/inweb/home\"},{\"text\":\"åˆ†ç±»\",\"link\":\"/project/myself/å°å…”é²œ/inweb/ä¸€çº§åˆ†ç±»\"},{\"text\":\"è¯¦æƒ…\",\"link\":\"/project/myself/å°å…”é²œ/inweb/detail\"},{\"text\":\"ç™»å½•\",\"link\":\"/project/myself/å°å…”é²œ/inweb/login\"},{\"text\":\"è´­ç‰©è½¦\",\"link\":\"/project/myself/å°å…”é²œ/inweb/è´­ç‰©è½¦\"},{\"text\":\"Skuæ€è·¯\",\"link\":\"/project/myself/å°å…”é²œ/inweb/sku\"}]},{\"text\":\"uniapp è·¨ç«¯\",\"collapsible\":true,\"items\":[{\"text\":\"é¡¹ç›®åˆå§‹åŒ–\",\"link\":\"/project/myself/å°å…”é²œ/inuni/\"},{\"text\":\"é¦–é¡µ\",\"link\":\"/project/myself/å°å…”é²œ/inuni/home\"},{\"text\":\"çŒœä½ å–œæ¬¢\",\"link\":\"/project/myself/å°å…”é²œ/inuni/guess\"},{\"text\":\"ç™»å½•\",\"link\":\"/project/myself/å°å…”é²œ/inuni/login\"},{\"text\":\"åˆ†åŒ…\",\"link\":\"/project/myself/å°å…”é²œ/inuni/pagesmember\"},{\"text\":\"è®¢å•è¯¦æƒ…\",\"link\":\"/project/myself/å°å…”é²œ/inuni/detail\"},{\"text\":\"æ‰“åŒ…\",\"link\":\"/project/myself/å°å…”é²œ/inuni/build\"}]},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/myself/\"}]}],\"/project/myself/ç¡…è°·ç”„é€‰\":[{\"text\":\"ğŸ‚ ç¡…è°·ç”„é€‰\",\"collapsible\":true,\"items\":[{\"text\":\"é¡¹ç›®åˆå§‹åŒ–\",\"link\":\"/project/myself/ç¡…è°·ç”„é€‰/\"},{\"text\":\"è·¯ç”±æ¨¡å—\",\"link\":\"/project/myself/ç¡…è°·ç”„é€‰/è·¯ç”±\"},{\"text\":\"çŠ¶æ€ç®¡ç†\",\"link\":\"/project/myself/ç¡…è°·ç”„é€‰/çŠ¶æ€ç®¡ç†\"},{\"text\":\"å±æ€§ç®¡ç†\",\"link\":\"/project/myself/ç¡…è°·ç”„é€‰/å±æ€§ç®¡ç†\"},{\"text\":\"SPUç®¡ç†\",\"link\":\"/project/myself/ç¡…è°·ç”„é€‰/SPUç®¡ç†\"},{\"text\":\"è®¾ç½®\",\"link\":\"/project/myself/ç¡…è°·ç”„é€‰/è®¾ç½®\"},{\"text\":\"æ•°æ®å¤§å±\",\"link\":\"/project/myself/ç¡…è°·ç”„é€‰/æ•°æ®å¤§å±\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/myself/\"}]}],\"/project/myself/å°šåŒ»é€š\":[{\"text\":\"â›‘ å°šåŒ»é€š\",\"collapsible\":true,\"items\":[{\"text\":\"é¡¹ç›®åˆå§‹åŒ–\",\"link\":\"/project/myself/å°šåŒ»é€š/\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/myself/\"}]}],\"/project/myself/reactåå°\":[{\"text\":\"ğŸ reactåå°\",\"collapsible\":true,\"items\":[{\"text\":\"é¡¹ç›®åˆå§‹åŒ–\",\"link\":\"/project/myself/reactåå°/\"},{\"text\":\"èœå•æ é…ç½®\",\"link\":\"/project/myself/reactåå°/menu\"},{\"text\":\"ä»“åº“é…ç½®\",\"link\":\"/project/myself/reactåå°/redux\"},{\"text\":\"è·¯ç”±å®ˆå«\",\"link\":\"/project/myself/reactåå°/å®ˆå«\"},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/myself/\"}]}],\"/project/myself/çŸ¥ä¹æ—¥æŠ¥\":[{\"text\":\"ğŸ“° çŸ¥ä¹æ—¥æŠ¥\",\"collapsible\":true,\"items\":[{\"text\":\"Reactç‰ˆ\",\"collapsible\":true,\"items\":[{\"text\":\"é¡¹ç›®åˆå§‹åŒ–\",\"link\":\"/project/myself/çŸ¥ä¹æ—¥æŠ¥/reactç‰ˆ/\"},{\"text\":\"è·¯ç”±é…ç½®\",\"link\":\"/project/myself/çŸ¥ä¹æ—¥æŠ¥/reactç‰ˆ/router\"},{\"text\":\"ä»“åº“é…ç½®\",\"link\":\"/project/myself/çŸ¥ä¹æ—¥æŠ¥/reactç‰ˆ/redux\"},{\"text\":\"æ¥å£é…ç½®\",\"link\":\"/project/myself/çŸ¥ä¹æ—¥æŠ¥/reactç‰ˆ/api\"},{\"text\":\"ç»„ä»¶é…ç½®\",\"link\":\"/project/myself/çŸ¥ä¹æ—¥æŠ¥/reactç‰ˆ/ç»„ä»¶\"}]},{\"text\":\"Vue3+TSç‰ˆ\",\"collapsible\":true,\"items\":[]},{\"text\":\"ğŸ—‘ è¿”å›\",\"link\":\"/project/myself/\"}]}],\"/vitePress\":[{\"text\":\"ğŸ§Š éƒ¨ç½²\",\"collapsible\":true,\"items\":[{\"text\":\"ğŸŒ©ï¸ å¼•è¨€\",\"link\":\"/vitePress/\"},{\"text\":\"ğŸ§© æ­å»º\",\"link\":\"/vitePress/Dev\"},{\"text\":\"ğŸ æ‰“åŒ…\",\"link\":\"/vitePress/Build\"},{\"text\":\"â³ éƒ¨ç½²\",\"link\":\"/vitePress/Deploy\"},{\"text\":\"âœ¨ æ‹“å±•\",\"link\":\"/vitePress/Know\"}]}],\"/about\":[{\"text\":\"â­ å…³äº\",\"collapsible\":true,\"items\":[{\"text\":\"ğŸ§‘ å…³äºæˆ‘\",\"link\":\"/about/\"},{\"text\":\"ğŸ”ª å…³äºåˆ€åˆ€å°ç«™\",\"link\":\"/about/blog\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://gitee.com/duyidao\"}],\"footer\":{\"copyright\":\"Copyright Â© 2023-present æœä¸€åˆ€\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>