## ç¬¬åç«  Symbol

åœ¨æœ¬ç« èŠ‚é˜®ä¸€å³°è€å¸ˆå°± `Symbol` çš„å®šä¹‰å’Œä½œç”¨å±•å¼€æè¿°ï¼Œå…¶ä¸­é‡ç‚¹è®²è§£äº†æ¦‚è¿°ã€å±æ€§åéå†ã€`for()` å’Œ `keyFor()` æ–¹æ³•ï¼Œæœ€åæ¥ä¸¤ä¸ªå®ä¾‹ã€‚

### æ¦‚è¿°

åœ¨ ES5 æ—¶ï¼Œå¦‚æœä½¿ç”¨äº†ä»–äººçš„æ•°æ®å¯¹è±¡ï¼Œä½†åˆæƒ³æ·»åŠ è‡ªå·±çš„æ•°æ®ï¼Œå¾ˆå®¹æ˜“ä¼šå› ä¸ºå±æ€§åå†²çªè€Œå¯¼è‡´æ•°æ®è¦†ç›–ã€‚å› ä¸º ES5 å¯¹è±¡çš„å±æ€§åéƒ½æ˜¯å­—ç¬¦ä¸²å‹ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES6 æ¨å‡ºäº† Symbolï¼Œä»–æ˜¯ç¬¬7ç§æ•°æ®ç±»å‹ã€‚

> ğŸ“¦ æ‹“å±•
>
> å‰6ç§æ•°æ®ç±»å‹åˆ†åˆ«æ˜¯ undefinedã€nullã€å¸ƒå°”å€¼ï¼ˆbooleanï¼‰ã€å­—ç¬¦ä¸²ï¼ˆstringï¼‰ã€æ•°å€¼ï¼ˆnumberï¼‰ã€å¯¹è±¡ï¼ˆobjectï¼‰ã€‚

é€šè¿‡ Symbol å‡½æ•°ç”Ÿæˆï¼Œæ˜¯ç¬¬ä¸€æ— äºŒçš„ï¼Œä¸ä¼šä¸å…¶ä»–å±æ€§åé€ æˆå†²çªã€‚å¯ä»¥æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸»è¦ç”¨äºæ§åˆ¶å°æ‰“å°åŒºåˆ†ã€‚

```js
let s = Symbol()
let b = Symbol('bar')

console.log(typeof s) // symbol
console.log(typeof b) // symbol(bar)
```

> âš ï¸ æ³¨æ„
>
> Symbol å‡½æ•°å‰ä¸èƒ½ä½¿ç”¨ new å‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ¥é”™ è¿™æ˜¯å› ä¸ºç”Ÿæˆçš„ Symbol æ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹çš„å€¼ï¼Œä¸æ˜¯å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç”±äº Symbol å€¼ä¸æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½æ·»åŠ å±æ€§ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒæ˜¯ ä¸€ç§ç±»ä¼¼äºå­—ç¬¦ä¸²çš„æ•°æ®ç±»å‹ã€‚

è‹¥ Symbol çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä¼šè°ƒç”¨å¯¹è±¡çš„ toString æ–¹æ³•è½¬ä¸ºå­—ç¬¦ä¸²åå†ç”Ÿæˆ Symbol å€¼ã€‚

```js
const obj = {
  toString() {
    return 'abc'
  }
}

const sym = Symbol(obj)
console.log(sym) // Symbol(abc)
```

Symbol å‡½æ•°çš„å‚æ•°åªè¡¨ç¤ºå¯¹å½“å‰ Symbol å€¼çš„æè¿°ï¼Œå› æ­¤ç›¸åŒå‚æ•°çš„ Symbol å‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸ç›¸ç­‰çš„ã€‚

```js
const s1 = Symbol()
const s2 = Symbol()

s1 === s2 // false

const b1 = Symbol('bar')
const b2 = Symbol('bar')

b1 === b2 // false
```

æœ€åï¼ŒSymbol ä¸å¯ä»¥å‚ä¸è¿ç®—ï¼Œå¯ä»¥è½¬ä¸ºå¸ƒå°”å€¼å’Œå­—ç¬¦ä¸²ï¼Œä¸å¯è½¬ä¸ºæ•°å€¼ã€‚

```js
const sym = Symbol('abc')

console.log('symbol is:' + sym) // Uncaught TypeError: Cannot convert a Symbol value to a string

console.log(`symbol is: ${sym}`) // Uncaught TypeError: Cannot convert a Symbol value to a string

console.log(String(sym)) // abc
console.log(sym.toString()) // abc

console.log(Boolean(sym)) // true
console.log(!sym) // false
```

### ä½œä¸ºå±æ€§åçš„Symbol

### å®ä¾‹ï¼šæ¶ˆé™¤é­”æœ¯å­—ç¬¦ä¸²

å±æ€§åçš„éå†

Symbol.for()ã€Symbol.keyFor()

å®ä¾‹ï¼šæ¨¡å—çš„Singletonæ¨¡å¼

å†…ç½®çš„Symbolå€¼